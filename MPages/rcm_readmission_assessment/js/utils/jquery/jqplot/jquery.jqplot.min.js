(function($){var undefined;$.jqplot=function(target,data,options){var _data,_options;if(data==null){throw"No data specified";}if(data.constructor==Array&&data.length==0||data[0].constructor!=Array){throw"Improper Data Array";}if(options==null){if(data instanceof Array){_data=data;_options=null;}else if(data.constructor==Object){_data=null;_options=data;}}else{_data=data;_options=options;}var plot=new jqPlot();plot.init(target,_data,_options);plot.draw();return plot;};$.jqplot.debug=1;$.jqplot.config={debug:1,enablePlugins:true,defaultHeight:300,defaultWidth:400};$.jqplot.enablePlugins=$.jqplot.config.enablePlugins;$.jqplot.preInitHooks=[];$.jqplot.postInitHooks=[];$.jqplot.preParseOptionsHooks=[];$.jqplot.postParseOptionsHooks=[];$.jqplot.preDrawHooks=[];$.jqplot.postDrawHooks=[];$.jqplot.preDrawSeriesHooks=[];$.jqplot.postDrawSeriesHooks=[];$.jqplot.preDrawLegendHooks=[];$.jqplot.addLegendRowHooks=[];$.jqplot.preSeriesInitHooks=[];$.jqplot.postSeriesInitHooks=[];$.jqplot.preParseSeriesOptionsHooks=[];$.jqplot.postParseSeriesOptionsHooks=[];$.jqplot.eventListenerHooks=[];$.jqplot.preDrawSeriesShadowHooks=[];$.jqplot.postDrawSeriesShadowHooks=[];$.jqplot.ElemContainer=function(){this._elem;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};};$.jqplot.ElemContainer.prototype.getWidth=function(){if(this._elem){return this._elem.outerWidth(true);}else{return null;}};$.jqplot.ElemContainer.prototype.getHeight=function(){if(this._elem){return this._elem.outerHeight(true);}else{return null;}};$.jqplot.ElemContainer.prototype.getPosition=function(){if(this._elem){return this._elem.position();}else{return{top:null,left:null,bottom:null,right:null};}};$.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top;};$.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left;};$.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css('bottom');};$.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css('right');};function Axis(name){$.jqplot.ElemContainer.call(this);this.name=name;this._series=[];this.show=false;this.tickRenderer=$.jqplot.AxisTickRenderer;this.tickOptions={};this.labelRenderer=$.jqplot.AxisLabelRenderer;this.labelOptions={};this.label=null;this.showLabel=true;this.min=null;this.max=null;this.autoscale=false;this.autoscaleOnZoom=null;this.pad=1.2;this.padMax=null;this.padMin=null;this.ticks=[];this.numberTicks;this.tickInterval;this.renderer=$.jqplot.LinearAxisRenderer;this.rendererOptions={};this.showTicks=true;this.showTickMarks=true;this.showMinorTicks=true;this.useSeriesColor=false;this.borderWidth=null;this.borderColor=null;this._dataBounds={min:null,max:null};this._offsets={min:null,max:null};this._ticks=[];this._label=null;this.syncTicks=null;this.tickSpacing=75;this._min=null;this._max=null;this._tickInterval=null;this._numberTicks=null;this.__ticks=null;}Axis.prototype=new $.jqplot.ElemContainer();Axis.prototype.constructor=Axis;Axis.prototype.init=function(){this.renderer=new this.renderer();this.tickOptions.axis=this.name;if(this.label==null||this.label==''){this.showLabel=false;}else{this.labelOptions.label=this.label;}if(this.showLabel==false){this.labelOptions.show=false;}if(this.pad==0){this.pad=1.0;}if(this.padMax==0){this.padMax=1.0;}if(this.padMin==0){this.padMin=1.0;}if(this.padMax==null){this.padMax=(this.pad-1)/2+1;}if(this.padMin==null){this.padMin=(this.pad-1)/2+1;}this.pad=this.padMax+this.padMin-1;if(this.min!=null||this.max!=null){this.autoscale=false;}if(this.syncTicks==null&&this.name.indexOf('y')>-1){this.syncTicks=true;}else if(this.syncTicks==null){this.syncTicks=false;}this.renderer.init.call(this,this.rendererOptions);};Axis.prototype.draw=function(ctx){return this.renderer.draw.call(this,ctx);};Axis.prototype.set=function(){this.renderer.set.call(this);};Axis.prototype.pack=function(pos,offsets){if(this.show){this.renderer.pack.call(this,pos,offsets);}if(this._min==null){this._min=this.min;this._max=this.max;this._tickInterval=this.tickInterval;this._numberTicks=this.numberTicks;this.__ticks=this._ticks;}};Axis.prototype.reset=function(){this.renderer.reset.call(this);};Axis.prototype.resetScale=function(){this.min=null;this.max=null;this.numberTicks=null;this.tickInterval=null;};function Legend(options){$.jqplot.ElemContainer.call(this);this.show=false;this.location='ne';this.xoffset=12;this.yoffset=12;this.border;this.background;this.textColor;this.fontFamily;this.fontSize;this.rowSpacing='0.5em';this.renderer=$.jqplot.TableLegendRenderer;this.rendererOptions={};this.preDraw=false;this.escapeHtml=false;this._series=[];$.extend(true,this,options);}Legend.prototype=new $.jqplot.ElemContainer();Legend.prototype.constructor=Legend;Legend.prototype.init=function(){this.renderer=new this.renderer();this.renderer.init.call(this,this.rendererOptions);};Legend.prototype.draw=function(offsets){for(var i=0;i<$.jqplot.preDrawLegendHooks.length;i++){$.jqplot.preDrawLegendHooks[i].call(this,offsets);}return this.renderer.draw.call(this,offsets);};Legend.prototype.pack=function(offsets){this.renderer.pack.call(this,offsets);};function Title(text){$.jqplot.ElemContainer.call(this);this.text=text;this.show=true;this.fontFamily;this.fontSize;this.textAlign;this.textColor;this.renderer=$.jqplot.DivTitleRenderer;this.rendererOptions={};}Title.prototype=new $.jqplot.ElemContainer();Title.prototype.constructor=Title;Title.prototype.init=function(){this.renderer=new this.renderer();this.renderer.init.call(this,this.rendererOptions);};Title.prototype.draw=function(width){return this.renderer.draw.call(this,width);};Title.prototype.pack=function(){this.renderer.pack.call(this);};function Series(){$.jqplot.ElemContainer.call(this);this.show=true;this.xaxis='xaxis';this._xaxis;this.yaxis='yaxis';this._yaxis;this.gridBorderWidth=2.0;this.renderer=$.jqplot.LineRenderer;this.rendererOptions={};this.data=[];this.gridData=[];this.label='';this.showLabel=true;this.color;this.lineWidth=2.5;this.shadow=true;this.shadowAngle=45;this.shadowOffset=1.25;this.shadowDepth=3;this.shadowAlpha='0.1';this.breakOnNull=false;this.markerRenderer=$.jqplot.MarkerRenderer;this.markerOptions={};this.showLine=true;this.showMarker=true;this.index;this.fill=false;this.fillColor;this.fillAlpha;this.fillAndStroke=false;this.disableStack=false;this._stack=false;this.neighborThreshold=4;this.fillToZero=false;this.fillAxis='y';this.useNegativeColors=true;this._stackData=[];this._plotData=[];this._plotValues={x:[],y:[]};this._intervals={x:{},y:{}};this._prevPlotData=[];this._prevGridData=[];this._stackAxis='y';this._primaryAxis='_xaxis';this.canvas=new $.jqplot.GenericCanvas();this.shadowCanvas=new $.jqplot.GenericCanvas();this.plugins={};this._sumy=0;this._sumx=0;this.minX=null;this.maxX=null;this.minY=null;this.maxY=null;}Series.prototype=new $.jqplot.ElemContainer();Series.prototype.constructor=Series;Series.prototype.init=function(index,gridbw,plot){this.index=index;this.gridBorderWidth=gridbw;var d=this.data;for(var i=0;i<d.length;i++){if(!this.breakOnNull){if(d[i]==null||d[i][0]==null||d[i][1]==null){d.splice(i,1);continue;}}else{if(d[i]==null||d[i][0]==null||d[i][1]==null){var undefined;}}}if(!this.fillColor){this.fillColor=this.color;}if(this.fillAlpha){var comp=$.jqplot.normalize2rgb(this.fillColor);var comp=$.jqplot.getColorComponents(comp);this.fillColor='rgba('+comp[0]+','+comp[1]+','+comp[2]+','+this.fillAlpha+')';}this.renderer=new this.renderer();this.renderer.init.call(this,this.rendererOptions,plot);this.markerRenderer=new this.markerRenderer();if(!this.markerOptions.color){this.markerOptions.color=this.color;}if(this.markerOptions.show==null){this.markerOptions.show=this.showMarker;}this.markerRenderer.init(this.markerOptions);};Series.prototype.draw=function(sctx,opts,plot){var options=(opts==undefined)?{}:opts;sctx=(sctx==undefined)?this.canvas._ctx:sctx;for(var j=0;j<$.jqplot.preDrawSeriesHooks.length;j++){$.jqplot.preDrawSeriesHooks[j].call(this,sctx,options);}if(this.show){this.renderer.setGridData.call(this,plot);if(!options.preventJqPlotSeriesDrawTrigger){$(sctx.canvas).trigger('jqplotSeriesDraw',[this.data,this.gridData]);}var data=[];if(options.data){data=options.data;}else if(!this._stack){data=this.data;}else{data=this._plotData;}var gridData=options.gridData||this.renderer.makeGridData.call(this,data,plot);this.renderer.draw.call(this,sctx,gridData,options);}for(var j=0;j<$.jqplot.postDrawSeriesHooks.length;j++){$.jqplot.postDrawSeriesHooks[j].call(this,sctx,options);}};Series.prototype.drawShadow=function(sctx,opts,plot){var options=(opts==undefined)?{}:opts;sctx=(sctx==undefined)?this.shadowCanvas._ctx:sctx;for(var j=0;j<$.jqplot.preDrawSeriesShadowHooks.length;j++){$.jqplot.preDrawSeriesShadowHooks[j].call(this,sctx,options);}if(this.shadow){this.renderer.setGridData.call(this,plot);var data=[];if(options.data){data=options.data;}else if(!this._stack){data=this.data;}else{data=this._plotData;}var gridData=options.gridData||this.renderer.makeGridData.call(this,data,plot);this.renderer.drawShadow.call(this,sctx,gridData,options);}for(var j=0;j<$.jqplot.postDrawSeriesShadowHooks.length;j++){$.jqplot.postDrawSeriesShadowHooks[j].call(this,sctx,options);}};function Grid(){$.jqplot.ElemContainer.call(this);this.drawGridlines=true;this.gridLineColor='#cccccc';this.gridLineWidth=1.0;this.background='#fffdf6';this.borderColor='#999999';this.borderWidth=2.0;this.shadow=true;this.shadowAngle=45;this.shadowOffset=1.5;this.shadowWidth=3;this.shadowDepth=3;this.shadowAlpha='0.07';this._left;this._top;this._right;this._bottom;this._width;this._height;this._axes=[];this.renderer=$.jqplot.CanvasGridRenderer;this.rendererOptions={};this._offsets={top:null,bottom:null,left:null,right:null};}Grid.prototype=new $.jqplot.ElemContainer();Grid.prototype.constructor=Grid;Grid.prototype.init=function(){this.renderer=new this.renderer();this.renderer.init.call(this,this.rendererOptions);};Grid.prototype.createElement=function(offsets){this._offsets=offsets;return this.renderer.createElement.call(this);};Grid.prototype.draw=function(){this.renderer.draw.call(this);};$.jqplot.GenericCanvas=function(){$.jqplot.ElemContainer.call(this);this._ctx;};$.jqplot.GenericCanvas.prototype=new $.jqplot.ElemContainer();$.jqplot.GenericCanvas.prototype.constructor=$.jqplot.GenericCanvas;$.jqplot.GenericCanvas.prototype.createElement=function(offsets,clss,plotDimensions){this._offsets=offsets;var klass='jqplot';if(clss!=undefined){klass=clss;}var elem=document.createElement('canvas');if(plotDimensions!=undefined){this._plotDimensions=plotDimensions;}elem.width=this._plotDimensions.width-this._offsets.left-this._offsets.right;elem.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom;this._elem=$(elem);this._elem.addClass(klass);this._elem.css({position:'absolute',left:this._offsets.left,top:this._offsets.top});if($.browser.msie){window.G_vmlCanvasManager.init_(document);}if($.browser.msie){elem=window.G_vmlCanvasManager.initElement(elem);}return this._elem;};$.jqplot.GenericCanvas.prototype.setContext=function(){this._ctx=this._elem.get(0).getContext("2d");return this._ctx;};function jqPlot(){this.data=[];this.targetId=null;this.graphName='graph';this.performOnPlot=function(){};this.performAfterPlot=function(){};this.target=null;this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{}},seriesDefaults:{},gridPadding:{top:10,right:10,bottom:23,left:10},series:[]};this.series=[];this.axes={xaxis:new Axis('xaxis'),yaxis:new Axis('yaxis'),x2axis:new Axis('x2axis'),y2axis:new Axis('y2axis'),y3axis:new Axis('y3axis'),y4axis:new Axis('y4axis'),y5axis:new Axis('y5axis'),y6axis:new Axis('y6axis'),y7axis:new Axis('y7axis'),y8axis:new Axis('y8axis'),y9axis:new Axis('y9axis')};this.grid=new Grid();this.legend=new Legend();this.baseCanvas=new $.jqplot.GenericCanvas();this.eventCanvas=new $.jqplot.GenericCanvas();this._width=null;this._height=null;this._plotDimensions={height:null,width:null};this._gridPadding={top:10,right:10,bottom:10,left:10};this.syncXTicks=true;this.syncYTicks=true;this.seriesColors=["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"];this.negativeSeriesColors=["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"];this.sortData=true;var seriesColorsIndex=0;this.textColor;this.fontFamily;this.fontSize;this.title=new Title();this.options={};this.stackSeries=false;this._stackData=[];this._plotData=[];this.plugins={};this._drawCount=0;this.drawIfHidden=false;this._sumy=0;this._sumx=0;this.colorGenerator=$.jqplot.ColorGenerator;this.init=function(target,data,options){for(var i=0;i<$.jqplot.preInitHooks.length;i++){$.jqplot.preInitHooks[i].call(this,target,data,options);}if(options){if(options.graphName)this.graphName=options.graphName;if(options.performOnPlot)this.performOnPlot=options.performOnPlot;if(options.performAfterPlot)this.performAfterPlot=options.performAfterPlot;}this.targetId='#'+target;this.target=$('#'+target);if(!this.target.get(0)){throw"No plot target specified";}if(this.target.css('position')=='static'){this.target.css('position','relative');}if(!this.target.hasClass('jqplot-target')){this.target.addClass('jqplot-target');}if(!this.target.height()){var h;if(options&&options.height){h=parseInt(options.height,10);}else if(this.target.attr('data-height')){h=parseInt(this.target.attr('data-height'),10);}else{h=parseInt($.jqplot.config.defaultHeight,10);}this._height=h;this.target.css('height',h+'px');}else{this._height=this.target.height();}if(!this.target.width()){var w;if(options&&options.width){w=parseInt(options.width,10);}else if(this.target.attr('data-width')){w=parseInt(this.target.attr('data-width'),10);}else{w=parseInt($.jqplot.config.defaultWidth,10);}this._width=w;this.target.css('width',w+'px');}else{this._width=this.target.width();}this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;if(this._height<=0||this._width<=0||!this._height||!this._width){throw"Canvas dimension not set";}this.data=data;this.parseOptions(options);if(this.textColor){this.target.css('color',this.textColor);}if(this.fontFamily){this.target.css('font-family',this.fontFamily);}if(this.fontSize){this.target.css('font-size',this.fontSize);}this.title.init();this.legend.init();this._sumy=0;this._sumx=0;for(var i=0;i<this.series.length;i++){this.series[i].shadowCanvas._plotDimensions=this._plotDimensions;this.series[i].canvas._plotDimensions=this._plotDimensions;for(var j=0;j<$.jqplot.preSeriesInitHooks.length;j++){$.jqplot.preSeriesInitHooks[j].call(this.series[i],target,data,this.options.seriesDefaults,this.options.series[i]);}this.populatePlotData(this.series[i],i);this.series[i]._plotDimensions=this._plotDimensions;this.series[i].init(i,this.grid.borderWidth,this);for(var j=0;j<$.jqplot.postSeriesInitHooks.length;j++){$.jqplot.postSeriesInitHooks[j].call(this.series[i],target,data,this.options.seriesDefaults,this.options.series[i]);}this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx;}for(var name in this.axes){this.axes[name]._plotDimensions=this._plotDimensions;this.axes[name].init();}if(this.sortData){sortData(this.series);}this.grid.init();this.grid._axes=this.axes;this.legend._series=this.series;for(var i=0;i<$.jqplot.postInitHooks.length;i++){$.jqplot.postInitHooks[i].call(this,target,data,options);}};this.resetAxesScale=function(axes){var ax=(axes!=undefined)?axes:this.axes;if(ax===true){ax=this.axes;}if(ax.constructor===Array){for(var i=0;i<ax.length;i++){this.axes[ax[i]].resetScale();}}else if(ax.constructor===Object){for(var name in ax){this.axes[name].resetScale();}}};this.reInitialize=function(){if(!this.target.height()){var h;if(options&&options.height){h=parseInt(options.height,10);}else if(this.target.attr('data-height')){h=parseInt(this.target.attr('data-height'),10);}else{h=parseInt($.jqplot.config.defaultHeight,10);}this._height=h;this.target.css('height',h+'px');}else{this._height=this.target.height();}if(!this.target.width()){var w;if(options&&options.width){w=parseInt(options.width,10);}else if(this.target.attr('data-width')){w=parseInt(this.target.attr('data-width'),10);}else{w=parseInt($.jqplot.config.defaultWidth,10);}this._width=w;this.target.css('width',w+'px');}else{this._width=this.target.width();}if(this._height<=0||this._width<=0||!this._height||!this._width){throw"Target dimension not set";}this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;for(var n in this.axes){var axis=this.axes[n];axis._plotWidth=this._width;axis._plotHeight=this._height;}this.title._plotWidth=this._width;if(this.textColor){this.target.css('color',this.textColor);}if(this.fontFamily){this.target.css('font-family',this.fontFamily);}if(this.fontSize){this.target.css('font-size',this.fontSize);}this._sumy=0;this._sumx=0;for(var i=0;i<this.series.length;i++){this.populatePlotData(this.series[i],i);this.series[i]._plotDimensions=this._plotDimensions;this.series[i].canvas._plotDimensions=this._plotDimensions;this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx;}for(var name in this.axes){this.axes[name]._plotDimensions=this._plotDimensions;this.axes[name]._ticks=[];this.axes[name].renderer.init.call(this.axes[name],{});}if(this.sortData){sortData(this.series);}this.grid._axes=this.axes;this.legend._series=this.series;};function sortData(series){var d,ret;for(var i=0;i<series.length;i++){d=series[i].data;var check=true;if(series[i]._stackAxis=='x'){for(var j=0;j<d.length;j++){if(typeof(d[j][1])!="number"){check=false;break;}}if(check){d.sort(function(a,b){return a[1]-b[1];});}}else{for(var j=0;j<d.length;j++){if(typeof(d[j][0])!="number"){check=false;break;}}if(check){d.sort(function(a,b){return a[0]-b[0];});}}}}this.populatePlotData=function(series,index){this._plotData=[];this._stackData=[];series._stackData=[];series._plotData=[];var plotValues={x:[],y:[]};if(this.stackSeries&&!series.disableStack){series._stack=true;var sidx=series._stackAxis=='x'?0:1;var idx=sidx?0:1;var temp=$.extend(true,[],series.data);var plotdata=$.extend(true,[],series.data);for(var j=0;j<index;j++){var cd=this.series[j].data;for(var k=0;k<cd.length;k++){temp[k][0]+=cd[k][0];temp[k][1]+=cd[k][1];plotdata[k][sidx]+=cd[k][sidx];}}for(var i=0;i<plotdata.length;i++){plotValues.x.push(plotdata[i][0]);plotValues.y.push(plotdata[i][1]);}this._plotData.push(plotdata);this._stackData.push(temp);series._stackData=temp;series._plotData=plotdata;series._plotValues=plotValues;}else{for(var i=0;i<series.data.length;i++){plotValues.x.push(series.data[i][0]);plotValues.y.push(series.data[i][1]);}this._stackData.push(series.data);this.series[index]._stackData=series.data;this._plotData.push(series.data);series._plotData=series.data;series._plotValues=plotValues;}if(index>0){series._prevPlotData=this.series[index-1]._plotData;}series._sumy=0;series._sumx=0;for(i=series.data.length-1;i>-1;i--){series._sumy+=series.data[i][1];series._sumx+=series.data[i][0];}};this.getNextSeriesColor=(function(t){var idx=0;var sc=t.seriesColors;return function(){if(idx<sc.length){return sc[idx++];}else{idx=0;return sc[idx++];}};})(this);this.parseOptions=function(options){for(var i=0;i<$.jqplot.preParseOptionsHooks.length;i++){$.jqplot.preParseOptionsHooks[i].call(this,options);}this.options=$.extend(true,{},this.defaults,options);this.stackSeries=this.options.stackSeries;if(this.options.seriesColors){this.seriesColors=this.options.seriesColors;}var cg=new this.colorGenerator(this.seriesColors);$.extend(true,this._gridPadding,this.options.gridPadding);this.sortData=(this.options.sortData!=null)?this.options.sortData:this.sortData;for(var n in this.axes){var axis=this.axes[n];$.extend(true,axis,this.options.axesDefaults,this.options.axes[n]);axis._plotWidth=this._width;axis._plotHeight=this._height;}if(this.data.length==0){this.data=[];for(var i=0;i<this.options.series.length;i++){this.data.push(this.options.series.data);}}var normalizeData=function(data,dir){var temp=[];var i;dir=dir||'vertical';if(!(data[0]instanceof Array)){for(var i=0;i<data.length;i++){if(dir=='vertical'){temp.push([i+1,data[i]]);}else{temp.push([data[i],i+1]);}}}else{$.extend(true,temp,data);}return temp;};for(var i=0;i<this.data.length;i++){var temp=new Series();for(var j=0;j<$.jqplot.preParseSeriesOptionsHooks.length;j++){$.jqplot.preParseSeriesOptionsHooks[j].call(temp,this.options.seriesDefaults,this.options.series[i]);}$.extend(true,temp,{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i]);var dir='vertical';if(temp.renderer.constructor==$.jqplot.barRenderer&&temp.rendererOptions&&temp.rendererOptions.barDirection=='horizontal'){dir='horizontal';}temp.data=normalizeData(this.data[i],dir);switch(temp.xaxis){case'xaxis':temp._xaxis=this.axes.xaxis;break;case'x2axis':temp._xaxis=this.axes.x2axis;break;default:break;}temp._yaxis=this.axes[temp.yaxis];temp._xaxis._series.push(temp);temp._yaxis._series.push(temp);if(temp.show){temp._xaxis.show=true;temp._yaxis.show=true;}if(!temp.color&&temp.show!=false){temp.color=cg.next();}if(!temp.label){temp.label='Series '+(i+1).toString();}this.series.push(temp);for(var j=0;j<$.jqplot.postParseSeriesOptionsHooks.length;j++){$.jqplot.postParseSeriesOptionsHooks[j].call(this.series[i],this.options.seriesDefaults,this.options.series[i]);}}$.extend(true,this.grid,this.options.grid);for(var n in this.axes){var axis=this.axes[n];if(axis.borderWidth==null){axis.borderWidth=this.grid.borderWidth;}if(axis.borderColor==null){if(n!='xaxis'&&n!='x2axis'&&axis.useSeriesColor===true&&axis.show){axis.borderColor=axis._series[0].color;}else{axis.borderColor=this.grid.borderColor;}}}if(typeof this.options.title=='string'){this.title.text=this.options.title;}else if(typeof this.options.title=='object'){$.extend(true,this.title,this.options.title);}this.title._plotWidth=this._width;$.extend(true,this.legend,this.options.legend);for(var i=0;i<$.jqplot.postParseOptionsHooks.length;i++){$.jqplot.postParseOptionsHooks[i].call(this,options);}};this.replot=function(options){this.performOnPlot();var opts=(options!=undefined)?options:{};var clear=(opts.clear!=undefined)?opts.clear:true;var resetAxes=(opts.resetAxes!=undefined)?opts.resetAxes:false;this.target.trigger('jqplotPreReplot');if(clear){this.target.empty();}if(resetAxes){this.resetAxesScale(resetAxes);}this.reInitialize();this.draw();this.target.trigger('jqplotPostReplot');this.performAfterPlot();};this.redraw=function(clear){this.performOnPlot();clear=(clear!=null)?clear:true;this.target.trigger('jqplotPreRedraw');if(clear){this.target.empty();}for(var ax in this.axes){this.axes[ax]._ticks=[];}for(var i=0;i<this.series.length;i++){this.populatePlotData(this.series[i],i);}this._sumy=0;this._sumx=0;for(i=0;i<this.series.length;i++){this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx;}this.draw();this.target.trigger('jqplotPostRedraw');this.performAfterPlot();};this.draw=function(){if(this.drawIfHidden||this.target.is(':visible')){this.target.trigger('jqplotPreDraw');var i;for(i=0;i<$.jqplot.preDrawHooks.length;i++){$.jqplot.preDrawHooks[i].call(this);}this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},'jqplot-base-canvas'));var bctx=this.baseCanvas.setContext();this.target.append(this.title.draw());this.title.pack({top:0,left:0});for(var name in this.axes){this.target.append(this.axes[name].draw(bctx));this.axes[name].set();}if(this.axes.yaxis.show){this._gridPadding.left=this.axes.yaxis.getWidth();}var ra=['y2axis','y3axis','y4axis','y5axis','y6axis','y7axis','y8axis','y9axis'];var rapad=[0,0,0,0];var gpr=0;var n,ax;for(n=8;n>0;n--){ax=this.axes[ra[n-1]];if(ax.show){rapad[n-1]=gpr;gpr+=ax.getWidth();}}if(gpr>this._gridPadding.right){this._gridPadding.right=gpr;}if(this.title.show&&this.axes.x2axis.show){this._gridPadding.top=this.title.getHeight()+this.axes.x2axis.getHeight();}else if(this.title.show){this._gridPadding.top=this.title.getHeight();}else if(this.axes.x2axis.show){this._gridPadding.top=this.axes.x2axis.getHeight();}if(this.axes.xaxis.show){this._gridPadding.bottom=this.axes.xaxis.getHeight();}this.axes.xaxis.pack({position:'absolute',bottom:0,left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});this.axes.yaxis.pack({position:'absolute',top:0,left:0,height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});this.axes.x2axis.pack({position:'absolute',top:this.title.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(i=8;i>0;i--){this.axes[ra[i-1]].pack({position:'absolute',top:0,right:rapad[i-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});}this.target.append(this.grid.createElement(this._gridPadding));this.grid.draw();for(i=0;i<this.series.length;i++){this.target.append(this.series[i].shadowCanvas.createElement(this._gridPadding,'jqplot-series-canvas jqplot-shadow'));this.series[i].shadowCanvas.setContext();}for(i=0;i<this.series.length;i++){this.target.append(this.series[i].canvas.createElement(this._gridPadding,'jqplot-series-canvas'));this.series[i].canvas.setContext();}this.target.append(this.eventCanvas.createElement(this._gridPadding,'jqplot-event-canvas'));var ectx=this.eventCanvas.setContext();ectx.fillStyle='rgba(0,0,0,0)';ectx.fillRect(0,0,ectx.canvas.width,ectx.canvas.height);this.bindCustomEvents();if(this.legend.preDraw){this.target.append(this.legend.draw());this.legend.pack(this._gridPadding);if(this.legend._elem){this.drawSeries({legendInfo:{location:this.legend.location,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}});}else{this.drawSeries();}}else{this.drawSeries();$(this.series[this.series.length-1].canvas._elem).after(this.legend.draw());this.legend.pack(this._gridPadding);}for(var i=0;i<$.jqplot.eventListenerHooks.length;i++){var h=$.jqplot.eventListenerHooks[i];this.eventCanvas._elem.bind(h[0],{plot:this},h[1]);}for(var i=0;i<$.jqplot.postDrawHooks.length;i++){$.jqplot.postDrawHooks[i].call(this);}if(this.target.is(':visible')){this._drawCount+=1;}this.target.trigger('jqplotPostDraw',[this]);}};this.bindCustomEvents=function(){this.eventCanvas._elem.bind('click',{plot:this},this.onClick);this.eventCanvas._elem.bind('dblclick',{plot:this},this.onDblClick);this.eventCanvas._elem.bind('mousedown',{plot:this},this.onMouseDown);this.eventCanvas._elem.bind('mouseup',{plot:this},this.onMouseUp);this.eventCanvas._elem.bind('mousemove',{plot:this},this.onMouseMove);this.eventCanvas._elem.bind('mouseenter',{plot:this},this.onMouseEnter);this.eventCanvas._elem.bind('mouseleave',{plot:this},this.onMouseLeave);};function getEventPosition(ev){var plot=ev.data.plot;var offsets=plot.eventCanvas._elem.offset();var gridPos={x:ev.pageX-offsets.left,y:ev.pageY-offsets.top};var dataPos={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null};var an=['xaxis','yaxis','x2axis','y2axis','y3axis','y4axis','y5axis','y6axis','y7axis','y8axis','y9axis'];var ax=plot.axes;for(var n=11;n>0;n--){var axis=an[n-1];if(ax[axis].show){dataPos[axis]=ax[axis].series_p2u(gridPos[axis.charAt(0)]);}}return({offsets:offsets,gridPos:gridPos,dataPos:dataPos});}function getNeighborPoint(plot,x,y){var ret=null;var s,i,d0,d,j,r;var threshold;for(var i=0;i<plot.series.length;i++){s=plot.series[i];r=s.renderer;if(s.show){threshold=Math.abs(s.markerRenderer.size/2+s.neighborThreshold);for(var j=0;j<s.gridData.length;j++){p=s.gridData[j];if(r.constructor==$.jqplot.OHLCRenderer){if(r.candleStick){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._bodyWidth/2&&x<=p[0]+r._bodyWidth/2&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3])){ret={seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]};}}else if(!r.hlc){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3])){ret={seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]};}}else{var yp=s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][1])&&y<=yp(s.data[j][2])){ret={seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]};}}}else{d=Math.sqrt((x-p[0])*(x-p[0])+(y-p[1])*(y-p[1]));if(d<=threshold&&(d<=d0||d0==null)){d0=d;ret={seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]};}}}}}return ret;}this.onClick=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=getNeighborPoint(p,positions.gridPos.x,positions.gridPos.y);ev.data.plot.eventCanvas._elem.trigger('jqplotClick',[positions.gridPos,positions.dataPos,neighbor,p]);};this.onDblClick=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=getNeighborPoint(p,positions.gridPos.x,positions.gridPos.y);ev.data.plot.eventCanvas._elem.trigger('jqplotDblClick',[positions.gridPos,positions.dataPos,neighbor,p]);};this.onMouseDown=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=getNeighborPoint(p,positions.gridPos.x,positions.gridPos.y);ev.data.plot.eventCanvas._elem.trigger('jqplotMouseDown',[positions.gridPos,positions.dataPos,neighbor,p]);};this.onMouseUp=function(ev){var positions=getEventPosition(ev);ev.data.plot.eventCanvas._elem.trigger('jqplotMouseUp',[positions.gridPos,positions.dataPos,null,ev.data.plot]);};this.onMouseMove=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=getNeighborPoint(p,positions.gridPos.x,positions.gridPos.y);ev.data.plot.eventCanvas._elem.trigger('jqplotMouseMove',[positions.gridPos,positions.dataPos,neighbor,p]);};this.onMouseEnter=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;ev.data.plot.eventCanvas._elem.trigger('jqplotMouseEnter',[positions.gridPos,positions.dataPos,null,p]);};this.onMouseLeave=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;ev.data.plot.eventCanvas._elem.trigger('jqplotMouseLeave',[positions.gridPos,positions.dataPos,null,p]);};this.drawSeries=function(options,idx){var i,series,ctx;if(idx!=undefined){series=this.series[idx];ctx=series.shadowCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.drawShadow(ctx,options,this);ctx=series.canvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.draw(ctx,options,this);}else{for(i=0;i<this.series.length;i++){series=this.series[i];ctx=series.shadowCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.drawShadow(ctx,options,this);ctx=series.canvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.draw(ctx,options,this);}}};}$.jqplot.ColorGenerator=function(colors){var idx=0;this.next=function(){if(idx<colors.length){return colors[idx++];}else{idx=0;return colors[idx++];}};this.previous=function(){if(idx>0){return colors[idx--];}else{idx=colors.length-1;return colors[idx];}};this.get=function(i){return colors[i];};this.setColors=function(c){colors=c;};this.reset=function(){idx=0;};};$.jqplot.hex2rgb=function(h,a){h=h.replace('#','');if(h.length==3){h=h[0]+h[0]+h[1]+h[1]+h[2]+h[2];}var rgb;rgb='rgba('+parseInt(h.slice(0,2),16)+', '+parseInt(h.slice(2,4),16)+', '+parseInt(h.slice(4,6),16);if(a){rgb+=', '+a;}rgb+=')';return rgb;};$.jqplot.rgb2hex=function(s){var pat=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/;var m=s.match(pat);var h='#';for(i=1;i<4;i++){var temp;if(m[i].search(/%/)!=-1){temp=parseInt(255*m[i]/100,10).toString(16);if(temp.length==1){temp='0'+temp;}}else{temp=parseInt(m[i],10).toString(16);if(temp.length==1){temp='0'+temp;}}h+=temp;}return h;};$.jqplot.normalize2rgb=function(s,a){if(s.search(/^ *rgba?\(/)!=-1){return s;}else if(s.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1){return $.jqplot.hex2rgb(s,a);}else{throw'invalid color spec';}};$.jqplot.getColorComponents=function(s){var rgb=$.jqplot.normalize2rgb(s);var pat=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/;var m=rgb.match(pat);var ret=[];for(i=1;i<4;i++){if(m[i].search(/%/)!=-1){ret[i-1]=parseInt(255*m[i]/100,10);}else{ret[i-1]=parseInt(m[i],10);}}ret[3]=parseFloat(m[4])?parseFloat(m[4]):1.0;return ret;};$.jqplot.log=function(){if(window.console&&$.jqplot.debug){if(arguments.length==1){console.log(arguments[0]);}else{console.log(arguments);}}};var log=$.jqplot.log;$.jqplot.AxisLabelRenderer=function(options){$.jqplot.ElemContainer.call(this);this.axis;this.show=true;this.label='';this._elem;this.escapeHTML=false;$.extend(true,this,options);};$.jqplot.AxisLabelRenderer.prototype=new $.jqplot.ElemContainer();$.jqplot.AxisLabelRenderer.prototype.constructor=$.jqplot.AxisLabelRenderer;$.jqplot.AxisLabelRenderer.prototype.init=function(options){$.extend(true,this,options);};$.jqplot.AxisLabelRenderer.prototype.draw=function(){this._elem=$('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>');if(Number(this.label)){this._elem.css('white-space','nowrap');}if(!this.escapeHTML){this._elem.html(this.label);}else{this._elem.text(this.label);}return this._elem;};$.jqplot.AxisLabelRenderer.prototype.pack=function(){};$.jqplot.AxisTickRenderer=function(options){$.jqplot.ElemContainer.call(this);this.mark='outside';this.axis;this.showDate=false;this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.size=4;this.markSize=6;this.show=true;this.showLabel=true;this.label='';this.value=null;this._styles={};this.formatter=$.jqplot.DefaultTickFormatter;this.formatString='';this.fontFamily;this.fontSize;this.textColor;this._elem;$.extend(true,this,options);};$.jqplot.AxisTickRenderer.prototype.init=function(options){$.extend(true,this,options);};$.jqplot.AxisTickRenderer.prototype=new $.jqplot.ElemContainer();$.jqplot.AxisTickRenderer.prototype.constructor=$.jqplot.AxisTickRenderer;$.jqplot.AxisTickRenderer.prototype.setTick=function(value,axisName,isMinor){this.value=value;this.axis=axisName;this.showDate=(arguments.length==4&&arguments[3]);if(isMinor){this.isMinorTick=true;}return this;};$.jqplot.AxisTickRenderer.prototype.draw=function(){if(!this.label){this.label=this.formatter(this.formatString,this.value,this.showDate);}style='style="position:absolute;';if(Number(this.label)){style+='white-space:nowrap;';}style+='"';this._elem=$('<div '+style+' class="jqplot-'+this.axis+'-tick">'+this.label+'</div>');for(var s in this._styles){this._elem.css(s,this._styles[s]);}if(this.fontFamily){this._elem.css('font-family',this.fontFamily);}if(this.fontSize){this._elem.css('font-size',this.fontSize);}if(this.textColor){this._elem.css('color',this.textColor);}return this._elem;};$.jqplot.DefaultTickFormatter=function(format,val){if(typeof val=='number'){if(!format){format='%.1f';}return $.jqplot.sprintf(format,val);}else{return String(val);}};$.jqplot.AxisTickRenderer.prototype.pack=function(){};$.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new $.jqplot.ShadowRenderer();};$.jqplot.CanvasGridRenderer.prototype.init=function(options){this._ctx;$.extend(true,this,options);var sopts={lineJoin:'miter',lineCap:'round',fill:false,isarc:false,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:false};this.renderer.shadowRenderer.init(sopts);};$.jqplot.CanvasGridRenderer.prototype.createElement=function(){var elem=document.createElement('canvas');var w=this._plotDimensions.width;var h=this._plotDimensions.height;elem.width=w;elem.height=h;this._elem=$(elem);this._elem.addClass('jqplot-grid-canvas');this._elem.css({position:'absolute',left:0,top:0});if($.browser.msie){window.G_vmlCanvasManager.init_(document);}if($.browser.msie){elem=window.G_vmlCanvasManager.initElement(elem);}this._top=this._offsets.top;this._bottom=h-this._offsets.bottom;this._left=this._offsets.left;this._right=w-this._offsets.right;this._width=this._right-this._left;this._height=this._bottom-this._top;return this._elem;};$.jqplot.CanvasGridRenderer.prototype.draw=function(){this._ctx=this._elem.get(0).getContext("2d");var ctx=this._ctx;var axes=this._axes;ctx.save();ctx.fillStyle=this.background;ctx.fillRect(this._left,this._top,this._width,this._height);if(this.drawGridlines){ctx.save();ctx.lineJoin='miter';ctx.lineCap='butt';ctx.lineWidth=this.gridLineWidth;ctx.strokeStyle=this.gridLineColor;var b,e;var ax=['xaxis','yaxis','x2axis','y2axis'];for(var i=4;i>0;i--){var name=ax[i-1];var axis=axes[name];var ticks=axis._ticks;if(axis.show){for(var j=ticks.length;j>0;j--){var t=ticks[j-1];if(t.show){var pos=Math.round(axis.u2p(t.value))+0.5;switch(name){case'xaxis':if(t.showGridline){drawLine(pos,this._top,pos,this._bottom);}if(t.showMark&&t.mark){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case'outside':b=this._bottom;e=this._bottom+s;break;case'inside':b=this._bottom-s;e=this._bottom;break;case'cross':b=this._bottom-s;e=this._bottom+s;break;default:b=this._bottom;e=this._bottom+s;break;}if(this.shadow){this.renderer.shadowRenderer.draw(ctx,[[pos,b],[pos,e]],{lineCap:'butt',lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});}drawLine(pos,b,pos,e);}break;case'yaxis':if(t.showGridline){drawLine(this._right,pos,this._left,pos);}if(t.showMark&&t.mark){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case'outside':b=this._left-s;e=this._left;break;case'inside':b=this._left;e=this._left+s;break;case'cross':b=this._left-s;e=this._left+s;break;default:b=this._left-s;e=this._left;break;}if(this.shadow){this.renderer.shadowRenderer.draw(ctx,[[b,pos],[e,pos]],{lineCap:'butt',lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});}drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor});}break;case'x2axis':if(t.showGridline){drawLine(pos,this._bottom,pos,this._top);}if(t.showMark&&t.mark){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case'outside':b=this._top-s;e=this._top;break;case'inside':b=this._top;e=this._top+s;break;case'cross':b=this._top-s;e=this._top+s;break;default:b=this._top-s;e=this._top;break;}if(this.shadow){this.renderer.shadowRenderer.draw(ctx,[[pos,b],[pos,e]],{lineCap:'butt',lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});}drawLine(pos,b,pos,e);}break;case'y2axis':if(t.showGridline){drawLine(this._left,pos,this._right,pos);}if(t.showMark&&t.mark){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case'outside':b=this._right;e=this._right+s;break;case'inside':b=this._right-s;e=this._right;break;case'cross':b=this._right-s;e=this._right+s;break;default:b=this._right;e=this._right+s;break;}if(this.shadow){this.renderer.shadowRenderer.draw(ctx,[[b,pos],[e,pos]],{lineCap:'butt',lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});}drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor});}break;default:break;}}}}}ax=['y3axis','y4axis','y5axis','y6axis','y7axis','y8axis','y9axis'];for(var i=7;i>0;i--){var axis=axes[ax[i-1]];var ticks=axis._ticks;if(axis.show){var tn=ticks[axis.numberTicks-1];var t0=ticks[0];var left=axis.getLeft();var points=[[left,tn.getTop()+tn.getHeight()/2],[left,t0.getTop()+t0.getHeight()/2+1.0]];if(this.shadow){this.renderer.shadowRenderer.draw(ctx,points,{lineCap:'butt',fill:false,closePath:false});}drawLine(points[0][0],points[0][1],points[1][0],points[1][1],{lineCap:'butt',strokeStyle:axis.borderColor,lineWidth:axis.borderWidth});for(var j=ticks.length;j>0;j--){var t=ticks[j-1];s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;if(t.showMark&&t.mark){switch(m){case'outside':b=left;e=left+s;break;case'inside':b=left-s;e=left;break;case'cross':b=left-s;e=left+s;break;default:b=left;e=left+s;break;}points=[[b,pos],[e,pos]];if(this.shadow){this.renderer.shadowRenderer.draw(ctx,points,{lineCap:'butt',lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});}drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor});}}}}ctx.restore();}function drawLine(bx,by,ex,ey,opts){ctx.save();opts=opts||{};$.extend(true,ctx,opts);ctx.beginPath();ctx.moveTo(bx,by);ctx.lineTo(ex,ey);ctx.stroke();ctx.restore();}if(this.shadow){var points=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(ctx,points);}drawLine(this._left,this._top,this._right,this._top,{lineCap:'round',strokeStyle:axes.x2axis.borderColor,lineWidth:axes.x2axis.borderWidth});drawLine(this._right,this._top,this._right,this._bottom,{lineCap:'round',strokeStyle:axes.y2axis.borderColor,lineWidth:axes.y2axis.borderWidth});drawLine(this._right,this._bottom,this._left,this._bottom,{lineCap:'round',strokeStyle:axes.xaxis.borderColor,lineWidth:axes.xaxis.borderWidth});drawLine(this._left,this._bottom,this._left,this._top,{lineCap:'round',strokeStyle:axes.yaxis.borderColor,lineWidth:axes.yaxis.borderWidth});ctx.restore();};var day=24*60*60*1000;var zeroPad=function(number,digits){number=String(number);while(number.length<digits){number='0'+number;}return number;};var multipliers={millisecond:1,second:1000,minute:60*1000,hour:60*60*1000,day:day,week:7*day,month:{add:function(d,number){multipliers.year.add(d,Math[number>0?'floor':'ceil'](number/12));var prevMonth=d.getMonth()+(number%12);if(prevMonth==12){prevMonth=0;d.setYear(d.getFullYear()+1);}else if(prevMonth==-1){prevMonth=11;d.setYear(d.getFullYear()-1);}d.setMonth(prevMonth);},diff:function(d1,d2){var diffYears=d1.getFullYear()-d2.getFullYear();var diffMonths=d1.getMonth()-d2.getMonth()+(diffYears*12);var diffDays=d1.getDate()-d2.getDate();return diffMonths+(diffDays/30);}},year:{add:function(d,number){d.setYear(d.getFullYear()+Math[number>0?'floor':'ceil'](number));},diff:function(d1,d2){return multipliers.month.diff(d1,d2)/12;}}};for(var unit in multipliers){if(unit.substring(unit.length-1)!='s'){multipliers[unit+'s']=multipliers[unit];}}var format=function(d,code){if(Date.prototype.strftime.formatShortcuts[code]){return d.strftime(Date.prototype.strftime.formatShortcuts[code]);}else{var getter=(Date.prototype.strftime.formatCodes[code]||'').split('.');var nbr=d['get'+getter[0]]?d['get'+getter[0]]():'';if(getter[1]){nbr=zeroPad(nbr,getter[1]);}return nbr;}};var instanceMethods={succ:function(unit){return this.clone().add(1,unit);},add:function(number,unit){var factor=multipliers[unit]||multipliers.day;if(typeof factor=='number'){this.setTime(this.getTime()+(factor*number));}else{factor.add(this,number);}return this;},addNoDST:function(number,unit){var aVal=parseFloat(number);var rVal=null;switch(unit.toLowerCase()){case"second":case"seconds":this.setSeconds(this.getSeconds()+aVal);break;case"minute":case"minutes":this.setMinutes(this.getMinutes()+aVal);break;case"hour":case"hours":this.setHours(this.getHours()+aVal);break;case"day":case"days":this.setDate(this.getDate()+aVal);break;case"week":case"weeks":var daysFromWeek=aVal*7;this.setDate(this.getDate()+daysFromWeek);break;case"month":case"months":this.setMonth(this.getMonth()+aVal);break;case"year":case"years":this.setYear(this.getYear()+aVal);break;default:this.setMilliseconds(this.getMilliseconds()+aVal);break;}return this;},round:function(unit,option){if(unit!=null){switch(unit.toLowerCase()){case"seconds":this.setSeconds((option=="down")?0:60);this.setMilliseconds(0);break;case"minutes":this.setMinutes((option=="down")?0:60);this.setSeconds(0);this.setMilliseconds(0);break;case"hours":this.setHours((option=="down")?0:24);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);break;default:break;}}return this;},diff:function(dateObj,unit,allowDecimal){dateObj=Date.create(dateObj);if(dateObj===null){return null;}var factor=multipliers[unit]||multipliers.day;if(typeof factor=='number'){var unitDiff=(this.getTime()-dateObj.getTime())/factor;}else{var unitDiff=factor.diff(this,dateObj);}return(allowDecimal?unitDiff:Math[unitDiff>0?'floor':'ceil'](unitDiff));},strftime:function(formatStr){var source=formatStr||'%Y-%m-%d',result='',match;while(source.length>0){if(match=source.match(Date.prototype.strftime.formatCodes.matcher)){result+=source.slice(0,match.index);result+=(match[1]||'')+format(this,match[2]);source=source.slice(match.index+match[0].length);}else{result+=source;source='';}}return result;},getShortYear:function(){return this.getYear()%100;},getMonthNumber:function(){return this.getMonth()+1;},getMonthName:function(){return Date.MONTHNAMES[this.getMonth()];},getAbbrMonthName:function(){return Date.ABBR_MONTHNAMES[this.getMonth()];},getDayName:function(){return Date.DAYNAMES[this.getDay()];},getAbbrDayName:function(){return Date.ABBR_DAYNAMES[this.getDay()];},getDayOrdinal:function(){return Date.ORDINALNAMES[this.getDate()%10];},getHours12:function(){var hours=this.getHours();return hours>12?hours-12:(hours==0?12:hours);},getAmPm:function(){return this.getHours()>=12?'PM':'AM';},getUnix:function(){return Math.round(this.getTime()/1000,0);},getGmtOffset:function(){var hours=this.getTimezoneOffset()/60;var prefix=hours<0?'+':'-';hours=Math.abs(hours);return prefix+zeroPad(Math.floor(hours),2)+':'+zeroPad((hours%1)*60,2);},getTimezoneName:function(){var match=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return match[1]||match[2]||'GMT'+this.getGmtOffset();},toYmdInt:function(){return(this.getFullYear()*10000)+(this.getMonthNumber()*100)+this.getDate();},clone:function(){return new Date(this.getTime());}};for(var name in instanceMethods){Date.prototype[name]=instanceMethods[name];}var staticMethods={create:function(date){if(date instanceof Date){return date;}if(typeof date=='number'){return new Date(date);}var parsable=String(date).replace(/^\s*(.+)\s*$/,'$1'),i=0,length=Date.create.patterns.length,pattern;var current=parsable;while(i<length){ms=Date.parse(current);if(!isNaN(ms)){return new Date(ms);}pattern=Date.create.patterns[i];if(typeof pattern=='function'){obj=pattern(current);if(obj instanceof Date){return obj;}}else{current=parsable.replace(pattern[0],pattern[1]);}i++;}return NaN;},MONTHNAMES:'January February March April May June July August September October November December'.split(' '),ABBR_MONTHNAMES:'Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec'.split(' '),DAYNAMES:'Sunday Monday Tuesday Wednesday Thursday Friday Saturday'.split(' '),ABBR_DAYNAMES:'Sun Mon Tue Wed Thu Fri Sat'.split(' '),ORDINALNAMES:'th st nd rd th th th th th th'.split(' '),ISO:'%Y-%m-%dT%H:%M:%S.%N%G',SQL:'%Y-%m-%d %H:%M:%S',daysInMonth:function(year,month){if(month==2){return new Date(year,1,29).getDate()==29?29:28;}return[undefined,31,undefined,31,30,31,30,31,31,30,31,30,31][month];}};for(var name in staticMethods){Date[name]=staticMethods[name];}Date.prototype.strftime.formatCodes={matcher:/()%(#?(%|[a-z]))/i,Y:'FullYear',y:'ShortYear.2',m:'MonthNumber.2','#m':'MonthNumber',B:'MonthName',b:'AbbrMonthName',d:'Date.2','#d':'Date',e:'Date',A:'DayName',a:'AbbrDayName',w:'Day',o:'DayOrdinal',H:'Hours.2','#H':'Hours',I:'Hours12.2','#I':'Hours12',p:'AmPm',M:'Minutes.2','#M':'Minutes',S:'Seconds.2','#S':'Seconds',s:'Unix',N:'Milliseconds.3','#N':'Milliseconds',O:'TimezoneOffset',Z:'TimezoneName',G:'GmtOffset'};Date.prototype.strftime.formatShortcuts={F:'%Y-%m-%d',T:'%H:%M:%S',X:'%H:%M:%S',x:'%m/%d/%y',D:'%m/%d/%y','#c':'%a %b %e %H:%M:%S %Y',v:'%e-%b-%Y',R:'%H:%M',r:'%I:%M:%S %p',t:'\t',n:'\n','%':'%'};Date.create.patterns=[[/-/g,'/'],[/st|nd|rd|th/g,''],[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,'$2/$1/$3'],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,'$2/$3/$1'],function(str){var match=str.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(match){if(match[1]){var d=Date.create(match[1]);if(isNaN(d)){return;}}else{var d=new Date();d.setMilliseconds(0);}var hour=parseFloat(match[2]);if(match[6]){hour=match[6].toLowerCase()=='am'?(hour==12?0:hour):(hour==12?12:hour+12);}d.setHours(hour,parseInt(match[3]||0,10),parseInt(match[4]||0,10),((parseFloat(match[5]||0))||0)*1000);return d;}else{return str;}},function(str){var match=str.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(match){if(match[1]){var d=Date.create(match[1]);if(isNaN(d)){return;}}else{var d=new Date();d.setMilliseconds(0);}var hour=parseFloat(match[2]);d.setHours(hour,parseInt(match[3],10),parseInt(match[4],10),parseFloat(match[5])*1000);return d;}else{return str;}},function(str){var match=str.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(match){var d=new Date();var y=parseFloat(String(d.getFullYear()).slice(2,4));var cent=parseInt(String(d.getFullYear())/100,10)*100;var centoffset=1;var m1=parseFloat(match[1]);var m3=parseFloat(match[3]);var ny,nd,nm;if(m1>31){nd=match[3];if(m1<y+centoffset){ny=cent+m1;}else{ny=cent-100+m1;}}else{nd=match[1];if(m3<y+centoffset){ny=cent+m3;}else{ny=cent-100+m3;}}var nm=$.inArray(match[2],Date.ABBR_MONTHNAMES);if(nm==-1){nm=$.inArray(match[2],Date.MONTHNAMES);}d.setFullYear(ny,nm,nd);d.setHours(0,0,0,0);return d;}else{return str;}}];if($.jqplot.config.debug){$.date=Date.create;}$.jqplot.DivTitleRenderer=function(){};$.jqplot.DivTitleRenderer.prototype.init=function(options){$.extend(true,this,options);};$.jqplot.DivTitleRenderer.prototype.draw=function(){var r=this.renderer;if(!this.text){this.show=false;this._elem=$('<div style="height:0px;width:0px;"></div>');}else if(this.text){var styletext='position:absolute;top:0px;left:0px;';styletext+=(this._plotWidth)?'width:'+this._plotWidth+'px;':'';styletext+=(this.fontFamily)?'font-family:'+this.fontFamily+';':'';styletext+=(this.fontSize)?'font-size:'+this.fontSize+';':'';styletext+=(this.textAlign)?'text-align:'+this.textAlign+';':'text-align:center;';styletext+=(this.textColor)?'color:'+this.textColor+';':'';this._elem=$('<div class="jqplot-title" style="'+styletext+'">'+this.text+'</div>');}return this._elem;};$.jqplot.DivTitleRenderer.prototype.pack=function(){};$.jqplot.LineRenderer=function(){this.shapeRenderer=new $.jqplot.ShapeRenderer();this.shadowRenderer=new $.jqplot.ShadowRenderer();};$.jqplot.LineRenderer.prototype.init=function(options){$.extend(true,this.renderer,options);var opts={lineJoin:'round',lineCap:'round',fill:this.fill,isarc:false,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,closePath:this.fill};this.renderer.shapeRenderer.init(opts);if(this.lineWidth>2.5){var shadow_offset=this.shadowOffset*(1+(Math.atan((this.lineWidth/2.5))/0.785398163-1)*0.6);}else{var shadow_offset=this.shadowOffset*Math.atan((this.lineWidth/2.5))/0.785398163;}var sopts={lineJoin:'round',lineCap:'round',fill:this.fill,isarc:false,angle:this.shadowAngle,offset:shadow_offset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,closePath:this.fill};this.renderer.shadowRenderer.init(sopts);};$.jqplot.LineRenderer.prototype.setGridData=function(plot){var xp=this._xaxis.series_u2p;var yp=this._yaxis.series_u2p;var data=this._plotData;var pdata=this._prevPlotData;this.gridData=[];this._prevGridData=[];for(var i=0;i<this.data.length;i++){if(data[i]!=null){this.gridData.push([xp.call(this._xaxis,data[i][0]),yp.call(this._yaxis,data[i][1])]);}if(pdata[i]!=null){this._prevGridData.push([xp.call(this._xaxis,pdata[i][0]),yp.call(this._yaxis,pdata[i][1])]);}}};$.jqplot.LineRenderer.prototype.makeGridData=function(data,plot){var xp=this._xaxis.series_u2p;var yp=this._yaxis.series_u2p;var gd=[];var pgd=[];for(var i=0;i<data.length;i++){if(data[i]!=null){gd.push([xp.call(this._xaxis,data[i][0]),yp.call(this._yaxis,data[i][1])]);}}return gd;};$.jqplot.LineRenderer.prototype.draw=function(ctx,gd,options){var i;var opts=(options!=undefined)?options:{};var shadow=(opts.shadow!=undefined)?opts.shadow:this.shadow;var showLine=(opts.showLine!=undefined)?opts.showLine:this.showLine;var fill=(opts.fill!=undefined)?opts.fill:this.fill;var fillAndStroke=(opts.fillAndStroke!=undefined)?opts.fillAndStroke:this.fillAndStroke;ctx.save();if(gd.length){if(showLine){if(fill){if(this.fillToZero){var negativeColors=new $.jqplot.ColorGenerator(this.negativeSeriesColors);var negativeColor=negativeColors.get(this.index);if(!this.useNegativeColors){negativeColor=opts.fillStyle;}var isnegative=false;var posfs=opts.fillStyle;if(fillAndStroke){var fasgd=gd.slice(0);}if(this.index==0||!this._stack){var tempgd=[];var pyzero=this._yaxis.series_u2p(0);var pxzero=this._xaxis.series_u2p(0);if(this.fillAxis=='y'){tempgd.push([gd[0][0],pyzero]);for(var i=0;i<gd.length-1;i++){tempgd.push(gd[i]);if(this._plotData[i][1]*this._plotData[i+1][1]<0){if(this._plotData[i][1]<0){isnegative=true;opts.fillStyle=negativeColor;}else{isnegative=false;opts.fillStyle=posfs;}var xintercept=gd[i][0]+(gd[i+1][0]-gd[i][0])*(pyzero-gd[i][1])/(gd[i+1][1]-gd[i][1]);tempgd.push([xintercept,pyzero]);if(shadow){this.renderer.shadowRenderer.draw(ctx,tempgd,opts);}this.renderer.shapeRenderer.draw(ctx,tempgd,opts);tempgd=[[xintercept,pyzero]];}}if(this._plotData[gd.length-1][1]<0){isnegative=true;opts.fillStyle=negativeColor;}else{isnegative=false;opts.fillStyle=posfs;}tempgd.push(gd[gd.length-1]);tempgd.push([gd[gd.length-1][0],pyzero]);}if(shadow){this.renderer.shadowRenderer.draw(ctx,tempgd,opts);}this.renderer.shapeRenderer.draw(ctx,tempgd,opts);}else{var prev=this._prevGridData;for(var i=prev.length;i>0;i--){gd.push(prev[i-1]);}if(shadow){this.renderer.shadowRenderer.draw(ctx,gd,opts);}this.renderer.shapeRenderer.draw(ctx,gd,opts);}}else{if(fillAndStroke){var fasgd=gd.slice(0);}if(this.index==0||!this._stack){var gridymin=ctx.canvas.height;gd.unshift([gd[0][0],gridymin]);len=gd.length;gd.push([gd[len-1][0],gridymin]);}else{var prev=this._prevGridData;for(var i=prev.length;i>0;i--){gd.push(prev[i-1]);}}if(shadow){this.renderer.shadowRenderer.draw(ctx,gd,opts);}this.renderer.shapeRenderer.draw(ctx,gd,opts);}if(fillAndStroke){var fasopts=$.extend(true,{},opts,{fill:false,closePath:false});this.renderer.shapeRenderer.draw(ctx,fasgd,fasopts);if(this.markerRenderer.show){for(i=0;i<fasgd.length;i++){this.markerRenderer.draw(fasgd[i][0],fasgd[i][1],ctx,opts.markerOptions);}}}}else{if(shadow){this.renderer.shadowRenderer.draw(ctx,gd,opts);}this.renderer.shapeRenderer.draw(ctx,gd,opts);}}if(this.markerRenderer.show&&!fill){for(i=0;i<gd.length;i++){this.markerRenderer.draw(gd[i][0],gd[i][1],ctx,opts.markerOptions);}}}ctx.restore();};$.jqplot.LineRenderer.prototype.drawShadow=function(ctx,gd,options){};$.jqplot.LinearAxisRenderer=function(){};$.jqplot.LinearAxisRenderer.prototype.init=function(options){$.extend(true,this,options);var db=this._dataBounds;for(var i=0;i<this._series.length;i++){var s=this._series[i];var d=s._plotData;for(var j=0;j<d.length;j++){if(this.name=='xaxis'||this.name=='x2axis'){if(d[j][0]<db.min||db.min==null){db.min=d[j][0];}if(d[j][0]>db.max||db.max==null){db.max=d[j][0];}}else{if(d[j][1]<db.min||db.min==null){db.min=d[j][1];}if(d[j][1]>db.max||db.max==null){db.max=d[j][1];}}}}};$.jqplot.LinearAxisRenderer.prototype.draw=function(ctx){if(this.show){this.renderer.createTicks.call(this);var dim=0;var temp;this._elem=$('<div class="jqplot-axis jqplot-'+this.name+'" style="position:absolute;"></div>');if(this.name=='xaxis'||this.name=='x2axis'){this._elem.width(this._plotDimensions.width);}else{this._elem.height(this._plotDimensions.height);}this.labelOptions.axis=this.name;this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var elem=this._label.draw(ctx);elem.appendTo(this._elem);}if(this.showTicks){var t=this._ticks;for(var i=0;i<t.length;i++){var tick=t[i];if(tick.showLabel&&(!tick.isMinorTick||this.showMinorTicks)){var elem=tick.draw(ctx);elem.appendTo(this._elem);}}}}return this._elem;};$.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._min;this.max=this._max;this.tickInterval=this._tickInterval;this.numberTicks=this._numberTicks;};$.jqplot.LinearAxisRenderer.prototype.set=function(){var dim=0;var temp;var w=0;var h=0;var lshow=(this._label==null)?false:this._label.show;if(this.show&&this.showTicks){var t=this._ticks;for(var i=0;i<t.length;i++){var tick=t[i];if(tick.showLabel&&(!tick.isMinorTick||this.showMinorTicks)){if(this.name=='xaxis'||this.name=='x2axis'){temp=tick._elem.outerHeight(true);}else{temp=tick._elem.outerWidth(true);}if(temp>dim){dim=temp;}}}if(lshow){w=this._label._elem.outerWidth(true);h=this._label._elem.outerHeight(true);}if(this.name=='xaxis'){dim=dim+h;this._elem.css({'height':dim+'px',left:'0px',bottom:'0px'});}else if(this.name=='x2axis'){dim=dim+h;this._elem.css({'height':dim+'px',left:'0px',top:'0px'});}else if(this.name=='yaxis'){dim=dim+w;this._elem.css({'width':dim+'px',left:'0px',top:'0px'});if(lshow&&this._label.constructor==$.jqplot.AxisLabelRenderer){this._label._elem.css('width',w+'px');}}else{dim=dim+w;this._elem.css({'width':dim+'px',right:'0px',top:'0px'});if(lshow&&this._label.constructor==$.jqplot.AxisLabelRenderer){this._label._elem.css('width',w+'px');}}}};$.jqplot.LinearAxisRenderer.prototype.createTicks=function(){var ticks=this._ticks;var userTicks=this.ticks;var name=this.name;var db=this._dataBounds;var dim,interval;var min,max;var pos1,pos2;var tt,i;if(userTicks.length){for(i=0;i<userTicks.length;i++){var ut=userTicks[i];var t=new this.tickRenderer(this.tickOptions);if(ut.constructor==Array){t.value=ut[0];t.label=ut[1];if(!this.showTicks){t.showLabel=false;t.showMark=false;}else if(!this.showTickMarks){t.showMark=false;}t.setTick(ut[0],this.name);this._ticks.push(t);}else{t.value=ut;if(!this.showTicks){t.showLabel=false;t.showMark=false;}else if(!this.showTickMarks){t.showMark=false;}t.setTick(ut,this.name);this._ticks.push(t);}}this.numberTicks=userTicks.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value;this.tickInterval=(this.max-this.min)/(this.numberTicks-1);}else{if(name=='xaxis'||name=='x2axis'){dim=this._plotDimensions.width;}else{dim=this._plotDimensions.height;}if(!this.autoscale&&this.min!=null&&this.max!=null&&this.numberTicks!=null){this.tickInterval=null;}min=((this.min!=null)?this.min:db.min);max=((this.max!=null)?this.max:db.max);if(min==max){var adj=0.05;if(min>0){adj=Math.max(Math.log(min)/Math.LN10,0.05);}min-=adj;max+=adj;}var range=max-min;var rmin,rmax;var temp;if(this.autoscale&&this.min==null&&this.max==null){var rrange,ti,margin;var forceMinZero=false;var forceZeroLine=false;var intervals={min:null,max:null,average:null,stddev:null};for(var i=0;i<this._series.length;i++){var s=this._series[i];var faname=(s.fillAxis=='x')?s._xaxis.name:s._yaxis.name;if(this.name==faname){var vals=s._plotValues[s.fillAxis];var vmin=vals[0];var vmax=vals[0];for(var j=1;j<vals.length;j++){if(vals[j]<vmin){vmin=vals[j];}else if(vals[j]>vmax){vmax=vals[j];}}var dp=(vmax-vmin)/vmax;if(s.renderer.constructor==$.jqplot.BarRenderer){if(vmin>=0&&(s.fillToZero||dp>0.1)){forceMinZero=true;}else{forceMinZero=false;if(s.fill&&s.fillToZero&&vmin<0&&vmax>0){forceZeroLine=true;}else{forceZeroLine=false;}}}else if(s.fill){if(vmin>=0&&(s.fillToZero||dp>0.1)){forceMinZero=true;}else if(vmin<0&&vmax>0&&s.fillToZero){forceMinZero=false;forceZeroLine=true;}else{forceMinZero=false;forceZeroLine=false;}}else if(vmin<0){forceMinZero=false;}}}if(forceMinZero){this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);this.min=0;ti=max/(this.numberTicks-1);temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));if(ti/temp==parseInt(ti/temp,10)){ti+=temp;}this.tickInterval=Math.ceil(ti/temp)*temp;this.max=this.tickInterval*(this.numberTicks-1);}else if(forceZeroLine){this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);var ntmin=Math.ceil(Math.abs(min)/range*(this.numberTicks-1));var ntmax=this.numberTicks-1-ntmin;ti=Math.max(Math.abs(min/ntmin),Math.abs(max/ntmax));temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));this.tickInterval=Math.ceil(ti/temp)*temp;this.max=this.tickInterval*ntmax;this.min=-this.tickInterval*ntmin;}else{if(this.numberTicks==null){if(this.tickInterval){this.numberTicks=3+Math.ceil(range/this.tickInterval);}else{this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);}}if(this.tickInterval==null){ti=range/(this.numberTicks-1);if(ti<1){temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));}else{temp=1;}this.tickInterval=Math.ceil(ti*temp*this.pad)/temp;}else{temp=1/this.tickInterval;}rrange=this.tickInterval*(this.numberTicks-1);margin=(rrange-range)/2;if(this.min==null){this.min=Math.floor(temp*(min-margin))/temp;}if(this.max==null){this.max=this.min+rrange;}}}else{rmin=(this.min!=null)?this.min:min-range*(this.padMin-1);rmax=(this.max!=null)?this.max:max+range*(this.padMax-1);this.min=rmin;this.max=rmax;range=this.max-this.min;if(this.numberTicks==null){if(this.tickInterval!=null){this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1;this.max=this.min+this.tickInterval*(this.numberTicks-1);}else if(dim>100){this.numberTicks=parseInt(3+(dim-100)/75,10);}else{this.numberTicks=2;}}if(this.tickInterval==null){this.tickInterval=range/(this.numberTicks-1);}}for(var i=0;i<this.numberTicks;i++){tt=this.min+i*this.tickInterval;var t=new this.tickRenderer(this.tickOptions);if(!this.showTicks){t.showLabel=false;t.showMark=false;}else if(!this.showTickMarks){t.showMark=false;}t.setTick(tt,this.name);this._ticks.push(t);}}};$.jqplot.LinearAxisRenderer.prototype.pack=function(pos,offsets){var ticks=this._ticks;var max=this.max;var min=this.min;var offmax=offsets.max;var offmin=offsets.min;var lshow=(this._label==null)?false:this._label.show;for(var p in pos){this._elem.css(p,pos[p]);}this._offsets=offsets;var pixellength=offmax-offmin;var unitlength=max-min;this.p2u=function(p){return(p-offmin)*unitlength/pixellength+min;};this.u2p=function(u){return(u-min)*pixellength/unitlength+offmin;};if(this.name=='xaxis'||this.name=='x2axis'){this.series_u2p=function(u){return(u-min)*pixellength/unitlength;};this.series_p2u=function(p){return p*unitlength/pixellength+min;};}else{this.series_u2p=function(u){return(u-max)*pixellength/unitlength;};this.series_p2u=function(p){return p*unitlength/pixellength+max;};}if(this.show){if(this.name=='xaxis'||this.name=='x2axis'){for(i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle){var temp=(this.name=='xaxis')?1:-1;switch(t.labelPosition){case'auto':if(temp*t.angle<0){shim=-t.getWidth()+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;}else{shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;}break;case'end':shim=-t.getWidth()+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break;case'start':shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;break;case'middle':shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break;default:shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break;}}else{shim=-t.getWidth()/2;}var val=this.u2p(t.value)+shim+'px';t._elem.css('left',val);t.pack();}}if(lshow){var w=this._label._elem.outerWidth(true);this._label._elem.css('left',offmin+pixellength/2-w/2+'px');if(this.name=='xaxis'){this._label._elem.css('bottom','0px');}else{this._label._elem.css('top','0px');}this._label.pack();}}else{for(i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle){var temp=(this.name=='yaxis')?1:-1;switch(t.labelPosition){case'auto':case'end':if(temp*t.angle<0){shim=-t._textRenderer.height*Math.cos(-t._textRenderer.angle)/2;}else{shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/2;}break;case'start':if(t.angle>0){shim=-t._textRenderer.height*Math.cos(-t._textRenderer.angle)/2;}else{shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/2;}break;case'middle':shim=-t.getHeight()/2;break;default:shim=-t.getHeight()/2;break;}}else{shim=-t.getHeight()/2;}var val=this.u2p(t.value)+shim+'px';t._elem.css('top',val);t.pack();}}if(lshow){var h=this._label._elem.outerHeight(true);this._label._elem.css('top',offmax-pixellength/2-h/2+'px');if(this.name=='yaxis'){this._label._elem.css('left','0px');}else{this._label._elem.css('right','0px');}this._label.pack();}}}};$.jqplot.MarkerRenderer=nMarkerRenderer;$.jqplot.ShadowRenderer=nShadowRenderer;$.jqplot.ShapeRenderer=nShapeRenderer;$.jqplot.TableLegendRenderer=function(){};$.jqplot.TableLegendRenderer.prototype.init=function(options){$.extend(true,this,options);};$.jqplot.TableLegendRenderer.prototype.addrow=function(label,color,pad){var rs=(pad)?this.rowSpacing:'0';var tr=$('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem);$('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+rs+';">'+'<div><div class="jqplot-table-legend-swatch" style="border-color:'+color+';"></div>'+'</div></td>').appendTo(tr);var elem=$('<td class="jqplot-table-legend" style="padding-top:'+rs+';"></td>');elem.appendTo(tr);if(this.escapeHtml){elem.text(label);}else{elem.html(label);}};$.jqplot.TableLegendRenderer.prototype.draw=function(){var legend=this;if(this.show){var series=this._series;var ss='position:absolute;';ss+=(this.background)?'background:'+this.background+';':'';ss+=(this.border)?'border:'+this.border+';':'';ss+=(this.fontSize)?'font-size:'+this.fontSize+';':'';ss+=(this.fontFamily)?'font-family:'+this.fontFamily+';':'';ss+=(this.textColor)?'color:'+this.textColor+';':'';this._elem=$('<table class="jqplot-table-legend" style="'+ss+'"></table>');var pad=false;for(var i=0;i<series.length;i++){s=series[i];if(s.show&&s.showLabel){var lt=s.label.toString();if(lt){var color=s.color;if(s._stack&&!s.fill){color='';}this.renderer.addrow.call(this,lt,color,pad);pad=true;}for(var j=0;j<$.jqplot.addLegendRowHooks.length;j++){var item=$.jqplot.addLegendRowHooks[j].call(this,s);if(item){this.renderer.addrow.call(this,item.label,item.color,pad);pad=true;}}}}}return this._elem;};$.jqplot.TableLegendRenderer.prototype.pack=function(offsets){if(this.show){var grid={_top:offsets.top,_left:offsets.left,_right:offsets.right,_bottom:this._plotDimensions.height-offsets.bottom};switch(this.location){case'nw':var a=grid._left+this.xoffset;var b=grid._top+this.yoffset;this._elem.css('left',a);this._elem.css('top',b);break;case'n':var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;var b=grid._top+this.yoffset;this._elem.css('left',a);this._elem.css('top',b);break;case'ne':var a=offsets.right+this.xoffset;var b=grid._top+this.yoffset;this._elem.css({right:a,top:b});break;case'e':var a=offsets.right+this.xoffset;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({right:a,top:b});break;case'se':var a=offsets.right+this.xoffset;var b=offsets.bottom+this.yoffset;this._elem.css({right:a,bottom:b});break;case's':var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;var b=offsets.bottom+this.yoffset;this._elem.css({left:a,bottom:b});break;case'sw':var a=grid._left+this.xoffset;var b=offsets.bottom+this.yoffset;this._elem.css({left:a,bottom:b});break;case'w':var a=grid._left+this.xoffset;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({left:a,top:b});break;default:var a=grid._right-this.xoffset;var b=grid._bottom+this.yoffset;this._elem.css({right:a,bottom:b});break;}}};$.jqplot.sprintf=function(){function pad(str,len,chr,leftJustify){var padding=(str.length>=len)?'':Array(1+len-str.length>>>0).join(chr);return leftJustify?str+padding:padding+str;}function justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace){var diff=minWidth-value.length;if(diff>0){var spchar=' ';if(htmlSpace){spchar='&nbsp;';}if(leftJustify||!zeroPad){value=pad(value,minWidth,spchar,leftJustify);}else{value=value.slice(0,prefix.length)+pad('',diff,'0',true)+value.slice(prefix.length);}}return value;}function formatBaseX(value,base,prefix,leftJustify,minWidth,precision,zeroPad,htmlSpace){var number=value>>>0;prefix=prefix&&number&&{'2':'0b','8':'0','16':'0x'}[base]||'';value=prefix+pad(number.toString(base),precision||0,'0',false);return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace);}function formatString(value,leftJustify,minWidth,precision,zeroPad,htmlSpace){if(precision!=null){value=value.slice(0,precision);}return justify(value,'',leftJustify,minWidth,zeroPad,htmlSpace);}var a=arguments,i=0,format=a[i++];return format.replace($.jqplot.sprintf.regex,function(substring,valueIndex,flags,minWidth,_,precision,type){if(substring=='%%'){return'%';}var leftJustify=false,positivePrefix='',zeroPad=false,prefixBaseX=false,htmlSpace=false;for(var j=0;flags&&j<flags.length;j++)switch(flags.charAt(j)){case' ':positivePrefix=' ';break;case'+':positivePrefix='+';break;case'-':leftJustify=true;break;case'0':zeroPad=true;break;case'#':prefixBaseX=true;break;case'&':htmlSpace=true;break;}if(!minWidth){minWidth=0;}else if(minWidth=='*'){minWidth=+a[i++];}else if(minWidth.charAt(0)=='*'){minWidth=+a[minWidth.slice(1,-1)];}else{minWidth=+minWidth;}if(minWidth<0){minWidth=-minWidth;leftJustify=true;}if(!isFinite(minWidth)){throw new Error('$.jqplot.sprintf: (minimum-)width must be finite');}if(!precision){precision='fFeE'.indexOf(type)>-1?6:(type=='d')?0:void(0);}else if(precision=='*'){precision=+a[i++];}else if(precision.charAt(0)=='*'){precision=+a[precision.slice(1,-1)];}else{precision=+precision;}var value=valueIndex?a[valueIndex.slice(0,-1)]:a[i++];switch(type){case's':{if(value==null){return'';}return formatString(String(value),leftJustify,minWidth,precision,zeroPad,htmlSpace);}case'c':return formatString(String.fromCharCode(+value),leftJustify,minWidth,precision,zeroPad,htmlSpace);case'b':return formatBaseX(value,2,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case'o':return formatBaseX(value,8,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case'x':return formatBaseX(value,16,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case'X':return formatBaseX(value,16,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace).toUpperCase();case'u':return formatBaseX(value,10,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case'i':case'd':{var number=parseInt(+value,10);if(isNaN(number)){return'';}var prefix=number<0?'-':positivePrefix;value=prefix+pad(String(Math.abs(number)),precision,'0',false);return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace);}case'e':case'E':case'f':case'F':case'g':case'G':{var number=+value;if(isNaN(number)){return'';}var prefix=number<0?'-':positivePrefix;var method=['toExponential','toFixed','toPrecision']['efg'.indexOf(type.toLowerCase())];var textTransform=['toString','toUpperCase']['eEfFgG'.indexOf(type)%2];value=prefix+Math.abs(number)[method](precision);return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace)[textTransform]();}case'p':case'P':{var number=+value;if(isNaN(number)){return'';}var prefix=number<0?'-':positivePrefix;var parts=String(Number(Math.abs(number)).toExponential()).split(/e|E/);var sd=(parts[0].indexOf('.')!=-1)?parts[0].length-1:parts[0].length;var zeros=(parts[1]<0)?-parts[1]-1:0;if(Math.abs(number)<1){if(sd+zeros<=precision){value=prefix+Math.abs(number).toPrecision(sd);}else{if(sd<=precision-1){value=prefix+Math.abs(number).toExponential(sd-1);}else{value=prefix+Math.abs(number).toExponential(precision-1);}}}else{var prec=(sd<=precision)?sd:precision;value=prefix+Math.abs(number).toPrecision(prec);}var textTransform=['toString','toUpperCase']['pP'.indexOf(type)%2];return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace)[textTransform]();}case'n':return'';default:return substring;}});};$.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0& ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g;})(jQuery);function nMarkerRenderer(options){this.show=true;this.style='filledCircle';this.lineWidth=2;this.size=9.0;this.color='#666666';this.shadow=true;this.shadowAngle=45;this.shadowOffset=1;this.shadowDepth=3;this.shadowAlpha='0.07';this.shadowRenderer=new nShadowRenderer();this.shapeRenderer=new nShapeRenderer();this.draw=function(x,y,ctx,options){options=options||{};switch(this.style){case'upVee':this.drawUpVee(x,y,ctx,false,options);break;case'downVee':this.drawDownVee(x,y,ctx,false,options);break;case'diamond':this.drawDiamond(x,y,ctx,false,options);break;case'filledDiamond':this.drawDiamond(x,y,ctx,true,options);break;case'star':this.drawStar(x,y,ctx,false,options);break;case'filledStar':this.drawStar(x,y,ctx,true,options);break;case'rectDiagRight':this.drawRectangleDiag(x,y,ctx,false,options,"r");break;case'filledRectDiagRight':this.drawRectangleDiag(x,y,ctx,true,options,"r");break;case'rectDiagLeft':this.drawRectangleDiag(x,y,ctx,false,options,"l");break;case'filledRectDiagLeft':this.drawRectangleDiag(x,y,ctx,true,options,"l");break;case'triangleRight':this.drawTriangle(x,y,ctx,false,options,"r");break;case'filledTriangleRight':this.drawTriangle(x,y,ctx,true,options,"r");break;case'triangleLeft':this.drawTriangle(x,y,ctx,false,options,"l");break;case'filledTriangleLeft':this.drawTriangle(x,y,ctx,true,options,"l");break;case'triangleUp':this.drawTriangle(x,y,ctx,false,options,"u");break;case'filledTriangleUp':this.drawTriangle(x,y,ctx,true,options,"u");break;case'triangleDown':this.drawTriangle(x,y,ctx,false,options,"d");break;case'filledTriangleDown':this.drawTriangle(x,y,ctx,true,options,"d");break;case'rectHorizontal':this.drawRectangle(x,y,ctx,false,options,"h");break;case'filledRectHorizontal':this.drawRectangle(x,y,ctx,true,options,"h");break;case'rectVertical':this.drawRectangle(x,y,ctx,false,options,"v");break;case'filledRectVertical':this.drawRectangle(x,y,ctx,true,options,"v");break;case'heart':this.drawHeart(x,y,ctx,false,options);break;case'filledHeart':this.drawHeart(x,y,ctx,true,options);break;case'circle':this.drawCircle(x,y,ctx,false,options);break;case'filledCircle':this.drawCircle(x,y,ctx,true,options);break;case'square':this.drawSquare(x,y,ctx,false,options);break;case'filledSquare':this.drawSquare(x,y,ctx,true,options);break;case'x':this.drawX(x,y,ctx,true,options);break;case'plus':this.drawPlus(x,y,ctx,true,options);break;case'dash':this.drawDash(x,y,ctx,true,options);break;default:this.drawDiamond(x,y,ctx,false,options);break;}};this.init=function(options){$.extend(true,this,options);var sdopt={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:true};if(this.style.indexOf('filled')!=-1){sdopt.fill=true;}if(this.style.indexOf('ircle')!=-1){sdopt.isarc=true;sdopt.closePath=false;}this.shadowRenderer.init(sdopt);var shopt={fill:false,isarc:false,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:true};if(this.style.indexOf('filled')!=-1){shopt.fill=true;}if(this.style.indexOf('ircle')!=-1){shopt.isarc=true;shopt.closePath=false;}this.shapeRenderer.init(shopt);};this.drawLine=function(x1,y1,x2,y2,ctx){ctx.save();ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.strokeStyle=this.color;ctx.stroke();ctx.restore();};this.drawUpVee=function(x,y,ctx,fill,options){var stretch=1.2;var dx=this.size/1/stretch;var dy=this.size/1*stretch;var opts=$.extend(true,{},this.options,{closePath:false});var points=[[x+dx,y+dy],[x,y],[x-dx,y+dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points,{closePath:false});}this.shapeRenderer.draw(ctx,points,opts);ctx.restore();};this.drawDownVee=function(x,y,ctx,fill,options){var stretch=1.2;var dx=this.size/1/stretch;var dy=this.size/1*stretch;var opts=$.extend(true,{},this.options,{closePath:false});var points=[[x+dx,y-dy],[x,y],[x-dx,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points,{closePath:false});}this.shapeRenderer.draw(ctx,points,opts);ctx.restore();};this.drawDiamond=function(x,y,ctx,fill,options){var stretch=1.2;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=[[x-dx,y],[x,y+dy],[x+dx,y],[x,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawStar=function(x,y,ctx,fill,options){var stretch=1.2;var dx=this.size/2*stretch;var dy=0-(this.size/2*stretch);var dyE=0-(this.size/1.5*stretch);var points=[[x,y+dyE],[x+(dx/3),y+(dy/2)],[x+dx,y+(dy/2)],[x+(dx/2),y],[x+dx,y-dy],[x,y-(dy/2)],[x-dx,y-dy],[x-(dx/2),y],[x-dx,y+(dy/2)],[x-(dx/3),y+(dy/2)]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawRectangleDiag=function(x,y,ctx,fill,options,direction){var stretch=1.2;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=null;switch(direction){case"l":points=[[x,y+dy],[x+dx,y+(dy/2)],[x,y-dx],[x-dx,y-(dy/2)]];break;default:points=[[x,y+dy],[x+dx,y-(dy/2)],[x,y-dx],[x-dx,y+(dy/2)]];break;}if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawTriangle=function(x,y,ctx,fill,options,direction){var stretch=1.2;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=null;switch(direction){case"r":points=[[x+dx,y],[x-dx,y-dy],[x-dx,y+dx]];break;case"l":points=[[x-dx,y],[x+dx,y-dy],[x+dx,y+dx]];break;case"d":points=[[x,y+dy],[x-dx,y-dy],[x+dx,y-dx]];break;default:points=[[x,y-dy],[x-dx,y+dy],[x+dx,y+dx]];break;}if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawRectangle=function(x,y,ctx,fill,options,direction){var stretch=1.2;var dx=this.size/2*stretch;var dy=this.size/2*stretch;switch(direction){case"v":dx=this.size/4*stretch;break;default:dy=this.size/4*stretch;break;}var points=[[x-dx,y-dy],[x-dx,y+dy],[x+dx,y+dy],[x+dx,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawHeart=function(x,y,ctx,fill,options){var stretch=1.5;var dx=this.size/2*stretch;var dy=0-(this.size/2*stretch);var points=[[x,y+(dy/2)],[x+(dx/3),y+dy],[x+dx,y+dy],[x+dx,y],[x,y-dy],[x-dx,y],[x-dx,y+dy],[x-(dx/3),y+dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawPlus=function(x,y,ctx,fill,options){var stretch=1.0;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points1=[[x,y-dy],[x,y+dy]];var points2=[[x+dx,y],[x-dx,y]];var opts=$.extend(true,{},this.options,{closePath:false});if(this.shadow){this.shadowRenderer.draw(ctx,points1,{closePath:false});this.shadowRenderer.draw(ctx,points2,{closePath:false});}this.shapeRenderer.draw(ctx,points1,opts);this.shapeRenderer.draw(ctx,points2,opts);ctx.restore();};this.drawX=function(x,y,ctx,fill,options){var stretch=1.0;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var opts=$.extend(true,{},this.options,{closePath:false});var points1=[[x-dx,y-dy],[x+dx,y+dy]];var points2=[[x-dx,y+dy],[x+dx,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points1,{closePath:false});this.shadowRenderer.draw(ctx,points2,{closePath:false});}this.shapeRenderer.draw(ctx,points1,opts);this.shapeRenderer.draw(ctx,points2,opts);ctx.restore();};this.drawDash=function(x,y,ctx,fill,options){var stretch=1.0;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=[[x-dx,y],[x+dx,y]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawSquare=function(x,y,ctx,fill,options){var stretch=1.0;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=[[x-dx,y-dy],[x-dx,y+dy],[x+dx,y+dy],[x+dx,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.drawCircle=function(x,y,ctx,fill,options){var radius=this.size/2;var end=2*Math.PI;var points=[x,y,radius,0,end,true];if(this.shadow){this.shadowRenderer.draw(ctx,points);}this.shapeRenderer.draw(ctx,points,options);ctx.restore();};this.init(options);}function nShadowRenderer(options){this.angle=45;this.offset=1;this.alpha=0.07;this.lineWidth=1.5;this.lineJoin='miter';this.lineCap='round';this.closePath=false;this.fill=false;this.depth=3;this.isarc=false;this.draw=function(ctx,points,options){ctx.save();var opts=(options!=null)?options:{};var fill=(opts.fill!=null)?opts.fill:this.fill;var closePath=(opts.closePath!=null)?opts.closePath:this.closePath;var offset=(opts.offset!=null)?opts.offset:this.offset;var alpha=(opts.alpha!=null)?opts.alpha:this.alpha;var depth=(opts.depth!=null)?opts.depth:this.depth;ctx.lineWidth=(opts.lineWidth!=null)?opts.lineWidth:this.lineWidth;ctx.lineJoin=(opts.lineJoin!=null)?opts.lineJoin:this.lineJoin;ctx.lineCap=(opts.lineCap!=null)?opts.lineCap:this.lineCap;ctx.strokeStyle='rgba(0,0,0,'+alpha+')';ctx.fillStyle='rgba(0,0,0,'+alpha+')';for(var j=0;j<depth;j++){ctx.translate(Math.cos(this.angle*Math.PI/180)*offset,Math.sin(this.angle*Math.PI/180)*offset);ctx.beginPath();if(this.isarc){try{ctx.arc(points[0],points[1],points[2],points[3],points[4],true);}catch(e){}}else{ctx.moveTo(points[0][0],points[0][1]);for(var i=1;i<points.length;i++){ctx.lineTo(points[i][0],points[i][1]);}}if(closePath){ctx.closePath();}if(fill){ctx.fill();}else{ctx.stroke();}}ctx.restore();};this.init=function(options){$.extend(true,this,options);};$.extend(true,this,options);}function nShapeRenderer(options){this.lineWidth=1.5;this.lineJoin='miter';this.lineCap='round';this.closePath=false;this.fill=false;this.isarc=false;this.fillRect=false;this.strokeRect=false;this.clearRect=false;this.strokeStyle='#999999';this.fillStyle='#999999';this.draw=function(ctx,points,options){ctx.save();var opts=(options!=null)?options:{};var fill=(opts.fill!=null)?opts.fill:this.fill;var closePath=(opts.closePath!=null)?opts.closePath:this.closePath;var fillRect=(opts.fillRect!=null)?opts.fillRect:this.fillRect;var strokeRect=(opts.strokeRect!=null)?opts.strokeRect:this.strokeRect;var clearRect=(opts.clearRect!=null)?opts.clearRect:this.clearRect;var isarc=(opts.isarc!=null)?opts.isarc:this.isarc;ctx.lineWidth=opts.lineWidth||this.lineWidth;ctx.lineJoin=opts.lineJoing||this.lineJoin;ctx.lineCap=opts.lineCap||this.lineCap;ctx.strokeStyle=(opts.strokeStyle||opts.color)||this.strokeStyle;ctx.fillStyle=opts.fillStyle||this.fillStyle;ctx.beginPath();if(isarc){ctx.arc(points[0],points[1],points[2],points[3],points[4],true);if(closePath){ctx.closePath();}if(fill){ctx.fill();}else{ctx.stroke();}ctx.restore();return;}else if(clearRect){ctx.clearRect(points[0],points[1],points[2],points[3]);ctx.restore();return;}else if(fillRect||strokeRect){if(fillRect){ctx.fillRect(points[0],points[1],points[2],points[3]);}if(strokeRect){ctx.strokeRect(points[0],points[1],points[2],points[3]);ctx.restore();return;}}else{ctx.moveTo(points[0][0],points[0][1]);for(var i=1;i<points.length;i++){ctx.lineTo(points[i][0],points[i][1]);}if(closePath){ctx.closePath();}if(fill){ctx.fill();}else{ctx.stroke();}}ctx.restore();};this.init=function(options){$.extend(true,this,options);};$.extend(true,this,options);}