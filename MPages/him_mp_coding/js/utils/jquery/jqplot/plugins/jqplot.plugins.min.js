(function($){$.jqplot.DateAxisRenderer=function(){$.jqplot.LinearAxisRenderer.call(this);};$.jqplot.DateAxisRenderer.prototype=new $.jqplot.LinearAxisRenderer();$.jqplot.DateAxisRenderer.prototype.constructor=$.jqplot.DateAxisRenderer;$.jqplot.DateTickFormatter=function(format,val){if(!format){format='%Y/%m/%d';}
return Date.create(val).strftime(format);};$.jqplot.DateTickFormatterSpecial=function(format,val,showDate){var iDate=Date.create(Math.abs(val));var curDtTm=new Date;curDtTm.setMilliseconds(0);curDtTm.setSeconds(0);var nFormat="<span class='jqplot-elem-showOnHover'>%#m/%#d/%Y %H:%M</span><span class='jqplot-elem-hideOnHover nowTime'>%H:%M</span>";return iDate.strftime(nFormat);};$.jqplot.DateTickFormatterXSpecial=function(format,val,showDate){var iDate=Date.create(Math.abs(val));var curDtTm=new Date();curDtTm.setMilliseconds(0);curDtTm.setSeconds(0);var nFormat=format;if(DAR_HELPERS.createdNow&&iDate.getTime()==curDtTm.getTime())
{nFormat="<span class='jqplot-elem-hideOnHover'> </span><span class='jqplot-elem-showOnHover'>%#m/%#d/%Y %H:%M</span>";}
else if(showDate||(iDate.getMilliseconds()==0&&iDate.getSeconds()==0&&iDate.getMinutes()==0&&iDate.getHours()==0)){nFormat="<span class='jqplot-elem-showOnHover'>%#m/%#d/%Y </span>%H:%M<br class='jqplot-elem-hideOnHover'/><span class='jqplot-elem-hideOnHover'>%#m/%#d/%y</span>";}
else{nFormat="<span class='jqplot-elem-showOnHover'>%#m/%#d/%Y </span>%H:%M";}
return iDate.strftime(nFormat);};$.jqplot.DateTickFormatterX2Special=function(format,val,showDate){var iDate=Date.create(Math.abs(val));var curDtTm=new Date();curDtTm.setMilliseconds(0);curDtTm.setSeconds(0);var nFormat=format;if(DAR_HELPERS.createdNow&&iDate.getTime()==curDtTm.getTime())
{nFormat="<span class='jqplot-elem-hideOnHover'> </span><span class='jqplot-elem-showOnHover'>%#m/%#d/%Y %H:%M</span>";}
else if(showDate||(iDate.getMilliseconds()==0&&iDate.getSeconds()==0&&iDate.getMinutes()==0&&iDate.getHours()==0)){nFormat="%#m/%#d/<span class='jqplot-elem-showOnHover'>%Y</span><span class='jqplot-elem-hideOnHover'>%y</span><br class='jqplot-elem-hideOnHover'/><span class='jqplot-elem-showOnHover'> </span>%H:%M";}
else{nFormat="<span class='jqplot-elem-showOnHover'>%#m/%#d/%Y</span> <br class='jqplot-elem-hideOnHover'/>%H:%M";}
return iDate.strftime(nFormat);};$.jqplot.DateTickFormatterYSpecial=function(format,val,showDate){var iDate=Date.create(Math.abs(val));var curDtTm=new Date();curDtTm.setMilliseconds(0);curDtTm.setSeconds(0);var nFormat=format;if(DAR_HELPERS.createdNow&&iDate.getTime()==curDtTm.getTime())
{nFormat="<span class='jqplot-elem-hideOnHover'> </span><span class='jqplot-elem-showOnHover'>%#m/%#d/%Y %H:%M</span>";}
else if(showDate||(iDate.getMilliseconds()==0&&iDate.getSeconds()==0&&iDate.getMinutes()==0&&iDate.getHours()==0)){nFormat="%#m/%#d/<span class='jqplot-elem-showOnHover'>%Y</span><span class='jqplot-elem-hideOnHover'>%y</span><br class='jqplot-elem-hideOnHover'/><span class='jqplot-elem-showOnHover'> </span>%H:%M";}
else{nFormat="<span class='jqplot-elem-showOnHover'>%#m/%#d/%Y </span>%H:%M";}
return iDate.strftime(nFormat);};$.jqplot.DateAxisRenderer.prototype.init=function(options){this.daTickInterval=null;this._daTickInterval=null;$.extend(true,this,options);if(this.specialFormat&&this.specialFormatFlag!=null&&this.specialFormatFlag==1)
{this.tickOptions.formatter=$.jqplot.DateTickFormatterSpecial;}
else if(this.specialFormat&&this.name.match("xaxis")!=null)
{this.tickOptions.formatter=$.jqplot.DateTickFormatterXSpecial;}
else if(this.specialFormat&&this.name.match(/^x/)!=null)
{this.tickOptions.formatter=$.jqplot.DateTickFormatterX2Special;}
else if(this.specialFormat&&this.name.match(/^y/)!=null)
{this.tickOptions.formatter=$.jqplot.DateTickFormatterYSpecial;}
else
{this.tickOptions.formatter=$.jqplot.DateTickFormatter;}
var db=this._dataBounds;for(var i=0;i<this._series.length;i++){var s=this._series[i];var d=s.data;var pd=s._plotData;var sd=s._stackData;for(var j=0;j<d.length;j++){if(this.name.match(/^x/)){d[j][0]=Date.create(d[j][0]).getTime();pd[j][0]=Date.create(d[j][0]).getTime();sd[j][0]=Date.create(d[j][0]).getTime();if(d[j][0]<db.min||db.min==null){db.min=d[j][0];}
if(d[j][0]>db.max||db.max==null){db.max=d[j][0];}}
else{d[j][1]=Date.create(d[j][1]).getTime();pd[j][1]=Date.create(d[j][1]).getTime();sd[j][1]=Date.create(d[j][1]).getTime();if(d[j][1]<db.min||db.min==null){db.min=d[j][1];}
if(d[j][1]>db.max||db.max==null){db.max=d[j][1];}}}}};$.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._min;this.max=this._max;this.tickInterval=this._tickInterval;this.numberTicks=this._numberTicks;this.daTickInterval=this._daTickInterval;this.useDST=this._useDST;this.specialFormat=this._specialFormat;this.specialFormatFlag=this._specialFormatFlag;};$.jqplot.DateAxisRenderer.prototype.createTicks=function(){var ticks=this._ticks;var userTicks=this.ticks;var name=this.name;var db=this._dataBounds;var midnightExists=false;var dim,interval;var min,max;var pos1,pos2;var tt,i;if(this.specialFormat)
{if(this.specialFormatFlag==null||this.specialFormatFlag!=1){var minDtTm=Date.create(this.min);var maxDtTm=Date.create(this.max);DAR_HELPERS.createdNow=true;var tickVals=DAR_HELPERS.DynamicRangeTickCalc(minDtTm.getTime(),maxDtTm.getTime());this.numberTicks=tickVals.length;userTicks=tickVals;midnightExists=false;for(var i=0;i<userTicks.length;i++)
{var tDate=Date.create(userTicks[i]);if(tDate.getMilliseconds()==0&&tDate.getSeconds()==0&&tDate.getMinutes()==0&&tDate.getHours()==0)
midnightExists=true;}
this.min=tickVals[0];this.max=tickVals[tickVals.length-1];this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1000,'seconds'];}
else if(this.specialFormatFlag==1)
userTicks=[new Date().getTime()];if(this.specialFormatFlag==2)
{var tempTicks=[],cDiffOpt=null,cDiff=null;for(var i=0;i<userTicks.length;i++)
{var t1Time=(userTicks[i].constructor==Array)?userTicks[i][0]:userTicks[i];if(i==0)
tempTicks.push(t1Time);else
{var t2Time=(userTicks[i-1].constructor==Array)?userTicks[i-1][0]:userTicks[i-1];cDiff=t1Time-t2Time;var t1Date=Date.create(t1Time),t2Date=Date.create(t2Time);eval(["t1Date.set",DAR_HELPERS.tickDiff[1],"(t1Date.get",DAR_HELPERS.tickDiff[1],"()-DAR_HELPERS.tickDiff[0]);"].join(""));if(t1Date.getTime()==t2Date.getTime())
{tempTicks.push(Math.round(t2Time+(cDiff/2)));tempTicks.push(t1Time);}
else
{if(DAR_HELPERS.tickDiff[0]==1&&DAR_HELPERS.tickDiff[1]=="Date")
t2Date.setHours(t2Date.getHours()+12);else if(DAR_HELPERS.tickDiff[0]==1&&DAR_HELPERS.tickDiff[1]=="Month")
t2Date.setDate(t2Date.getDate()+15);else
eval(["t2Date.set",DAR_HELPERS.tickDiff[1],"(t2Date.get",DAR_HELPERS.tickDiff[1],"()+Math.round(DAR_HELPERS.tickDiff[0]/2));"].join(""));var t2TempTime=t2Date.getTime();if(t2TempTime>=t1Time)
{tempTicks.push(t1Time);}
else
{tempTicks.push(t2TempTime);tempTicks.push(t1Time);}}}}
userTicks=tempTicks;this.numberTicks=userTicks.length;}}
if(userTicks.length){for(i=0;i<userTicks.length;i++){var t=new this.tickRenderer(this.tickOptions);t.value=Date.create((userTicks[i].constructor==Array)?userTicks[i][0]:userTicks[i]).getTime();if(t.value>this.max)
continue;t.label=(userTicks[i].constructor==Array)?userTicks[i][1]:null;var dateShown=false;if(this.specialFormat)
{if(i==0&&!midnightExists)
dateShown=true;if(this.specialFormatFlag!=null&&this.specialFormatFlag==2)
{if(i==0||i==(userTicks.length-1))
{t.showLabel=false;t.showGridline=false;t.showMark=false;}
else if((i%2)==0)
{t.showGridline=false;t.showLabel=true;t.showMark=false;}
else
{t.showGridline=true;t.showLabel=false;t.showMark=true;}}
else if(userTicks.length>=2&&i==(userTicks.length-1)&&userTicks[userTicks.length-1]==this.max)
{var t1Date=Date.create((userTicks[i-1].constructor==Array)?userTicks[i-1][0]:userTicks[i-1]);var t2Date=Date.create((userTicks[i].constructor==Array)?userTicks[i][0]:userTicks[i]);eval(["t2Date.set",DAR_HELPERS.tickDiff[1],"(t2Date.get",DAR_HELPERS.tickDiff[1],"()-DAR_HELPERS.tickDiff[0]);"].join(""));if(t1Date.getTime()!=t2Date.getTime())
{t.showLabel=false;t.showGridline=false;t.showMark=false;}}}
if(!this.showTicks){t.showLabel=false;t.showMark=false;}
else if(!this.showTickMarks){t.showMark=false;}
t.setTick(t.value,this.name,false,dateShown);this._ticks.push(t);}
this.numberTicks=userTicks.length;if(!this.specialFormat){this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value;}
this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1000,'seconds'];}
else{if(name.match(/^x/)){dim=this._plotDimensions.width;}
else{dim=this._plotDimensions.height;}
if(this.min!=null&&this.max!=null&&this.numberTicks!=null){this.tickInterval=null;}
if(this.tickInterval!=null)
{if(Number(this.tickInterval)){this.daTickInterval=[Number(this.tickInterval),'seconds'];}
else if(typeof this.tickInterval=="string"){var parts=this.tickInterval.split(' ');if(parts.length==1){this.daTickInterval=[1,parts[0]];}
else if(parts.length==2){this.daTickInterval=[parts[0],parts[1]];}}}
min=((this.min!=null)?Date.create(this.min).getTime():db.min);max=((this.max!=null)?Date.create(this.max).getTime():db.max);if(min==max){var adj=24*60*60*500;min-=adj;max+=adj;}
var range=max-min;var rmin,rmax;rmin=(this.min!=null)?Date.create(this.min).getTime():min-range/2*(this.padMin-1);rmax=(this.max!=null)?Date.create(this.max).getTime():max+range/2*(this.padMax-1);this.min=rmin;this.max=rmax;range=this.max-this.min;if(this.numberTicks==null){if(this.daTickInterval!=null){var nc=Date.create(this.max).diff(this.min,this.daTickInterval[1],true);this.numberTicks=Math.ceil(nc/this.daTickInterval[0])+1;this.max=Date.create(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime();}
else if(dim>200){this.numberTicks=parseInt(3+(dim-200)/100,10);}
else{this.numberTicks=2;}}
if(this.daTickInterval==null){this.daTickInterval=[range/(this.numberTicks-1)/1000,'seconds'];}
for(var i=0;i<this.numberTicks;i++){var min=Date.create(this.min);if(this.useDST){tt=min.add(i*this.daTickInterval[0],this.daTickInterval[1]).getTime();}
else{tt=min.addNoDST(i*this.daTickInterval[0],this.daTickInterval[1]).getTime();}
var t=new this.tickRenderer(this.tickOptions);if(!this.showTicks){t.showLabel=false;t.showMark=false;}
else if(!this.showTickMarks){t.showMark=false;}
t.setTick(tt,this.name);this._ticks.push(t);}}
if(this._daTickInterval==null){this._daTickInterval=this.daTickInterval;}};})(jQuery);var DAR_HELPERS=function(){return{createdNow:false,tickDiff:null,DynamicRangeTickCalc:function(iMin,iMax){var unitSize={"second":1000,"minute":60*1000,"hour":60*60*1000,"day":24*60*60*1000,"month":30*24*60*60*1000,"year":365.2425*24*60*60*1000};var minDtTm=Date.create(iMin);var maxDtTm=Date.create(iMax);var dtTmDiff=iMax-iMin;var tickVals=[],curDtTm=new Date(),noNowTick=false;curDtTm.setMilliseconds(0);curDtTm.setSeconds(0);if(dtTmDiff<=(2*unitSize["second"]))
{DAR_HELPERS.tickDiff=[250,"Milliseconds"];if((maxDtTm.getMilliseconds()%250)!=0)
maxDtTm.setMilliseconds(maxDtTm.getMilliseconds()+(250-(maxDtTm.getMilliseconds()%250)));tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setMilliseconds(maxDtTm.getMilliseconds()-250);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=((2*unitSize["minute"])+(15*unitSize["second"])))
{DAR_HELPERS.tickDiff=[15,"Seconds"];if((maxDtTm.getSeconds()%15)!=0||((maxDtTm.getSeconds()%15)==0&&maxDtTm.getMilliseconds()>0))
maxDtTm.setSeconds(maxDtTm.getSeconds()+(15-(maxDtTm.getSeconds()%15)));maxDtTm.setMilliseconds(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setSeconds(maxDtTm.getSeconds()-15);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=((2*unitSize["hour"])+(15*unitSize["minute"])))
{DAR_HELPERS.tickDiff=[15,"Minutes"];if((maxDtTm.getMinutes()%15)!=0||((maxDtTm.getMinutes()%15)==0&&(maxDtTm.getSeconds()>0||maxDtTm.getMilliseconds()>0)))
maxDtTm.setMinutes(maxDtTm.getMinutes()+(15-(maxDtTm.getMinutes()%15)));maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setMinutes(maxDtTm.getMinutes()-15);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=(unitSize["day"]+(2*unitSize["hour"])))
{DAR_HELPERS.tickDiff=[2,"Hours"];if((maxDtTm.getHours()%2)!=0||((maxDtTm.getHours()%2)==0&&(maxDtTm.getMinutes()>0||maxDtTm.getSeconds()>0||maxDtTm.getMilliseconds()>0)))
maxDtTm.setHours(maxDtTm.getHours()+(2-(maxDtTm.getHours()%2)));maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);maxDtTm.setMinutes(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setHours(maxDtTm.getHours()-2);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=((2*unitSize["day"])+(4*unitSize["hour"])))
{DAR_HELPERS.tickDiff=[4,"Hours"];if((maxDtTm.getHours()%4)!=0||((maxDtTm.getHours()%4)==0&&(maxDtTm.getMinutes()>0||maxDtTm.getSeconds()>0||maxDtTm.getMilliseconds()>0)))
maxDtTm.setHours(maxDtTm.getHours()+(4-(maxDtTm.getHours()%4)));maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);maxDtTm.setMinutes(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setHours(maxDtTm.getHours()-4);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=(15*unitSize["day"]))
{DAR_HELPERS.tickDiff=[1,"Date"];if(maxDtTm.getMilliseconds()>0||maxDtTm.getSeconds()>0||maxDtTm.getMinutes()>0||maxDtTm.getHours()>0)
maxDtTm.setDate(maxDtTm.getDate()+1);maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);maxDtTm.setMinutes(0);maxDtTm.setHours(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setDate(maxDtTm.getDate()-1);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else if(dtTmDiff<=((2*unitSize["month"])+(7*unitSize["day"])))
{DAR_HELPERS.tickDiff=[7,"Date"];if(maxDtTm.getMilliseconds()>0||maxDtTm.getSeconds()>0||maxDtTm.getMinutes()>0||maxDtTm.getHours()>0)
maxDtTm.setDate(maxDtTm.getDate()+1);maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);maxDtTm.setMinutes(0);maxDtTm.setHours(0);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setDate(maxDtTm.getDate()-7);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
else
{DAR_HELPERS.tickDiff=[1,"Month"];if(maxDtTm.getDate()>1||(maxDtTm.getDate()==1&&(maxDtTm.getMilliseconds()>0||maxDtTm.getSeconds()>0||maxDtTm.getMinutes()>0||maxDtTm.getHours()>0)))
maxDtTm.setMonth(maxDtTm.getMonth()+1);maxDtTm.setMilliseconds(0);maxDtTm.setSeconds(0);maxDtTm.setMinutes(0);maxDtTm.setHours(0);maxDtTm.setDate(1);tickVals.push(maxDtTm.getTime());while(maxDtTm.getTime()>minDtTm.getTime())
{maxDtTm.setMonth(maxDtTm.getMonth()-1);if(maxDtTm.getTime()==curDtTm.getTime())
noNowTick=true;else if(!noNowTick&&!DAR_HELPERS.createdNow&&maxDtTm.getTime()<curDtTm.getTime())
{DAR_HELPERS.createdNow=true;tickVals.push(curDtTm.getTime());}
tickVals.push(maxDtTm.getTime());}}
tickVals.reverse();if(tickVals[tickVals.length-1]>new Date().getTime())
tickVals[tickVals.length-1]=new Date().getTime();return tickVals;}}}();(function($){$.jqplot.Cursor=function(options){this.style='crosshair';this.previousCursor='auto';this.snapZoomTo=null;this.show=$.jqplot.config.enablePlugins;this.performOnZoom=function(plot){};this.performAfterZoom=function(plot){};this.showTooltip=true;this.followMouse=false;this.tooltipLocation='se';this.tooltipOffset=6;this.showTooltipGridPosition=false;this.showTooltipUnitPosition=true;this.showTooltipDataPosition=false;this.tooltipFormatString='%.4P, %.4P';this.useAxesFormatters=true;this.tooltipAxisGroups=[];this.zoom=false;this.zoomProxy=false;this.zoomOnController=false;this.zoomTarget=false;this.clickReset=false;this.dblClickReset=true;this.showVerticalLine=false;this.showHorizontalLine=false;this.constrainZoomTo='none';this.shapeRenderer=new $.jqplot.ShapeRenderer();this._zoom={start:[],end:[],started:false,zooming:false,isZoomed:false,axes:{start:{},end:{}}};this._tooltipElem;this.zoomCanvas;this.cursorCanvas;this.intersectionThreshold=2;this.showCursorLegend=false;this.cursorLegendFormatString=$.jqplot.Cursor.cursorLegendFormatString;$.extend(true,this,options);};$.jqplot.Cursor.cursorLegendFormatString='%s x:%s, y:%s';$.jqplot.Cursor.init=function(target,data,opts){var options=opts||{};this.plugins.cursor=new $.jqplot.Cursor(options.cursor);var c=this.plugins.cursor;if(c.show){$.jqplot.eventListenerHooks.push(['jqplotMouseEnter',handleMouseEnter]);$.jqplot.eventListenerHooks.push(['jqplotMouseLeave',handleMouseLeave]);$.jqplot.eventListenerHooks.push(['jqplotMouseMove',handleMouseMove]);if(c.showCursorLegend){opts.legend=opts.legend||{};opts.legend.renderer=$.jqplot.CursorLegendRenderer;opts.legend.formatString=this.plugins.cursor.cursorLegendFormatString;opts.legend.show=true;}
if(c.zoom){$.jqplot.eventListenerHooks.push(['jqplotMouseDown',handleMouseDown]);$.jqplot.eventListenerHooks.push(['jqplotMouseUp',handleMouseUp]);if(c.clickReset){$.jqplot.eventListenerHooks.push(['jqplotClick',handleClick]);}
if(c.dblClickReset){$.jqplot.eventListenerHooks.push(['jqplotDblClick',handleDblClick]);}}
this.resetZoom=function(){var axes=this.axes;if(!c.zoomProxy){for(var ax in axes){axes[ax].reset();}
this.replot();}
else{var ctx=this.plugins.cursor.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}
this.plugins.cursor._zoom.isZoomed=false;this.target.trigger('jqplotResetZoom',[this,this.plugins.cursor]);};if(c.showTooltipDataPosition){c.showTooltipUnitPosition=false;c.showTooltipGridPosition=false;if(options.cursor.tooltipFormatString==undefined){c.tooltipFormatString=$.jqplot.Cursor.cursorLegendFormatString;}}}};$.jqplot.Cursor.postDraw=function(){var c=this.plugins.cursor;c.zoomCanvas=new $.jqplot.GenericCanvas();this.eventCanvas._elem.before(c.zoomCanvas.createElement(this._gridPadding,'jqplot-zoom-canvas',this._plotDimensions));var zctx=c.zoomCanvas.setContext();c._tooltipElem=$('<div class="jqplot-cursor-tooltip" style="position:absolute;display:none"></div>');c.zoomCanvas._elem.before(c._tooltipElem);if(c.showVerticalLine||c.showHorizontalLine){c.cursorCanvas=new $.jqplot.GenericCanvas();this.eventCanvas._elem.before(c.cursorCanvas.createElement(this._gridPadding,'jqplot-cursor-canvas',this._plotDimensions));var zctx=c.cursorCanvas.setContext();}
if(c.showTooltipUnitPosition){if(c.tooltipAxisGroups.length===0){var series=this.series;var s;var temp=[];for(var i=0;i<series.length;i++){s=series[i];var ax=s.xaxis+','+s.yaxis;if($.inArray(ax,temp)==-1){temp.push(ax);}}
for(var i=0;i<temp.length;i++){c.tooltipAxisGroups.push(temp[i].split(','));}}}};$.jqplot.Cursor.zoomProxy=function(targetPlot,controllerPlot,zoomOnController){var tc=targetPlot.plugins.cursor;var cc=controllerPlot.plugins.cursor;cc.zoomOnController=zoomOnController;tc.zoomTarget=true;tc.zoom=true;tc.style='auto';tc.dblClickReset=false;cc.zoom=true;cc.zoomProxy=true;controllerPlot.target.bind('jqplotZoom',plotZoom);controllerPlot.target.bind('jqplotResetZoom',plotReset);function plotZoom(ev,gridpos,datapos,plot,cursor){tc.doZoom(gridpos,datapos,targetPlot,cursor);}
function plotReset(ev,plot,cursor){var cax=cursor._zoom.axes;var axes=targetPlot.axes;for(var ax in axes){axes[ax]._ticks=[];axes[ax].min=cax[ax].min;axes[ax].max=cax[ax].max;axes[ax].autoscale=cax[ax].autoscale;axes[ax].numberTicks=cax[ax].numberTicks;axes[ax].tickInterval=cax[ax].tickInterval;axes[ax].specialFormat=cax[ax].specialFormat;axes[ax].specialFormatFlag=cax[ax].specialFormatFlag;axes[ax].useDST=cax[ax].useDST;axes[ax].daTickInterval=cax[ax].daTickInterval;var newMin=Number.POSITIVE_INFINITY,newMax=Number.NEGATIVE_INFINITY;for(var i=0;i<targetPlot.series.length;i++)
{var sObj=targetPlot.series[i];var dStr=ax.match(/^[xy]/);if(sObj.show&&sObj[dStr+"axis"]==ax)
{var minStr=(dStr=="x")?"minX":"minY";var maxStr=(dStr=="x")?"maxX":"maxY";if(sObj[minStr]&&sObj[minStr]<newMin)
newMin=sObj[minStr];if(sObj[maxStr]&&sObj[maxStr]>newMax)
newMax=sObj[maxStr];}}
if(newMin!=Number.POSITIVE_INFINITY)
{axes[ax].min=(newMin>0&&(newMin*0.9)<0)?0:newMin*0.9;axes[ax].numberTicks=null;axes[ax].tickInterval=null;axes[ax].daTickInterval=null;}
if(newMax!=Number.NEGATIVE_INFINITY)
{axes[ax].max=newMax*1.1;axes[ax].numberTicks=null;axes[ax].tickInterval=null;axes[ax].daTickInterval=null;}}
targetPlot.redraw();cursor._zoom.isZoomed=false;}};$.jqplot.Cursor.prototype.resetZoom=function(plot,cursor){var axes=plot.axes;var cax=cursor._zoom.axes;if((!plot.plugins.cursor.zoomProxy||plot.plugins.cursor.zoomOnController)&&cursor._zoom.isZoomed){for(var ax in axes){axes[ax]._ticks=[];axes[ax].min=cax[ax].min;axes[ax].max=cax[ax].max;axes[ax].autoscale=cax[ax].autoscale;axes[ax].numberTicks=cax[ax].numberTicks;axes[ax].tickInterval=cax[ax].tickInterval;axes[ax].daTickInterval=cax[ax].daTickInterval;axes[ax].specialFormat=cax[ax].specialFormat;axes[ax].specialFormatFlag=cax[ax].specialFormatFlag;axes[ax].useDST=cax[ax].useDST;}
plot.redraw();cursor._zoom.isZoomed=false;}
else{var ctx=cursor.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}
plot.target.trigger('jqplotResetZoom',[plot,cursor]);};$.jqplot.Cursor.resetZoom=function(plot){plot.resetZoom();};$.jqplot.Cursor.prototype.doZoom=function(gridpos,datapos,plot,cursor){this.performOnZoom(plot);var c=cursor;var axes=plot.axes;var zaxes=c._zoom.axes;var start=zaxes.start;var end=zaxes.end;var min,max;var ctx=plot.plugins.cursor.zoomCanvas._ctx;if((c.constrainZoomTo=='none'&&Math.abs(gridpos.x-c._zoom.start[0])>6&&Math.abs(gridpos.y-c._zoom.start[1])>6)||(c.constrainZoomTo=='x'&&Math.abs(gridpos.x-c._zoom.start[0])>6)||(c.constrainZoomTo=='y'&&Math.abs(gridpos.y-c._zoom.start[1])>6)){if(!plot.plugins.cursor.zoomProxy||plot.plugins.cursor.zoomOnController){for(var ax in datapos){if(c._zoom.axes[ax]==undefined){c._zoom.axes[ax]={};c._zoom.axes[ax].numberTicks=axes[ax].numberTicks;c._zoom.axes[ax].tickInterval=axes[ax].tickInterval;c._zoom.axes[ax].autoscale=axes[ax].autoscale;c._zoom.axes[ax].daTickInterval=axes[ax].daTickInterval;c._zoom.axes[ax].specialFormat=axes[ax].specialFormat;c._zoom.axes[ax].specialFormatFlag=axes[ax].specialFormatFlag;c._zoom.axes[ax].useDST=axes[ax].useDST;c._zoom.axes[ax].min=axes[ax].min;c._zoom.axes[ax].max=axes[ax].max;}
if((c.constrainZoomTo=='none')||(c.constrainZoomTo=='x'&&ax.charAt(0)=='x')||(c.constrainZoomTo=='y'&&ax.charAt(0)=='y')){dp=datapos[ax];if(dp!=null){if(dp>start[ax]){var newMin=(axes[ax].renderer==$.jqplot.DateAxisRenderer)?(Date.create(start[ax])).round(c.snapZoomTo,'down'):start[ax];var newMax=(axes[ax].renderer==$.jqplot.DateAxisRenderer)?(Date.create(dp)).round(c.snapZoomTo,'up'):dp;}
else{span=start[ax]-dp;var newMin=(axes[ax].renderer==$.jqplot.DateAxisRenderer)?(Date.create(dp)).round(c.snapZoomTo,'down'):dp;var newMax=(axes[ax].renderer==$.jqplot.DateAxisRenderer)?(Date.create(start[ax])).round(c.snapZoomTo,'up'):start[ax];}
if(newMin!=newMax)
{axes[ax].min=newMin;axes[ax].max=newMax;}
axes[ax].tickInterval=null;axes[ax].daTickInterval=null;axes[ax]._ticks=[];}
if(axes[ax].autoscaleOnZoom!=null)
axes[ax].autoscale=this.autoscaleOnZoom;}}
ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);plot.redraw();c._zoom.isZoomed=true;}
this.performAfterZoom(plot);plot.target.trigger('jqplotZoom',[gridpos,datapos,plot,cursor]);}};$.jqplot.preInitHooks.push($.jqplot.Cursor.init);$.jqplot.postDrawHooks.push($.jqplot.Cursor.postDraw);function updateTooltip(gridpos,datapos,plot){var c=plot.plugins.cursor;var s='';var addbr=false;if(c.showTooltipGridPosition){s=gridpos.x+', '+gridpos.y;addbr=true;}
if(c.showTooltipUnitPosition){var g;for(var i=0;i<c.tooltipAxisGroups.length;i++){g=c.tooltipAxisGroups[i];if(addbr){s+='<br />';}
if(c.useAxesFormatters){var xf=plot.axes[g[0]]._ticks[0].formatter;var yf=plot.axes[g[1]]._ticks[0].formatter;var xfstr=plot.axes[g[0]]._ticks[0].formatString;var yfstr=plot.axes[g[1]]._ticks[0].formatString;s+=xf(xfstr,datapos[g[0]])+', '+yf(yfstr,datapos[g[1]]);}
else{s+=$.jqplot.sprintf(c.tooltipFormatString,datapos[g[0]],datapos[g[1]]);}
addbr=true;}}
if(c.showTooltipDataPosition){var series=plot.series;var ret=getIntersectingPoints(plot,gridpos.x,gridpos.y);var addbr=false;for(var i=0;i<series.length;i++){if(series[i].show){var idx=series[i].index;var label=series[i].label.toString();var cellid=$.inArray(idx,ret.indices);var sx=undefined;var sy=undefined;if(cellid!=-1){var data=ret.data[cellid].data;if(c.useAxesFormatters){var xf=series[i]._xaxis._ticks[0].formatter;var yf=series[i]._yaxis._ticks[0].formatter;var xfstr=series[i]._xaxis._ticks[0].formatString;var yfstr=series[i]._yaxis._ticks[0].formatString;sx=xf(xfstr,data[0]);sy=yf(yfstr,data[1]);}
else{sx=data[0];sy=data[1];}
if(addbr){s+='<br />';}
s+=$.jqplot.sprintf(c.tooltipFormatString,label,sx,sy);addbr=true;}}}}
c._tooltipElem.html(s);}
function moveLine(gridpos,plot){var c=plot.plugins.cursor;var ctx=c.cursorCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);if(c.showVerticalLine){c.shapeRenderer.draw(ctx,[[gridpos.x,0],[gridpos.x,ctx.canvas.height]]);}
if(c.showHorizontalLine){c.shapeRenderer.draw(ctx,[[0,gridpos.y],[ctx.canvas.width,gridpos.y]]);}
var ret=getIntersectingPoints(plot,gridpos.x,gridpos.y);if(c.showCursorLegend){var cells=$(plot.targetId+' td.jqplot-cursor-legend-label');for(var i=0;i<cells.length;i++){var idx=$(cells[i]).data('seriesIndex');var series=plot.series[idx];var label=series.label.toString();var cellid=$.inArray(idx,ret.indices);var sx=undefined;var sy=undefined;if(cellid!=-1){var data=ret.data[cellid].data;if(c.useAxesFormatters){var xf=series._xaxis._ticks[0].formatter;var yf=series._yaxis._ticks[0].formatter;var xfstr=series._xaxis._ticks[0].formatString;var yfstr=series._yaxis._ticks[0].formatString;sx=xf(xfstr,data[0]);sy=yf(yfstr,data[1]);}
else{sx=data[0];sy=data[1];}}
if(plot.legend.escapeHtml){$(cells[i]).text($.jqplot.sprintf(c.cursorLegendFormatString,label,sx,sy));}
else{$(cells[i]).html($.jqplot.sprintf(c.cursorLegendFormatString,label,sx,sy));}}}}
function getIntersectingPoints(plot,x,y){var ret={indices:[],data:[]};var s,i,d0,d,j,r;var threshold;var c=plot.plugins.cursor;for(var i=0;i<plot.series.length;i++){s=plot.series[i];r=s.renderer;if(s.show){threshold=c.intersectionThreshold;if(s.showMarker){threshold+=s.markerRenderer.size/2;}
for(var j=0;j<s.gridData.length;j++){p=s.gridData[j];if(c.showVerticalLine){if(Math.abs(x-p[0])<=threshold){ret.indices.push(i);ret.data.push({seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]});}}}}}
return ret;}
function moveTooltip(gridpos,plot){var c=plot.plugins.cursor;var elem=c._tooltipElem;switch(c.tooltipLocation){case'nw':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case'n':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case'ne':var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case'e':var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;case'se':var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case's':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case'sw':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case'w':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;default:var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;}
c._tooltipElem.css('left',x);c._tooltipElem.css('top',y);}
function positionTooltip(plot){var grid=plot._gridPadding;var c=plot.plugins.cursor;var elem=c._tooltipElem;switch(c.tooltipLocation){case'nw':var a=grid.left+c.tooltipOffset;var b=grid.top+c.tooltipOffset;elem.css('left',a);elem.css('top',b);break;case'n':var a=(grid.left+(plot._plotDimensions.width-grid.right))/2-elem.outerWidth(true)/2;var b=grid.top+c.tooltipOffset;elem.css('left',a);elem.css('top',b);break;case'ne':var a=grid.right+c.tooltipOffset;var b=grid.top+c.tooltipOffset;elem.css({right:a,top:b});break;case'e':var a=grid.right+c.tooltipOffset;var b=(grid.top+(plot._plotDimensions.height-grid.bottom))/2-elem.outerHeight(true)/2;elem.css({right:a,top:b});break;case'se':var a=grid.right+c.tooltipOffset;var b=grid.bottom+c.tooltipOffset;elem.css({right:a,bottom:b});break;case's':var a=(grid.left+(plot._plotDimensions.width-grid.right))/2-elem.outerWidth(true)/2;var b=grid.bottom+c.tooltipOffset;elem.css({left:a,bottom:b});break;case'sw':var a=grid.left+c.tooltipOffset;var b=grid.bottom+c.tooltipOffset;elem.css({left:a,bottom:b});break;case'w':var a=grid.left+c.tooltipOffset;var b=(grid.top+(plot._plotDimensions.height-grid.bottom))/2-elem.outerHeight(true)/2;elem.css({left:a,top:b});break;default:var a=grid.right-c.tooltipOffset;var b=grid.bottom+c.tooltipOffset;elem.css({right:a,bottom:b});break;}}
function handleClick(ev,gridpos,datapos,neighbor,plot){ev.stopPropagation();ev.preventDefault();var c=plot.plugins.cursor;if(c.clickReset){c.resetZoom(plot,c);}
return false;}
function handleDblClick(ev,gridpos,datapos,neighbor,plot){ev.stopPropagation();ev.preventDefault();var c=plot.plugins.cursor;if(c.dblClickReset){c.resetZoom(plot,c);}
return false;}
function handleMouseLeave(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;if(c.show){$(ev.target).css('cursor',c.previousCursor);if(c.showTooltip){c._tooltipElem.hide();}
if(c.zoom){c._zoom.started=false;c._zoom.zooming=false;if(!c.zoomProxy){var ctx=c.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}}
if(c.showVerticalLine||c.showHorizontalLine){var ctx=c.cursorCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}if(c.showCursorLegend){var cells=$(plot.targetId+' td.jqplot-cursor-legend-label');for(var i=0;i<cells.length;i++){var idx=$(cells[i]).data('seriesIndex');var series=plot.series[idx];var label=series.label.toString();if(plot.legend.escapeHtml){$(cells[i]).text($.jqplot.sprintf(c.cursorLegendFormatString,label,undefined,undefined));}
else{$(cells[i]).html($.jqplot.sprintf(c.cursorLegendFormatString,label,undefined,undefined));}}}}}
function handleMouseEnter(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;if(c.show){c.previousCursor=ev.target.style.cursor;ev.target.style.cursor=c.style;if(c.showTooltip){updateTooltip(gridpos,datapos,plot);if(c.followMouse){moveTooltip(gridpos,plot);}
else{positionTooltip(plot);}
c._tooltipElem.show();}
if(c.showVerticalLine||c.showHorizontalLine){moveLine(gridpos,plot);}}}
function handleMouseMove(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;var ctx=c.zoomCanvas._ctx;if(c.show){if(c.showTooltip){updateTooltip(gridpos,datapos,plot);if(c.followMouse){moveTooltip(gridpos,plot);}}
if(c.zoom&&c._zoom.started&&!c.zoomTarget){c._zoom.zooming=true;if(c.constrainZoomTo=='x'){c._zoom.end=[gridpos.x,ctx.canvas.height];}
else if(c.constrainZoomTo=='y'){c._zoom.end=[ctx.canvas.width,gridpos.y];}
else{c._zoom.end=[gridpos.x,gridpos.y];}
drawZoomBox.call(c);}
if(c.showVerticalLine||c.showHorizontalLine){moveLine(gridpos,plot);}}}
function handleMouseDown(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;var axes=plot.axes;if(c.zoom){if(!c.zoomProxy){var ctx=c.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);}
if(c.constrainZoomTo=='x'){c._zoom.start=[gridpos.x,0];}
else if(c.constrainZoomTo=='y'){c._zoom.start=[0,gridpos.y];}
else{c._zoom.start=[gridpos.x,gridpos.y];}
c._zoom.started=true;for(var ax in datapos){c._zoom.axes.start[ax]=datapos[ax];}}}
function handleMouseUp(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;if(c.zoom&&c._zoom.zooming&&!c.zoomTarget){c.doZoom(gridpos,datapos,plot,c);}
c._zoom.started=false;c._zoom.zooming=false;}
$.jqplot.CursorLegendRenderer=function(options){$.jqplot.TableLegendRenderer.call(this,options);this.formatString='%s';};$.jqplot.CursorLegendRenderer.prototype=new $.jqplot.TableLegendRenderer();$.jqplot.CursorLegendRenderer.prototype.constructor=$.jqplot.CursorLegendRenderer;$.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this.show){var series=this._series;this._elem=$('<table class="jqplot-legend jqplot-cursor-legend" style="position:absolute"></table>');var pad=false;for(var i=0;i<series.length;i++){s=series[i];if(s.show){var lt=$.jqplot.sprintf(this.formatString,s.label.toString());if(lt){var color=s.color;if(s._stack&&!s.fill){color='';}
addrow.call(this,lt,color,pad,i);pad=true;}
for(var j=0;j<$.jqplot.addLegendRowHooks.length;j++){var item=$.jqplot.addLegendRowHooks[j].call(this,s);if(item){addrow.call(this,item.label,item.color,pad);pad=true;}}}}}
function addrow(label,color,pad,idx){var rs=(pad)?this.rowSpacing:'0';var tr=$('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);tr.data('seriesIndex',idx);$('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+rs+';">'+'<div style="border:1px solid #cccccc;padding:0.2em;">'+'<div class="jqplot-cursor-legend-swatch" style="background-color:'+color+';"></div>'+'</div></td>').appendTo(tr);var td=$('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+rs+';"></td>');td.appendTo(tr);td.data('seriesIndex',idx);if(this.escapeHtml){td.text(label);}
else{td.html(label);}}
return this._elem;};})(jQuery);function drawZoomBox(){var start=this._zoom.start;var end=this._zoom.end;var ctx=this.zoomCanvas._ctx;var l,t,h,w;if(end[0]>start[0]){l=start[0];w=end[0]-start[0];}
else{l=end[0];w=start[0]-end[0];}
if(end[1]>start[1]){t=start[1];h=end[1]-start[1];}
else{t=end[1];h=start[1]-end[1];}
ctx.fillStyle='rgba(0,0,0,0.2)';ctx.strokeStyle='#999999';ctx.lineWidth=1.0;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx.clearRect(l,t,w,h);ctx.strokeRect(l,t,w,h);if($.browser.msie)
ctx.fillRect(l,t,w,h);}
(function($){$.jqplot.eventListenerHooks.push(['jqplotMouseMove',handleMove]);$.jqplot.Highlighter=function(options){this.show=$.jqplot.config.enablePlugins;this.markerRenderer=new $.jqplot.MarkerRenderer({shadow:false});this.showMarker=true;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=true;this.tooltipLocation='nw';this.fadeTooltip=true;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes='both';this.tooltipSeparator=', ';this.useAxesFormatters=true;this.tooltipFormatString='%.5P';this.formatString=null;this.yvalues=1;this._tooltipElem;this.isHighlighting=false;$.extend(true,this,options);};$.jqplot.Highlighter.init=function(target,data,opts){var options=opts||{};this.plugins.highlighter=new $.jqplot.Highlighter(options.highlighter);};$.jqplot.Highlighter.parseOptions=function(defaults,options){this.showHighlight=true;};$.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter.highlightCanvas=new $.jqplot.GenericCanvas();this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,'jqplot-highlight-canvas',this._plotDimensions));var hctx=this.plugins.highlighter.highlightCanvas.setContext();var p=this.plugins.highlighter;p._tooltipElem=$('<div class="jqplot-highlighter-tooltip" style="position:absolute;display:none"></div>');this.target.append(p._tooltipElem);};$.jqplot.preInitHooks.push($.jqplot.Highlighter.init);$.jqplot.preParseSeriesOptionsHooks.push($.jqplot.Highlighter.parseOptions);$.jqplot.postDrawHooks.push($.jqplot.Highlighter.postPlotDraw);function draw(plot,neighbor){var hl=plot.plugins.highlighter;var s=plot.series[neighbor.seriesIndex];var smr=s.markerRenderer;var mr=hl.markerRenderer;mr.style=smr.style;mr.lineWidth=smr.lineWidth+hl.lineWidthAdjust;mr.size=smr.size+hl.sizeAdjust;var rgba=$.jqplot.getColorComponents(smr.color);var newrgb=[rgba[0],rgba[1],rgba[2]];var alpha=(rgba[3]>=0.6)?rgba[3]*0.6:rgba[3]*(2-rgba[3]);mr.color='rgba('+newrgb[0]+','+newrgb[1]+','+newrgb[2]+','+alpha+')';mr.init();mr.draw(s.gridData[neighbor.pointIndex][0],s.gridData[neighbor.pointIndex][1],hl.highlightCanvas._ctx);}
function showTooltip(plot,series,neighbor){var hl=plot.plugins.highlighter;var elem=hl._tooltipElem;if(hl.useAxesFormatters){var xf=series._xaxis._ticks[0].formatter;var yf=series._yaxis._ticks[0].formatter;var xfstr=series._xaxis._ticks[0].formatString;var yfstr=series._yaxis._ticks[0].formatString;var str;var xstr=xf(xfstr,neighbor.data[0]);var ystrs=[];for(var i=1;i<hl.yvalues+1;i++){ystrs.push(yf(yfstr,neighbor.data[i]));}
if(hl.formatString){switch(hl.tooltipAxes){case'both':case'xy':ystrs.unshift(xstr);ystrs.unshift(hl.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;case'yx':ystrs.push(xstr);ystrs.unshift(hl.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;case'x':str=$.jqplot.sprintf.apply($.jqplot.sprintf,[hl.formatString,xstr]);break;case'y':ystrs.unshift(hl.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;default:ystrs.unshift(xstr);ystrs.unshift(hl.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;}}
else{switch(hl.tooltipAxes){case'both':case'xy':str=xstr;for(var i=0;i<ystrs.length;i++){str+=hl.tooltipSeparator+ystrs[i];}
break;case'yx':str='';for(var i=0;i<ystrs.length;i++){str+=ystrs[i]+hl.tooltipSeparator;}
str+=xstr;break;case'x':str=xstr;break;case'y':str='';for(var i=0;i<ystrs.length;i++){str+=ystrs[i]+hl.tooltipSeparator;}
break;default:str=xstr;for(var i=0;i<ystrs.length;i++){str+=hl.tooltipSeparator+ystrs[i];}
break;}}}
else{var str;if(hl.tooltipAxes=='both'||hl.tooltipAxes=='xy'){str=$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[0])+hl.tooltipSeparator+$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[1]);}
else if(hl.tooltipAxes=='yx'){str=$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[1])+hl.tooltipSeparator+$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[0]);}
else if(hl.tooltipAxes=='x'){str=$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[0]);}
else if(hl.tooltipAxes=='y'){str=$.jqplot.sprintf(hl.tooltipFormatString,neighbor.data[1]);}}
str=str.replace(/%l/,series.label);if(neighbor.data[2]!=undefined&&neighbor.data[2])
str=str.replace(/%1/,neighbor.data[2]);else
str=str.replace(/%1/,"");if(neighbor.data[3]!=undefined&&neighbor.data[3])
str=str.replace(/%2/,neighbor.data[3]);else
str=str.replace(/%2/,"");if(neighbor.data[4]!=undefined&&neighbor.data[4])
str=str.replace(/%3/,neighbor.data[4]);else
str=str.replace(/%3/,"");if(neighbor.data[5]!=undefined&&neighbor.data[5])
str=str.replace(/%4/,neighbor.data[5]);else
str=str.replace(/%4/,"");if(neighbor.data[8]!=undefined&&neighbor.data[8])
str=str.replace(/%5/,neighbor.data[8]);else
str=str.replace(/%5/,"");if(neighbor.data[7]!=undefined&&neighbor.data[7])
str=str.replace(/%6/,neighbor.data[7]);else
str=str.replace(/%6/,"");elem.html(str);var gridpos={x:neighbor.gridData[0],y:neighbor.gridData[1]};var ms=0;var fact=0.707;if(series.markerRenderer.show==true){ms=(series.markerRenderer.size+hl.sizeAdjust)/2;}
switch(hl.tooltipLocation){case'nw':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-hl.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-hl.tooltipOffset-elem.outerHeight(true)-fact*ms;break;case'n':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top-hl.tooltipOffset-elem.outerHeight(true)-ms;break;case'ne':var x=gridpos.x+plot._gridPadding.left+hl.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top-hl.tooltipOffset-elem.outerHeight(true)-fact*ms;break;case'e':var x=gridpos.x+plot._gridPadding.left+hl.tooltipOffset+ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;case'se':var x=gridpos.x+plot._gridPadding.left+hl.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top+hl.tooltipOffset+fact*ms;break;case's':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top+hl.tooltipOffset+ms;break;case'sw':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-hl.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top+hl.tooltipOffset+fact*ms;break;case'w':var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-hl.tooltipOffset-ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;default:var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-hl.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-hl.tooltipOffset-elem.outerHeight(true)-fact*ms;break;}
elem.css('left',x);elem.css('top',y);if(hl.fadeTooltip){elem.fadeIn(hl.tooltipFadeSpeed);}
else{elem.show();}}
function handleMove(ev,gridpos,datapos,neighbor,plot){var hl=plot.plugins.highlighter;if(hl.show){if(neighbor==null&&hl.isHighlighting&&HIGHLIGHTER_HELPERS.isHighlighting){var ctx=hl.highlightCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);if(hl.fadeTooltip){hl._tooltipElem.fadeOut(hl.tooltipFadeSpeed);}
else{hl._tooltipElem.hide();}
hl.isHighlighting=false;HIGHLIGHTER_HELPERS.isHighlighting=false;}
if(neighbor!=null&&plot.series[neighbor.seriesIndex].showHighlight&&!hl.isHighlighting&&!HIGHLIGHTER_HELPERS.isHighlighting){hl.isHighlighting=true;HIGHLIGHTER_HELPERS.isHighlighting=true;if(hl.showMarker){draw(plot,neighbor);}
if(hl.showTooltip){showTooltip(plot,plot.series[neighbor.seriesIndex],neighbor);}}}}})(jQuery);var HIGHLIGHTER_HELPERS=function(){return{isHighlighting:false};}();(function($){$.jqplot.PointLabels=function(options){this.show=$.jqplot.config.enablePlugins;this.location='n';this.labelsFromSeries=false;this.seriesLabelIndex=null;this.labels=[];this.stackedValue=false;this.ypadding=6;this.xpadding=6;this.escapeHTML=true;this.edgeTolerance=0;this.hideZeros=false;$.extend(true,this,options);};var locations=['nw','n','ne','e','se','s','sw','w'];var locationIndicies={'nw':0,'n':1,'ne':2,'e':3,'se':4,'s':5,'sw':6,'w':7};var oppositeLocations=['se','s','sw','w','nw','n','ne','e'];$.jqplot.PointLabels.init=function(target,data,seriesDefaults,opts){var options=$.extend(true,{},seriesDefaults,opts);this.plugins.pointLabels=new $.jqplot.PointLabels(options.pointLabels);var p=this.plugins.pointLabels;if(p.labels.length==0||p.labelsFromSeries){if(p.stackedValue){if(this._plotData.length&&this._plotData[0].length){var idx=p.seriesLabelIndex||this._plotData[0].length-1;for(var i=0;i<this._plotData.length;i++){p.labels.push(this._plotData[i][idx]);}}}
else{var d=this.data;if(this.renderer.constructor==$.jqplot.BarRenderer&&this.waterfall){d=this._data;}
if(d.length&&d[0].length){var idx=p.seriesLabelIndex||d[0].length-1;for(var i=0;i<d.length;i++){p.labels.push(d[i][idx]);}}}}};$.jqplot.PointLabels.prototype.xOffset=function(elem,location,padding){location=location||this.location;padding=padding||this.xpadding;var offset;switch(location){case'nw':offset=-elem.outerWidth(true)-this.xpadding;break;case'n':offset=-elem.outerWidth(true)/2;break;case'ne':offset=this.xpadding;break;case'e':offset=this.xpadding;break;case'se':offset=this.xpadding;break;case's':offset=-elem.outerWidth(true)/2;break;case'sw':offset=-elem.outerWidth(true)-this.xpadding;break;case'w':offset=-elem.outerWidth(true)-this.xpadding;break;default:offset=-elem.outerWidth(true)-this.xpadding;break;}
return offset;};$.jqplot.PointLabels.prototype.yOffset=function(elem,location,padding){location=location||this.location;padding=padding||this.xpadding;var offset;switch(location){case'nw':offset=-elem.outerHeight(true)-this.ypadding;break;case'n':offset=-elem.outerHeight(true)-this.ypadding;break;case'ne':offset=-elem.outerHeight(true)-this.ypadding;break;case'e':offset=-elem.outerHeight(true)/2;break;case'se':offset=this.ypadding;break;case's':offset=this.ypadding;break;case'sw':offset=this.ypadding;break;case'w':offset=-elem.outerHeight(true)/2;break;default:offset=-elem.outerHeight(true)-this.ypadding;break;}
return offset;};$.jqplot.PointLabels.draw=function(sctx,options){var p=this.plugins.pointLabels;if(p.show){for(var i=0;i<p.labels.length;i++){var pd=this._plotData;var xax=this._xaxis;var yax=this._yaxis;var label=p.labels[i];if(p.hideZeros&&parseInt(p.labels[i],10)==0){label='';}
var elem=$('<div class="jqplot-point-label" style="position:absolute"></div>');elem.insertAfter(sctx.canvas);if(p.escapeHTML){elem.text(label);}
else{elem.html(label);}
var location=p.location;if(this.waterfall&&parseInt(label,10)<0){location=oppositeLocations[locationIndicies[location]];}
var ell=xax.u2p(pd[i][0])+p.xOffset(elem,location);var elt=yax.u2p(pd[i][1])+p.yOffset(elem,location);elem.css('left',ell);elem.css('top',elt);var elr=ell+$(elem).width();var elb=elt+$(elem).height();var et=p.edgeTolerance;var scl=$(sctx.canvas).position().left;var sct=$(sctx.canvas).position().top;var scr=sctx.canvas.width+scl;var scb=sctx.canvas.height+sct;if(ell-et<scl||elt-et<sct||elr+et>scr||elb+et>scb){$(elem).remove();}}}};$.jqplot.postSeriesInitHooks.push($.jqplot.PointLabels.init);$.jqplot.postDrawSeriesHooks.push($.jqplot.PointLabels.draw);})(jQuery);