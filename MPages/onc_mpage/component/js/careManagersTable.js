CareManagersTable=(function(){function Table(careManagers,namespace,id,viewId,isPotentialCasesDiabled){var table=this;
var customColumnClass=isPotentialCasesDiabled?namespace+"-width-two-column":namespace+"-width-three-column";
this.setNamespace(namespace+id);
this.setCustomClass(namespace+"-table");
table.viewId=viewId;
this.addColumn(new Column("care-manager-name",namespace+"-name",CareManagers.i18n.CARE_MANAGER,false,"FULL_NAME","${FULL_NAME}"));
this.addColumn(new Column("case-load",customColumnClass,CareManagers.i18n.CASES,false,null,"${CASE_LOAD}"));
if(!isPotentialCasesDiabled){this.addColumn(new Column("potential-cases",customColumnClass,CareManagers.i18n.POTENTIAL_CASES,false,null,"${POTENTIAL_CASES}"));
}this.bindData(careManagers);
this.addExtension(new TableCellClickCallbackExtension().setCellClickCallback(function(event,data){onCellClick.call(table,event,data);
}));
}Table.prototype=new ComponentTable();
Table.prototype.update=function(careManagers){this.bindData(careManagers);
this.refresh();
$("#"+this.namespace+" .sec-total").html("("+careManagers.total_results+")");
};
Table.prototype.clickRow=function(rowNumber){$("#"+this.namespace+"\\:row"+rowNumber+"\\:care-manager-name").trigger("mouseup");
};
Table.prototype.updateSelectedRow=function($newRow){this.getSelectedRows().removeClass("selected");
$newRow.addClass("selected");
};
Table.prototype.getSelectedRows=function(){return $("#"+this.namespace+"table .selected");
};
function onCellClick(event,data){var selectedRow=$(event.target).parents("dl.result-info"),clickEvent=jQuery.Event("careManagerSelected");
this.updateSelectedRow(selectedRow);
clickEvent.careManagerId=data.RESULT_DATA.PERSONNEL_ID;
clickEvent.name=data.RESULT_DATA.FULL_NAME;
clickEvent.viewId=this.viewId;
$(event.target).trigger(clickEvent);
}function Column(columnId,columnClass,display,isSortable,primarySortField,template){this.setColumnId(columnId);
this.setCustomClass(columnClass);
this.setColumnDisplay(display);
this.setIsSortable(isSortable);
if(isSortable){this.setPrimarySortField(primarySortField);
}this.setRenderTemplate(template);
}Column.prototype=new TableColumn();
return Table;
})();
