"use strict";

// ------------------------------------------------------------------------------
// Form Control Prop Helpers
// ------------------------------------------------------------------------------

/**
 * Builds the form change event payload
 * @param {object} props - the control props
 * @param {*} value - the current control value
 * @returns {undefined} undefined
 */
export const generateValueChangePayload = (props, value) => {
    const {
        completionHandler,
        errorHandler,
        isRequired
    } = props;

    const inErrorState = errorHandler ? !!errorHandler(value, () => true, props) : false;
    const isComplete = completionHandler ? !!completionHandler(value) : true;

    return {
        isValid: !inErrorState && (!isRequired || isComplete),
        value
    };
};
