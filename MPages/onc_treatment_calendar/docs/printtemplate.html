<!DOCTYPE html>

<html>
<head>
  <title>printtemplate.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="Gruntfile.html">
                Gruntfile.js
              </a>
            
              
              <a class="source" href="server.html">
                server.js
              </a>
            
              
              <a class="source" href="accordionctrl.html">
                accordionctrl.js
              </a>
            
              
              <a class="source" href="appctrl.html">
                appctrl.js
              </a>
            
              
              <a class="source" href="calendarctrl.html">
                calendarctrl.js
              </a>
            
              
              <a class="source" href="calendarnotesctrl.html">
                calendarnotesctrl.js
              </a>
            
              
              <a class="source" href="listctrl.html">
                listctrl.js
              </a>
            
              
              <a class="source" href="accordionapptdir.html">
                accordionapptdir.js
              </a>
            
              
              <a class="source" href="accordiondir.html">
                accordiondir.js
              </a>
            
              
              <a class="source" href="accordionmeddir.html">
                accordionmeddir.js
              </a>
            
              
              <a class="source" href="accordionorderdir.html">
                accordionorderdir.js
              </a>
            
              
              <a class="source" href="accordionphasedir.html">
                accordionphasedir.js
              </a>
            
              
              <a class="source" href="accordionplandir.html">
                accordionplandir.js
              </a>
            
              
              <a class="source" href="accordionregimendir.html">
                accordionregimendir.js
              </a>
            
              
              <a class="source" href="adddialogdir.html">
                adddialogdir.js
              </a>
            
              
              <a class="source" href="calendarcontrolsdir.html">
                calendarcontrolsdir.js
              </a>
            
              
              <a class="source" href="calendardatedir.html">
                calendardatedir.js
              </a>
            
              
              <a class="source" href="calendardaydir.html">
                calendardaydir.js
              </a>
            
              
              <a class="source" href="calendardir.html">
                calendardir.js
              </a>
            
              
              <a class="source" href="calendarlistdir.html">
                calendarlistdir.js
              </a>
            
              
              <a class="source" href="hoverhighlightdir.html">
                hoverhighlightdir.js
              </a>
            
              
              <a class="source" href="jquerydatepicker.html">
                jquerydatepicker.js
              </a>
            
              
              <a class="source" href="listdatedir.html">
                listdatedir.js
              </a>
            
              
              <a class="source" href="modalcalendardir.html">
                modalcalendardir.js
              </a>
            
              
              <a class="source" href="noteinputdir.html">
                noteinputdir.js
              </a>
            
              
              <a class="source" href="printcalendardatedir.html">
                printcalendardatedir.js
              </a>
            
              
              <a class="source" href="printcalendardaydir.html">
                printcalendardaydir.js
              </a>
            
              
              <a class="source" href="printcalendarviewdir.html">
                printcalendarviewdir.js
              </a>
            
              
              <a class="source" href="printdialogdir.html">
                printdialogdir.js
              </a>
            
              
              <a class="source" href="printlistviewdir.html">
                printlistviewdir.js
              </a>
            
              
              <a class="source" href="printtemplate.html">
                printtemplate.js
              </a>
            
              
              <a class="source" href="qtipdir.html">
                qtipdir.js
              </a>
            
              
              <a class="source" href="schedulableicondir.html">
                schedulableicondir.js
              </a>
            
              
              <a class="source" href="statusdialogdir.html">
                statusdialogdir.js
              </a>
            
              
              <a class="source" href="windowresizedir.html">
                windowresizedir.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="cal-view_i18n.html">
                cal-view_i18n.js
              </a>
            
              
              <a class="source" href="blackbird.html">
                blackbird.js
              </a>
            
              
              <a class="source" href="dc_mp_js_util_mpage.html">
                dc_mp_js_util_mpage.js
              </a>
            
              
              <a class="source" href="oncmp_core.html">
                oncmp_core.js
              </a>
            
              
              <a class="source" href="printerConfig_template.html">
                printerConfig_template.js
              </a>
            
              
              <a class="source" href="xml2json.html">
                xml2json.js
              </a>
            
              
              <a class="source" href="animationsmod.html">
                animationsmod.js
              </a>
            
              
              <a class="source" href="appmod.html">
                appmod.js
              </a>
            
              
              <a class="source" href="controllersmod.html">
                controllersmod.js
              </a>
            
              
              <a class="source" href="directivesmod.html">
                directivesmod.js
              </a>
            
              
              <a class="source" href="daodevsvc.html">
                daodevsvc.js
              </a>
            
              
              <a class="source" href="daoprodsvc.html">
                daoprodsvc.js
              </a>
            
              
              <a class="source" href="notesmedssvc.html">
                notesmedssvc.js
              </a>
            
              
              <a class="source" href="notesmedssvcdev.html">
                notesmedssvcdev.js
              </a>
            
              
              <a class="source" href="pubsubsvc.html">
                pubsubsvc.js
              </a>
            
              
              <a class="source" href="services.html">
                services.js
              </a>
            
              
              <a class="source" href="signdevsvc.html">
                signdevsvc.js
              </a>
            
              
              <a class="source" href="signprodsvc.html">
                signprodsvc.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>printtemplate.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p>This module is useful to construct the Page 1 Print preview of Calendar with XMl information.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>angular.module(<span class="hljs-string">'calview.directives'</span>).directive(<span class="hljs-string">'printTemplate'</span>,  <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
    <span class="hljs-keyword">return</span> {
      templateUrl: <span class="hljs-string">"printtemplate.html"</span>,
      replace: <span class="hljs-literal">true</span>,
      restrict: <span class="hljs-string">'E'</span>,
      link: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(scope, iElement, iAttrs, controller)</span> {</span>
      	     scope.appointments = i18n.oncology.calview.APPOINTMENTS;
		     scope.medications = i18n.oncology.calview.MEDICATIONS;
		     scope.notes = i18n.oncology.calview.NOTES;
		     scope.page = i18n.oncology.calview.PAGE;
		     scope.of = i18n.oncology.calview.OF;
		     scope.patientName = vars.patientName;
      	     scope.patientDOB =  moment(vars.patientDOB).format(<span class="hljs-string">'L'</span>);
      	     scope.DOB = i18n.DOB;
             scope.GeneralNotes =  [];
             scope.calendarNotes =  [];
             
		     scope.$on(<span class="hljs-string">'printxmlChanged'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ev, TemplateName, json)</span> {</span>

		         <span class="hljs-keyword">if</span>( json.TreatmentCalendar.PrintTemplate.length != <span class="hljs-literal">undefined</span>)
				  {
		      	     <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i= <span class="hljs-number">0</span> ; i &lt; json.TreatmentCalendar.PrintTemplate.length; i++)
				        {
				        	
				        	<span class="hljs-keyword">var</span> LocName= json.TreatmentCalendar.PrintTemplate[i]._id;
				            	
							<span class="hljs-keyword">if</span>(LocName === TemplateName)	
							{            	
					            scope.Facilityhourstitle = json.TreatmentCalendar.PrintTemplate[i].Hours.Heading ;
						        scope.FacilityHours = json.TreatmentCalendar.PrintTemplate[i].Hours.WeekDays.Days +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate[i].Hours.WeekDays.Time  ;<span class="hljs-comment">// "Monday to Thursday 8AM to 5PM";</span>
						        scope.w1= json.TreatmentCalendar.PrintTemplate[i].Hours.WeekEnd.Day1 +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate[i].Hours.WeekEnd.Day1Time ; <span class="hljs-comment">//"Saturday 9AM to 12PM";</span>
						        scope.w2= json.TreatmentCalendar.PrintTemplate[i].Hours.WeekEnd.Day2 +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate[i].Hours.WeekEnd.Day2Time ; <span class="hljs-comment">//"Friday 6AM to 6PM";</span>
						        scope.ImgLogo =  json.TreatmentCalendar.PrintTemplate[i].Title.Logo;
						        scope.FacilityName = json.TreatmentCalendar.PrintTemplate[i].Title.Name;
						        scope.FacilityAddress = json.TreatmentCalendar.PrintTemplate[i].Address.Street1 ;
						        scope.ad1=  json.TreatmentCalendar.PrintTemplate[i].Address.Street2 ;
						        scope.ad2= json.TreatmentCalendar.PrintTemplate[i].Address.City ;
						        scope.zip =  json.TreatmentCalendar.PrintTemplate[i].Address.Zip;  
						        scope.CalendarNoteHeading = json.TreatmentCalendar.PrintTemplate[i].Notes.CalendarNote.Heading; 
						        scope.CalendarNote = json.TreatmentCalendar.PrintTemplate[i].Notes.CalendarNote.Content; 
						        scope.NotesHeading = json.TreatmentCalendar.PrintTemplate[i].Notes.GeneralNote.Heading; 
						        scope.generalNote = json.TreatmentCalendar.PrintTemplate[i].Notes.GeneralNote.Content;
						      
								scope.GeneralNotes = scope.generalNote.split(<span class="hljs-string">"#"</span>);
								scope.calendarNotes = scope.CalendarNote.split(<span class="hljs-string">"#"</span>);
								
				            	<span class="hljs-keyword">break</span>;
				            }
					       
			   
			   			}
			   		}
			   		<span class="hljs-keyword">else</span>
			   		{
			   			<span class="hljs-keyword">var</span> LocName= json.TreatmentCalendar.PrintTemplate._id;
				            	
							<span class="hljs-keyword">if</span>(LocName === TemplateName)	
							{            	
					            scope.Facilityhourstitle = json.TreatmentCalendar.PrintTemplate.Hours.Heading ;
						        scope.FacilityHours = json.TreatmentCalendar.PrintTemplate.Hours.WeekDays.Days +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate.Hours.WeekDays.Time  ;<span class="hljs-comment">// "Monday to Thursday 8AM to 5PM";</span>
						        scope.w1= json.TreatmentCalendar.PrintTemplate.Hours.WeekEnd.Day1 +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate.Hours.WeekEnd.Day1Time ; <span class="hljs-comment">//"Saturday 9AM to 12PM";</span>
						        scope.w2= json.TreatmentCalendar.PrintTemplate.Hours.WeekEnd.Day2 +<span class="hljs-string">' '</span> + json.TreatmentCalendar.PrintTemplate.Hours.WeekEnd.Day2Time ; <span class="hljs-comment">//"Friday 6AM to 6PM";</span>
						        scope.ImgLogo =  json.TreatmentCalendar.PrintTemplate.Title.Logo;
						        scope.FacilityName = json.TreatmentCalendar.PrintTemplate.Title.Name;
						        scope.FacilityAddress = json.TreatmentCalendar.PrintTemplate.Address.Street1 ;
						        scope.ad1=  json.TreatmentCalendar.PrintTemplate.Address.Street2 ;
						        scope.ad2= json.TreatmentCalendar.PrintTemplate.Address.City ;
						        scope.zip =  json.TreatmentCalendar.PrintTemplate.Address.Zip;  
						
						        scope.CalendarNoteHeading = json.TreatmentCalendar.PrintTemplate[i].Notes.CalendarNote.Heading;  
						        scope.CalendarNote = json.TreatmentCalendar.PrintTemplate[i].Notes.CalendarNote.Content;  
						        scope.NotesHeading = json.TreatmentCalendar.PrintTemplate[i].Notes.GeneralNote.Heading; 
						        scope.generalNote = json.TreatmentCalendar.PrintTemplate[i].Notes.GeneralNote.Content;
						      
								scope.GeneralNotes = scope.generalNote.split(<span class="hljs-string">"#"</span>);
								scope.calendarNotes = scope.CalendarNote.split(<span class="hljs-string">"#"</span>);
				            	
				            }
			   		}
		});	
      	      	
      }            
   
  };
  }
);</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
