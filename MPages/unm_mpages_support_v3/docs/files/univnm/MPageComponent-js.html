<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><title>/www/mpages_googlecode/univnm/MPageComponent.js</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script><script type="text/javascript" src="../shjs/sh_main.js"></script><script type="text/javascript" src="../shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../js/shjs/css/sh_mild_white.css"><script type="text/javascript" src="../../../../../js/shjs/sh_main.js"></script><script type="text/javascript" src="../../../../../js/shjs/lang/sh_myna.js"></script><link type="text/css" rel="stylesheet" href="../../../../../js/shjs/css/sh_mild_white.css"></head><body id=ContentPage onLoad="NDOnLoad();sh_highlightDocument();"><script language=JavaScript><!--
if (browserType) {document.write("<div id=" + browserType + ">");if (browserVer) {document.write("<div id=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 02-10-2007 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CFile CTopic" id=MainTopic><h1 class=CTitle><a name="MPageComponent.js"></a>MPageComponent.js</h1><div class=CBody><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#MPageComponent.js" >MPageComponent.js</a></td><td class=SDescription></td></tr><tr class="SClass"><td class=SEntry><a href="#MPage.Component" >MPage.<span class=HB> </span>Component</a></td><td class=SDescription>base class for MPage components.</td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#MPage.Component.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.data" >data</a></td><td class=SDescription>JS struct to store data after callbacks. </td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#MPage.Component.cclProgram" >cclProgram</a></td><td class=SDescription>default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.cclParams" >cclParams</a></td><td class=SDescription>Array, Parameters for default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link2 onMouseOver="ShowTip(event, 'tt1', 'link2')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</td></tr><tr class="SProperty SIndent2"><td class=SEntry><a href="#MPage.Component.cclDataType" >cclDataType</a></td><td class=SDescription>Default dataType expected by <a href="#MPage.Component.loadCcl" class=LFunction id=link3 onMouseOver="ShowTip(event, 'tt2', 'link3')" onMouseOut="HideTip('tt2')">loadCcl</a>, Default: JSON.</td></tr><tr class="SProperty SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component._target" >_target</a></td><td class=SDescription><b>Non-Standard</b> target element id or DOM element instance for this component. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#MPage.Component.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.create" >create</a></td><td class=SDescription><b>Non-Standard</b> Initializes a component <b>DO NOT OVERRIDE</b></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.init" >init</a></td><td class=SDescription><b>Component Override</b> Initializes a component</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.resize" >resize</a></td><td class=SDescription><b>Component Override</b> resize event handler</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.throwNewError" >throwNewError</a></td><td class=SDescription>Throws an error</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.unload" >unload</a></td><td class=SDescription><b>Component Override</b> unload event handler</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.getTarget" >getTarget</a></td><td class=SDescription>returns a DOM element reference for a supplied target</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.loadData" >loadData</a></td><td class=SDescription><b>Component Override</b> Loads all data that this MPage.Component needs and saves it into <a href="#MPage.Component.data" class=LProperty id=link4 onMouseOver="ShowTip(event, 'tt3', 'link4')" onMouseOut="HideTip('tt3')">data</a></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.render" >render</a></td><td class=SDescription><b>Component Override</b> renders this MPage.Component.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.loadCcl" >loadCcl</a></td><td class=SDescription><b>Framework Override</b> Calls a ccl and returns data via async callback</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.getProperty" >getProperty</a></td><td class=SDescription><b>Framework Override</b> returns page variables by name.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.setProperty" >setProperty</a></td><td class=SDescription>Sets a property on this component instance</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component.setProperties" >setProperties</a></td><td class=SDescription>Sets multiple properties on this component instance</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#MPage.Component.generate" >generate</a></td><td class=SDescription><b>Non-Standard</b> Executes <a href="#MPage.Component.create" class=LFunction id=link5 onMouseOver="ShowTip(event, 'tt4', 'link5')" onMouseOut="HideTip('tt4')">create</a>, <a href="#MPage.Component.loadData" class=LFunction id=link6 onMouseOver="ShowTip(event, 'tt1', 'link6')" onMouseOut="HideTip('tt1')">loadData</a>, and <a href="#MPage.Component.render" class=LFunction id=link7 onMouseOver="ShowTip(event, 'tt5', 'link7')" onMouseOut="HideTip('tt5')">render</a></td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#MPage.Component._getStandardParams" >_getStandardParams</a></td><td class=SDescription><b>internal, Non-Standard</b> returns a standard param array</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CClass CTopic"><h2 class=CTitle><a name="MPage.Component"></a>MPage.<span class=HB> </span>Component</h2><div class=CBody><p class=CParagraph>base class for MPage components.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBody><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SGroup"><td class=SEntry><a href="#MPage.Component.Properties" >Properties</a></td><td class=SDescription></td></tr><tr class="SProperty SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.data" >data</a></td><td class=SDescription>JS struct to store data after callbacks. </td></tr><tr class="SProperty SIndent1"><td class=SEntry><a href="#MPage.Component.cclProgram" >cclProgram</a></td><td class=SDescription>default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link8 onMouseOver="ShowTip(event, 'tt1', 'link8')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</td></tr><tr class="SProperty SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.cclParams" >cclParams</a></td><td class=SDescription>Array, Parameters for default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link9 onMouseOver="ShowTip(event, 'tt1', 'link9')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</td></tr><tr class="SProperty SIndent1"><td class=SEntry><a href="#MPage.Component.cclDataType" >cclDataType</a></td><td class=SDescription>Default dataType expected by <a href="#MPage.Component.loadCcl" class=LFunction id=link10 onMouseOver="ShowTip(event, 'tt2', 'link10')" onMouseOut="HideTip('tt2')">loadCcl</a>, Default: JSON.</td></tr><tr class="SProperty SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component._target" >_target</a></td><td class=SDescription><b>Non-Standard</b> target element id or DOM element instance for this component. </td></tr><tr class="SGroup"><td class=SEntry><a href="#MPage.Component.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.create" >create</a></td><td class=SDescription><b>Non-Standard</b> Initializes a component <b>DO NOT OVERRIDE</b></td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.init" >init</a></td><td class=SDescription><b>Component Override</b> Initializes a component</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.resize" >resize</a></td><td class=SDescription><b>Component Override</b> resize event handler</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.throwNewError" >throwNewError</a></td><td class=SDescription>Throws an error</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.unload" >unload</a></td><td class=SDescription><b>Component Override</b> unload event handler</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.getTarget" >getTarget</a></td><td class=SDescription>returns a DOM element reference for a supplied target</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.loadData" >loadData</a></td><td class=SDescription><b>Component Override</b> Loads all data that this MPage.Component needs and saves it into <a href="#MPage.Component.data" class=LProperty id=link11 onMouseOver="ShowTip(event, 'tt3', 'link11')" onMouseOut="HideTip('tt3')">data</a></td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.render" >render</a></td><td class=SDescription><b>Component Override</b> renders this MPage.Component.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.loadCcl" >loadCcl</a></td><td class=SDescription><b>Framework Override</b> Calls a ccl and returns data via async callback</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.getProperty" >getProperty</a></td><td class=SDescription><b>Framework Override</b> returns page variables by name.</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.setProperty" >setProperty</a></td><td class=SDescription>Sets a property on this component instance</td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component.setProperties" >setProperties</a></td><td class=SDescription>Sets multiple properties on this component instance</td></tr><tr class="SFunction SIndent1 SMarked"><td class=SEntry><a href="#MPage.Component.generate" >generate</a></td><td class=SDescription><b>Non-Standard</b> Executes <a href="#MPage.Component.create" class=LFunction id=link12 onMouseOver="ShowTip(event, 'tt4', 'link12')" onMouseOut="HideTip('tt4')">create</a>, <a href="#MPage.Component.loadData" class=LFunction id=link13 onMouseOver="ShowTip(event, 'tt1', 'link13')" onMouseOut="HideTip('tt1')">loadData</a>, and <a href="#MPage.Component.render" class=LFunction id=link14 onMouseOver="ShowTip(event, 'tt5', 'link14')" onMouseOut="HideTip('tt5')">render</a></td></tr><tr class="SFunction SIndent1"><td class=SEntry><a href="#MPage.Component._getStandardParams" >_getStandardParams</a></td><td class=SDescription><b>internal, Non-Standard</b> returns a standard param array</td></tr></table></div></div><!--END_ND_SUMMARY--></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="MPage.Component.Properties"></a>Properties</h3></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="MPage.Component.data"></a>data</h3><div class=CBody><p class=CParagraph>JS struct to store data after callbacks.&nbsp; Normally set by <a href="#MPage.Component.loadData" class=LFunction id=link15 onMouseOver="ShowTip(event, 'tt1', 'link15')" onMouseOut="HideTip('tt1')">loadData</a></p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="MPage.Component.cclProgram"></a>cclProgram</h3><div class=CBody><p class=CParagraph>default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link16 onMouseOver="ShowTip(event, 'tt1', 'link16')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</p><p class=CParagraph>Normally set in <a href="#MPage.Component.init" class=LFunction id=link17 onMouseOver="ShowTip(event, 'tt6', 'link17')" onMouseOut="HideTip('tt6')">init</a> o</p><h4 class=CHeading>See Also</h4><ul class=CBulletList><li><a href="#MPage.Component.cclParams" class=LProperty id=link18 onMouseOver="ShowTip(event, 'tt7', 'link18')" onMouseOut="HideTip('tt7')">cclParams</a></li></ul></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="MPage.Component.cclParams"></a>cclParams</h3><div class=CBody><p class=CParagraph>Array, Parameters for default CCL called by <a href="#MPage.Component.loadData" class=LFunction id=link19 onMouseOver="ShowTip(event, 'tt1', 'link19')" onMouseOut="HideTip('tt1')">loadData</a>, may not be necessary for all components</p><p class=CParagraph>If not defined, these params will be generated, via <a href="#MPage.Component._getStandardParams" class=LFunction id=link20 onMouseOver="ShowTip(event, 'tt8', 'link20')" onMouseOut="HideTip('tt8')">_getStandardParams</a></p><h4 class=CHeading>Set Also</h4><ul class=CBulletList><li><a href="#MPage.Component.cclProgram" class=LProperty id=link21 onMouseOver="ShowTip(event, 'tt9', 'link21')" onMouseOut="HideTip('tt9')">cclProgram</a></li></ul></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="MPage.Component.cclDataType"></a>cclDataType</h3><div class=CBody><p class=CParagraph>Default dataType expected by <a href="#MPage.Component.loadCcl" class=LFunction id=link22 onMouseOver="ShowTip(event, 'tt2', 'link22')" onMouseOut="HideTip('tt2')">loadCcl</a>, Default: JSON.</p><p class=CParagraph>Value must be &ldquo;JSON&rdquo;, &ldquo;XML&rdquo; or &ldquo;TEXT&rdquo;.</p><h4 class=CHeading>See</h4><p class=CParagraph><a href="#MPage.Component.loadCcl" class=LFunction id=link23 onMouseOver="ShowTip(event, 'tt2', 'link23')" onMouseOut="HideTip('tt2')">loadCcl</a></p></div></div>

<div class="CProperty CTopic"><h3 class=CTitle><a name="MPage.Component._target"></a>_target</h3><div class=CBody><p class=CParagraph><b>Non-Standard</b> target element id or DOM element instance for this component.&nbsp; Set in <a href="#MPage.Component.init" class=LFunction id=link24 onMouseOver="ShowTip(event, 'tt6', 'link24')" onMouseOut="HideTip('tt6')">init</a> or <a href="#MPage.Component.generate" class=LFunction id=link25 onMouseOver="ShowTip(event, 'tt10', 'link25')" onMouseOut="HideTip('tt10')">generate</a>, can be overridden in <a href="#MPage.Component.render" class=LFunction id=link26 onMouseOver="ShowTip(event, 'tt5', 'link26')" onMouseOut="HideTip('tt5')">render</a></p></div></div>

<div class="CGroup CTopic"><h3 class=CTitle><a name="MPage.Component.Functions"></a>Functions</h3></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.create"></a>create</h3><div class=CBody><p class=CParagraph><b>Non-Standard</b> Initializes a component <b>DO NOT OVERRIDE</b></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>target</td><td class=CDLDescription>id or DOM element in which to display this component</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>JSON or JavaScript options object containing configuration information for this component Note: init() will be called by create</td></tr></table></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.init"></a>init</h3><div class=CBody><p class=CParagraph><b>Component Override</b> Initializes a component</p><p class=CParagraph>override this function to provide component-specific initialization.&nbsp; &ldquo;this.options&rdquo; will contain any options for this component.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.resize"></a>resize</h3><div class=CBody><p class=CParagraph><b>Component Override</b> resize event handler</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>w</td><td class=CDLDescription>new width of container in pixels</td></tr><tr><td class=CDLEntry>h</td><td class=CDLDescription>new height of container in pixels</td></tr></table><p class=CParagraph>This function may be called when the size of this element has changed.&nbsp; Components should override this function if they have any UI that must be changed after a resize</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.throwNewError"></a>throwNewError</h3><div class=CBody><p class=CParagraph>Throws an error</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>desc</td><td class=CDLDescription>String, description of error</td></tr><tr><td class=CDLEntry>errorObj</td><td class=CDLDescription><b>Optional, default null</b> Error object previously caught in a try...catch block</td></tr></table><p class=CParagraph>Normally components should pass any errors up up to the framework.&nbsp; If this is not possible because of Async callbacks in AJAX, window.setTimout/Interval, onClick handlers, etc., this function can be used to inform the framework that an error has occurred.</p><h4 class=CHeading>Note</h4><p class=CParagraph>This function should only be called for un-recoverable errors, and is not intended as a logging system.&nbsp; Processing may not stop after calling this function, so be sure to manually exit processing via a return; or a break [label]; to prevent further execution.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.unload"></a>unload</h3><div class=CBody><p class=CParagraph><b>Component Override</b> unload event handler</p><p class=CParagraph>This function is called whenever the page is about to be unloaded or if the component is being permanently discarded.&nbsp; Components can override this function to perform any end-of-life processing such as deleting DOM event listeners, unregistering from shared component stores, etc.</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.getTarget"></a>getTarget</h3><div class=CBody><p class=CParagraph>returns a DOM element reference for a supplied target</p><p class=CParagraph>Parameters; target  -   <b>Optional, default local &lt;target&gt; property</b> ID or DOM element to find</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This function will always return a DOM element.</p><ul class=CBulletList><li>If <u>target</u> is undefined, then <u>target</u> will be set to the local &lt;target&gt; property.</li><li>If the local &lt;target&gt; property is also undefined, then undefined will be returned</li><li>If <u>target</u> is a DOM element it will be returned</li><li>If <u>target</u> is a String, and an element with that id exists, a reference to that element will be returned</li><li>If <u>target</u> is a String, and an element with that id does not exist, undefined will be returned</li></ul></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.loadData"></a>loadData</h3><div class=CBody><p class=CParagraph><b>Component Override</b> Loads all data that this MPage.Component needs and saves it into <a href="#MPage.Component.data" class=LProperty id=link27 onMouseOver="ShowTip(event, 'tt3', 'link27')" onMouseOut="HideTip('tt3')">data</a></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>callback</td><td class=CDLDescription><b>Optional, default null</b> Function.&nbsp; Called when <a href="#MPage.Component.loadData" class=LFunction id=link28 onMouseOver="ShowTip(event, 'tt1', 'link28')" onMouseOut="HideTip('tt1')">loadData</a> completes</td></tr></table><h4 class=CHeading>Callback Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>component</td><td class=CDLDescription>a reference to this component</td></tr></table><h4 class=CHeading>Events</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>dataloded</td><td class=CDLDescription>fired when complete, and after <u>callback</u>.&nbsp; Passes &ldquo;this&rdquo;</td></tr></table><h4 class=CHeading>Detail</h4><p class=CParagraph>The default implmentation will call <a href="#MPage.Component.loadCcl" class=LFunction id=link29 onMouseOver="ShowTip(event, 'tt2', 'link29')" onMouseOut="HideTip('tt2')">loadCcl</a> with &lt;ccl&gt; and <a href="#MPage.Component.cclParams" class=LProperty id=link30 onMouseOver="ShowTip(event, 'tt7', 'link30')" onMouseOut="HideTip('tt7')">cclParams</a>, attempt to evaluate the response as JSON, and save the result to this.&lt;data&gt;</p><p class=CParagraph>Component developers can override this function to perform component specific data loading.&nbsp; If overridden, it should still call <a href="#MPage.Component.loadCcl" class=LFunction id=link31 onMouseOver="ShowTip(event, 'tt2', 'link31')" onMouseOut="HideTip('tt2')">loadCcl</a> for ccl loading, save the interpreted data to this.&lt;data&gt;, call <u>callback</u> if provided, and fire the   &ldquo;dataloaded&rdquo; event</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.render"></a>render</h3><div class=CBody><p class=CParagraph><b>Component Override</b> renders this MPage.Component.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>target</td><td class=CDLDescription><b>Optional, default local &lt;target&gt; property</b> ID or DOM element to render to</td></tr></table><h4 class=CHeading>Detail</h4><p class=CParagraph>This function must be overridden by the component developer to create the UI for the component.&nbsp; The component developer should pass <u>target</u> to  <a href="#MPage.Component.getTarget" class=LFunction id=link32 onMouseOver="ShowTip(event, 'tt11', 'link32')" onMouseOut="HideTip('tt11')">getTarget</a> to properly resolve the DOM element that <u>target</u> represents.&nbsp; Components are expected to manage the innerHTML of <u>target</u> but not manipulate any other properties of <u>target</u>, such as the id, style properties or event handlers.&nbsp; Components can add expando properties to <u>target</u> if necessary</p><blockquote><pre class="CCode sh_myna">//Override render in MyComponent<br>www.MyComponent.prototype.render = function(target){<br>    var dom = this.getTarget(target)<br>    var buffer =[]<br>    buffer.push('&lt;table border=&quot;0&quot;&gt;');<br>        buffer.push('&lt;tr&gt;');<br>            buffer.push('&lt;th&gt;First Name&lt;/th&gt;');<br>            buffer.push('&lt;th&gt;Last Name&lt;/th&gt;');<br>        buffer.push('&lt;/tr&gt;');<br>    for (var i = 0; i&lt; this.data.length; ++i){<br>        var row = this.data[i];<br>        buffer.push('&lt;tr&gt;');<br>            buffer.push('&lt;td&gt;' + row.first_name + '&lt;/td&gt;');<br>            buffer.push('&lt;td&gt;' + row.last_name + '&lt;/td&gt;');<br>        buffer.push('&lt;/tr&gt;');<br>    }<br>    buffer.push('&lt;/table&gt;');<br>    dom.innerHTML = buffer.join(&quot;\n&quot;)<br>}</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.loadCcl"></a>loadCcl</h3><div class=CBody><p class=CParagraph><b>Framework Override</b> Calls a ccl and returns data via async callback</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>ccl</td><td class=CDLDescription>ccl script to run</td></tr><tr><td class=CDLEntry>cclParams</td><td class=CDLDescription>Array of CCL parameters to pass</td></tr><tr><td class=CDLEntry>callback</td><td class=CDLDescription>callback function to execute when data is available.&nbsp; See <b>Callback Parameters</b> below</td></tr><tr><td class=CDLEntry>cclDataType</td><td class=CDLDescription><b>Optional, default:</b> <a href="#MPage.Component.cclDataType" class=LProperty id=link33 onMouseOver="ShowTip(event, 'tt12', 'link33')" onMouseOut="HideTip('tt12')">MPage.Component.cclDataType</a> Datatype of the result. see the <u>response</u> callback parameters below.</td></tr></table><h4 class=CHeading>Callback Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>component</td><td class=CDLDescription>this component</td></tr><tr><td class=CDLEntry>response</td><td class=CDLDescription>response from the CCL call.&nbsp; If <u>cclDataType</u> = &ldquo;JSON&rdquo;, then this will be a JS object, if <u>cclDataType</u> = &ldquo;XML&rdquo; the this will be an XML DOM object, if <u>cclDataType</u> = &ldquo;TEXT&rdquo; then this be returned the raw text response</td></tr></table><p class=CParagraph>Component developers should always use this call to execute ccl scripts rather than directly accessing XMLCclRequest</p><p class=CParagraph>The default implementation uses XMLCclRequest to execute the <u>ccl</u> script</p><p class=CParagraph>Framework developers can override this function to provide a richer interface to callbacks</p></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.getProperty"></a>getProperty</h3><div class=CBody><p class=CParagraph><b>Framework Override</b> returns page variables by name.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>name of parameter to get</td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>value of <u>name</u></p><p class=CParagraph>Component developers should use this function to access local variables.&nbsp; The framework is expected to expose &ldquo;global&rdquo; variables such as &ldquo;userId&rdquo; and &ldquo;personId&rdquo; as local properties via this funciton</p><p class=CParagraph>Framework/base-class developers must override this function to find the requested <u>name</u> in the appropriate scope.&nbsp; If the requested <u>name</u> exists directly on the component, that value must be returned.</p><h4 class=CHeading>Example Implementation</h4><blockquote><pre class="CCode sh_myna">//override &quot;get&quot;<br>MPage.Component.prototype.getProperty = function(name){<br>    if (name in this) return this[name];<br><br>    //now check URL<br>    var regex = new RegExp(&quot;[\\?&amp;]&quot;+name+&quot;=([^&amp;#]*)&quot;);<br>    var qs = regex.exec(window.location.href.replace(/%26/g,&quot;&amp;&quot;));<br>    if (qs == null) {<br>        return mull<br>    } else {<br>        return qs[1];<br>    }<br>}</pre></blockquote></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.setProperty"></a>setProperty</h3><div class=CBody><p class=CParagraph>Sets a property on this component instance</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>property name</td></tr><tr><td class=CDLEntry>value</td><td class=CDLDescription>property value</td></tr></table><h4 class=CHeading>Note</h4><p class=CParagraph>This can be used to set a local override for any  &ldquo;global&rdquo; properties provided by the Page such as</p><ul class=CBulletList><li>userId</li><li>personId</li><li>encounterId</li></ul><h4 class=CHeading>Returns</h4><p class=CParagraph>This component instance</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">var comp = new univnm.NamesTable().generate(&quot;my_div_id_1&quot;)<br>    .setProperty(&quot;cclProgram&quot;,&quot;1_uh_mp_names&quot;)<br>    .setProperty(&quot;cclParams&quot;,[&quot;MINE&quot;])<br>    .setProperty(&quot;personId&quot;,window.personId)</pre></blockquote><h4 class=CHeading>See Also</h4><ul class=CBulletList><li><a href="#MPage.Component.setProperties" class=LFunction id=link34 onMouseOver="ShowTip(event, 'tt13', 'link34')" onMouseOut="HideTip('tt13')">setProperties</a></li></ul></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.setProperties"></a>setProperties</h3><div class=CBody><p class=CParagraph>Sets multiple properties on this component instance</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>name</td><td class=CDLDescription>property object</td></tr></table><h4 class=CHeading>Note</h4><p class=CParagraph>This can be used to set a local override for any  &ldquo;global&rdquo; properties provided by the Page such as</p><ul class=CBulletList><li>userId</li><li>personId</li><li>encounterId</li></ul><h4 class=CHeading>Returns</h4><p class=CParagraph>This component instance</p><h4 class=CHeading>Example</h4><blockquote><pre class="CCode sh_myna">var comp = new univnm.NamesTable().generate(&quot;my_div_id_1&quot;).setProperties({<br>    cclProgram:&quot;1_uh_mp_names&quot;,<br>    cclParams:[&quot;MINE&quot;],<br>    personId:window.personID<br>})</pre></blockquote><h4 class=CHeading>See Also</h4><ul class=CBulletList><li><a href="#MPage.Component.setProperty" class=LFunction id=link35 onMouseOver="ShowTip(event, 'tt14', 'link35')" onMouseOut="HideTip('tt14')">setProperty</a></li></ul></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component.generate"></a>generate</h3><div class=CBody><p class=CParagraph><b>Non-Standard</b> Executes <a href="#MPage.Component.create" class=LFunction id=link36 onMouseOver="ShowTip(event, 'tt4', 'link36')" onMouseOut="HideTip('tt4')">create</a>, <a href="#MPage.Component.loadData" class=LFunction id=link37 onMouseOver="ShowTip(event, 'tt1', 'link37')" onMouseOut="HideTip('tt1')">loadData</a>, and <a href="#MPage.Component.render" class=LFunction id=link38 onMouseOver="ShowTip(event, 'tt5', 'link38')" onMouseOut="HideTip('tt5')">render</a></p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>target</td><td class=CDLDescription>Id or Dom object that should contain this component&rsquo;s HTML</td></tr><tr><td class=CDLEntry>options</td><td class=CDLDescription>component options object or JSON string</td></tr><tr><td class=CDLEntry>callback</td><td class=CDLDescription>See <u>callback</u> in <a href="#MPage.Component.loadData" class=LFunction id=link39 onMouseOver="ShowTip(event, 'tt1', 'link39')" onMouseOut="HideTip('tt1')">loadData</a></td></tr></table><h4 class=CHeading>Returns</h4><p class=CParagraph>this</p><h4 class=CHeading>Detail</h4><p class=CParagraph>This is used to create and render a component in a single step</p><blockquote><pre class="CCode sh_myna">&lt;script&gt;<br>    window.onload = function(){<br>        new www.CustomComponent().generate(&quot;my_div_id_1&quot;)<br><br>        var comp = new univnm.NamesTable().generate(&quot;my_div_id_1&quot;,{<br>            cclProgram:&quot;1_uh_mp_names&quot;,//handled by base class<br>            cclParams:[&quot;MINE&quot;],//handled by base class<br>            personId:window.personID,//handled by base class<br>            customOption:&quot;bob&quot;//handled by init()<br>        })<br><br>    }<br>&lt;script&gt;</pre></blockquote><h4 class=CHeading>See Also</h4><ul class=CBulletList><li><a href="#MPage.Component.create" class=LFunction id=link40 onMouseOver="ShowTip(event, 'tt4', 'link40')" onMouseOut="HideTip('tt4')">create</a></li><li><a href="#MPage.Component.init" class=LFunction id=link41 onMouseOver="ShowTip(event, 'tt6', 'link41')" onMouseOut="HideTip('tt6')">init</a></li><li><a href="#MPage.Component.loadData" class=LFunction id=link42 onMouseOver="ShowTip(event, 'tt1', 'link42')" onMouseOut="HideTip('tt1')">loadData</a></li><li><a href="#MPage.Component.render" class=LFunction id=link43 onMouseOver="ShowTip(event, 'tt5', 'link43')" onMouseOut="HideTip('tt5')">render</a></li></ul></div></div>

<div class="CFunction CTopic"><h3 class=CTitle><a name="MPage.Component._getStandardParams"></a>_getStandardParams</h3><div class=CBody><p class=CParagraph><b>internal, Non-Standard</b> returns a standard param array</p><h4 class=CHeading>Standard Params</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>&rdquo;MINE&rdquo;</td><td class=CDLDescription>standard outdev</td></tr><tr><td class=CDLEntry>this.getProperty(&ldquo;personId&rdquo;)</td><td class=CDLDescription>Patient id, from the environment, see &lt;get&gt;</td></tr><tr><td class=CDLEntry>this.getProperty(&ldquo;encounterId&rdquo;)</td><td class=CDLDescription>Encounter id, from the environment, see &lt;get&gt;</td></tr><tr><td class=CDLEntry>this.getProperty(&ldquo;userId&rdquo;)</td><td class=CDLDescription>User id, from the environment, see &lt;get&gt;</td></tr></table></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class="MFile MEntry"><a href="../deity/compiled-js.html">deity/<span class=HB> </span>compiled.js</a></div><div class="MFile MEntry"><a href="../deity/concatenated-js.html">deity/<span class=HB> </span>concatenated.js</a></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent2')">Univnm</a><div class=MGroupContent id=MGroupContent2><div class="MFile MEntry"><a href="controller-js.html">controller.js</a></div><div class="MFile MEntry"><a href="controller_shared-js.html">controller_shared.js</a></div><div class="MFile MEntry"><a href="controller_touch-js.html">controller_touch.js</a></div><div class="MFile MEntry"><a href="db-js.html">db.js</a></div><div class="MFile MEntry"><a href="env-js.html">env.js</a></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent1')">Ext</a><div class=MGroupContent id=MGroupContent1><div class="MFile MEntry"><a href="ext/BetterActionColumn-js.html">BetterActionColumn.js</a></div><div class="MFile MEntry"><a href="ext/CclDirect-js.html">CclDirect.js</a></div><div class="MFile MEntry"><a href="ext/MpageStandardComponent-js.html">MpageStandardComponent.js</a></div><div class="MFile MEntry"><a href="ext/QueryStore-js.html">QueryStore.js</a></div><div class="MFile MEntry"><a href="ext/QuickDrop-js.html">QuickDrop.js</a></div><div class="MFile MEntry"><a href="ext/RowProxy-js.html">RowProxy.js</a></div><div class="MFile MEntry"><a href="ext/SequenceGenerator-js.html">SequenceGenerator.js</a></div><div class="MFile MEntry"><a href="ext/SupaGrid-js.html">SupaGrid.js</a></div></div></div><div class="MFile MEntry"><a href="jslib-js.html">jslib.js</a></div><div class="MFile MEntry" id=MSelected>MPageComponent.js</div><div class="MFile MEntry"><a href="mpages_core-js.html">mpages_core.js</a></div><div class="MFile MEntry"><a href="univnm-pck.html">univnm.pck</a></div><div class="MFile MEntry"><a href="univnm_mpage_component-js.html">univnm_mpage_component.js</a></div></div></div><div class="MFile MEntry"><a href="../docs/javascript/main-js.html">docs/<span class=HB> </span>javascript/<span class=HB> </span>main.js</a></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent4')">Dist</a><div class=MGroupContent id=MGroupContent4><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent3')">Js</a><div class=MGroupContent id=MGroupContent3><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/ccl_direct_proxy-js.html">ccl_direct_proxy.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/ccl_proxy-js.html">ccl_proxy.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/env-js.html">env.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/jquery-mpages-js.html">jquery.<span class=HB> </span>mpages.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/mpages_core-js.html">mpages_core.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/mpages_jslib-js.html">mpages_jslib.js</a></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/js/PCRemotingProvider-js.html">PCRemotingProvider.js</a></div></div></div><div class="MFile MEntry"><a href="../dist/mpages/mpages/shared/docs/javascript/main-js.html">main.js</a></div></div></div><div class="MFile MEntry"><a href="../menu/compiled-js.html">menu/<span class=HB> </span>compiled.js</a></div><div class="MFile MEntry"><a href="../menu/concatenated-js.html">menu/<span class=HB> </span>concatenated.js</a></div><div class="MFile MEntry"><a href="../query_builder/compiled-js.html">query_builder/<span class=HB> </span>compiled.js</a></div><div class="MFile MEntry"><a href="../query_builder/concatenated-js.html">query_builder/<span class=HB> </span>concatenated.js</a></div><div class="MFile MEntry"><a href="../script_compiler/env-rhino-js.html">script_compiler/<span class=HB> </span>env.<span class=HB> </span>rhino.js</a></div><div class="MFile MEntry"><a href="../script_compiler/framework/FlightPath-txt.html">script_compiler/<span class=HB> </span>framework/<span class=HB> </span>FlightPath.txt</a></div><div class="MFile MEntry"><a href="../template/compiled-js.html">template/<span class=HB> </span>compiled.js</a></div><div class="MFile MEntry"><a href="../template/concatenated-js.html">template/<span class=HB> </span>concatenated.js</a></div><div class="MGroup MEntry"><a href="javascript:ToggleMenu('MGroupContent5')">Index</a><div class=MGroupContent id=MGroupContent5><div class="MIndex MEntry"><a href="../../index/General.html">Everything</a></div><div class="MIndex MEntry"><a href="../../index/Classes.html">Classes</a></div><div class="MIndex MEntry"><a href="../../index/Events.html">Events</a></div><div class="MIndex MEntry"><a href="../../index/Files.html">Files</a></div><div class="MIndex MEntry"><a href="../../index/Functions.html">Functions</a></div><div class="MIndex MEntry"><a href="../../index/Properties.html">Properties</a></div><div class="MIndex MEntry"><a href="../../index/Variables.html">Variables</a></div></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option  id=MSearchEverything selected value="General">Everything</option><option value="Classes">Classes</option><option value="Events">Events</option><option value="Files">Files</option><option value="Functions">Functions</option><option value="Properties">Properties</option><option value="Variables">Variables</option></select></div><div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div><script language=JavaScript><!--
if (document.getElementById){for (var menu = 1; menu < 6; menu++){if (menu != 2){document.getElementById("MGroupContent" + menu).style.display = "none";};};}// --></script></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><b>Component Override</b> Loads all data that this MPage.Component needs and saves it into data</div></div><div class=CToolTip id="tt2"><div class=CFunction><b>Framework Override</b> Calls a ccl and returns data via async callback</div></div><div class=CToolTip id="tt3"><div class=CProperty>JS struct to store data after callbacks. </div></div><div class=CToolTip id="tt4"><div class=CFunction><b>Non-Standard</b> Initializes a component <b>DO NOT OVERRIDE</b></div></div><div class=CToolTip id="tt5"><div class=CFunction><b>Component Override</b> renders this MPage.Component.</div></div><div class=CToolTip id="tt6"><div class=CFunction><b>Component Override</b> Initializes a component</div></div><div class=CToolTip id="tt7"><div class=CProperty>Array, Parameters for default CCL called by loadData, may not be necessary for all components</div></div><div class=CToolTip id="tt8"><div class=CFunction><b>internal, Non-Standard</b> returns a standard param array</div></div><div class=CToolTip id="tt9"><div class=CProperty>default CCL called by loadData, may not be necessary for all components</div></div><div class=CToolTip id="tt10"><div class=CFunction><b>Non-Standard</b> Executes create, loadData, and render</div></div><div class=CToolTip id="tt11"><div class=CFunction>returns a DOM element reference for a supplied target</div></div><div class=CToolTip id="tt12"><div class=CProperty>Default dataType expected by loadCcl, Default: JSON.</div></div><div class=CToolTip id="tt13"><div class=CFunction>Sets multiple properties on this component instance</div></div><div class=CToolTip id="tt14"><div class=CFunction>Sets a property on this component instance</div></div><!--END_ND_TOOLTIPS-->




<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>