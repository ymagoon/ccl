(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("MPageFusion"), require("Gaia"));
	else if(typeof define === 'function' && define.amd)
		define(["MPageFusion", "Gaia"], factory);
	else if(typeof exports === 'object')
		exports["gaia-plugin-webpack"] = factory(require("MPageFusion"), require("Gaia"));
	else
		root["gaia-plugin-webpack"] = factory(root["MPageFusion"], root["Gaia"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(3);


/***/ }),
/* 3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__WebpackUI__ = __webpack_require__(4);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_Gaia__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_Gaia___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_Gaia__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var writeConfig = function writeConfig(control, config) {
    if (control._configTimeout) {
        clearTimeout(control._configTimeout);
    }
    control._configTimeout = setTimeout(function () {
        return Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "writeFullConfig", {
            config: config
        });
    }, 500);
};

var removeTargetName = function removeTargetName(target) {
    var clone = Object.assign({}, target);
    delete clone.name;
    return clone;
};

var readTargetsArray = function readTargetsArray(targets) {
    return targets.reduce(function (result, target) {
        return Object.assign({}, result, _defineProperty({}, target.name, removeTargetName(target)));
    }, {});
};

var makeTargetsArray = function makeTargetsArray(targets) {
    return Object.keys(targets).map(function (targetName) {
        return Object.assign({}, targets[targetName], { name: targetName });
    });
};

var TARGETS_CHANGE = "Internal::WebpackIndex::TargetsChange";
var RUN_DEV_SERVER = "Internal::WebpackIndex::RunDevServer";
var RUN_WATCH_SERVER = "Internal::WebpackIndex::RunWatcherServer";
var STOP_DEV_SERVER = "Internal::WebpackIndex::StopDevServer";
var STOP_WATCH_SERVER = "Internal::WebpackIndex::StopWatchServer";

var WebpackIndex = function (_Fusion$UIComponent) {
    _inherits(WebpackIndex, _Fusion$UIComponent);

    function WebpackIndex() {
        _classCallCheck(this, WebpackIndex);

        return _possibleConstructorReturn(this, _Fusion$UIComponent.apply(this, arguments));
    }

    WebpackIndex.prototype.createChildren = function createChildren() {
        return [{
            ui: new __WEBPACK_IMPORTED_MODULE_1__WebpackUI__["a" /* default */]({
                targetsChangeEventName: TARGETS_CHANGE,
                runDevServerEventName: RUN_DEV_SERVER,
                runWatchServerEventName: RUN_WATCH_SERVER,
                stopDevServerEventName: STOP_DEV_SERVER,
                stopWatchServerEventName: STOP_WATCH_SERVER
            })
        }];
    };

    WebpackIndex.prototype.afterCreate = function afterCreate() {
        var _this2 = this;

        Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "readFullConfig", {}).then(function (fullConfig) {
            return _this2.getChild("ui").setProp("targets", fullConfig.targets ? makeTargetsArray(fullConfig.targets) : {}).update();
        });

        Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["openWebsocket"])("webpack", "devServerStatus").then(function (ws) {
            ws.onmessage = function (msg) {
                var message = JSON.parse(msg.data);
                _this2.getChild("ui").setProp("isDevServerRunning", message.isRunning).update();
            };
        });

        Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["openWebsocket"])("webpack", "watcherStatus").then(function (ws) {
            ws.onmessage = function (msg) {
                var message = JSON.parse(msg.data);
                _this2.getChild("ui").setProp("isWatchServerRunning", message.isRunning).update();
            };
        });

        this.on(TARGETS_CHANGE, function (source, newTargets) {
            writeConfig(_this2, { targets: readTargetsArray(newTargets) });
            _this2.getChild("ui").setProp("targets", newTargets).update();
        });

        this.on(RUN_DEV_SERVER, function (source, target) {
            Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "startDevServer", {
                target: target.name
            });
        });

        this.on(STOP_DEV_SERVER, function (source) {
            return Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "stopDevServer");
        });

        this.on(RUN_WATCH_SERVER, function (source, target) {
            Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "startWatcher", {
                target: target.name
            });
        });

        this.on(STOP_WATCH_SERVER, function (source) {
            return Object(__WEBPACK_IMPORTED_MODULE_2_Gaia__["runCommand"])("webpack", "stopWatcher");
        });
    };

    WebpackIndex.prototype.view = function view(el) {
        return this.renderChildren();
    };

    return WebpackIndex;
}(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__["UIComponent"]);

;

/* harmony default export */ __webpack_exports__["default"] = ({
    label: "Webpack",
    control: WebpackIndex,
    showHelp: true
});

/***/ }),
/* 4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TargetList__ = __webpack_require__(5);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var forwardProp = __WEBPACK_IMPORTED_MODULE_0_MPageFusion__["helpers"].props.forwardProp;
var Button = __WEBPACK_IMPORTED_MODULE_0_MPageFusion__["atomic"].button.Button;

var TARGETS_CHANGE = "Internal::WebpackUI::TargetsChange";
var ADD_TARGET = "Internal::WebpackUI::AddTarget";
var RUN_DEV_SERVER = "Internal::WebpackUI::RunDevServer";
var RUN_WATCH_SERVER = "Internal::WebpackUI::RunWatchServer";
var STOP_DEV_SERVER = "Internal::WebpackUI::StopDevServer";
var STOP_WATCH_SERVER = "Internal::WebpackUI::StopWatchServer";

var WebpackUI = function (_Fusion$UIComponent) {
    _inherits(WebpackUI, _Fusion$UIComponent);

    function WebpackUI() {
        _classCallCheck(this, WebpackUI);

        return _possibleConstructorReturn(this, _Fusion$UIComponent.apply(this, arguments));
    }

    WebpackUI.prototype.initialProps = function initialProps() {
        return {
            targets: [],
            targetsChangeEventName: null,
            runDevServerEventName: null,
            runWatchServerEventName: null,
            stopDevServerEventName: null,
            stopWatchServerEventName: null,
            isDevServerRunning: false,
            isWatchServerRunning: false
        };
    };

    WebpackUI.prototype.propChangeHandlers = function propChangeHandlers() {
        return {
            targets: forwardProp(this, "targets", "targetList")
        };
    };

    WebpackUI.prototype.dependentPropChangeHandlers = function dependentPropChangeHandlers() {
        var _this2 = this;

        return [["isDevServerRunning", "isWatchServerRunning", function (isDevServerRunning, isWatchServerRunning) {
            return _this2.getChild("targetList").setProp("showServerButtons", !isDevServerRunning && !isWatchServerRunning);
        }]];
    };

    WebpackUI.prototype.createChildren = function createChildren() {
        return [{
            targetList: new __WEBPACK_IMPORTED_MODULE_1__TargetList__["a" /* default */]({
                targetsChangeEventName: TARGETS_CHANGE,
                runDevServerEventName: RUN_DEV_SERVER,
                runWatchServerEventName: RUN_WATCH_SERVER
            })
        }, {
            addTarget: new Button({
                display: "Add target",
                clickEventName: ADD_TARGET
            })
        }, {
            stopDevServer: new Button({
                classNames: "mpageui-u-margin-absolute-loose",
                display: "Stop",
                clickEventName: STOP_DEV_SERVER
            })
        }, {
            stopWatchServer: new Button({
                classNames: "mpageui-u-margin-absolute-loose",
                display: "Stop",
                clickEventName: STOP_WATCH_SERVER
            })
        }];
    };

    WebpackUI.prototype.afterCreate = function afterCreate() {
        var _this3 = this;

        this.convertEventUsingProp(TARGETS_CHANGE, "targetsChangeEventName", function (source, targets) {
            return [_this3, targets];
        });

        this.convertEventUsingProp(ADD_TARGET, "targetsChangeEventName", function (source) {
            return [_this3, _this3.getProp("targets").concat({ name: "New target" })];
        });

        this.convertEventUsingProp(RUN_DEV_SERVER, "runDevServerEventName", function (source, target) {
            return [_this3, target];
        });

        this.convertEventUsingProp(RUN_WATCH_SERVER, "runWatchServerEventName", function (source, target) {
            return [_this3, target];
        });

        this.convertEventUsingProp(STOP_WATCH_SERVER, "stopWatchServerEventName", function (source) {
            return [_this3];
        });

        this.convertEventUsingProp(STOP_DEV_SERVER, "stopDevServerEventName", function (source) {
            return [_this3];
        });
    };

    WebpackUI.prototype.view = function view(el, props, children, mChildren) {
        return [props.isDevServerRunning ? el("div", {}, ["Dev server running", mChildren.stopDevServer.render()]) : [], props.isWatchServerRunning ? el("div", {}, ["Watch server running", mChildren.stopWatchServer.render()]) : []].concat([mChildren.targetList.render(), mChildren.addTarget.render()]);
    };

    return WebpackUI;
}(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__["UIComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (WebpackUI);

/***/ }),
/* 5 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Target__ = __webpack_require__(6);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var TARGET_CHANGE = "Internal::TargetList::TargetChange";
var TARGET_DELETED = "Internal::TargetList::TargetDelete";
var RUN_WATCH_SERVER = "Internal::TargetList::RunWatchServer";
var RUN_DEV_SERVER = "Internal::TargetList::RunDevServer";

var TargetList = function (_Fusion$UIComponent) {
    _inherits(TargetList, _Fusion$UIComponent);

    function TargetList() {
        _classCallCheck(this, TargetList);

        return _possibleConstructorReturn(this, _Fusion$UIComponent.apply(this, arguments));
    }

    TargetList.prototype.initialProps = function initialProps() {
        return {
            targets: {},
            targetsChangeEventName: null,
            runWatchServerEventName: null,
            runDevServerEventName: null,
            showServerButtons: true
        };
    };

    TargetList.prototype.dependentPropChangeHandlers = function dependentPropChangeHandlers() {
        var _this2 = this;

        return [["targets", "showServerButtons", function (targets, showServerButtons) {
            return _this2.replaceAllChildren(targets.map(function (target, i) {
                return new __WEBPACK_IMPORTED_MODULE_1__Target__["a" /* default */]({
                    targetChangeEventName: TARGET_CHANGE,
                    targetSettings: target,
                    deleteEventName: TARGET_DELETED,
                    runDevServerEventName: RUN_DEV_SERVER,
                    runWatchServerEventName: RUN_WATCH_SERVER,
                    _targetIndex: i,
                    showServerButtons: showServerButtons
                });
            }));
        }]];
    };

    TargetList.prototype.afterCreate = function afterCreate() {
        var _this3 = this;

        this.convertEventUsingProp(TARGET_DELETED, "targetsChangeEventName", function (source) {
            var newTargetList = _this3.getProp("targets").slice(0);
            newTargetList.splice(source.getProp("_targetIndex"), 1);
            return [_this3, newTargetList];
        });

        this.convertEventUsingProp(TARGET_CHANGE, "targetsChangeEventName", function (source, newTarget) {
            var newTargetList = _this3.getProp("targets").slice(0);
            newTargetList[source.getProp("_targetIndex")] = newTarget;
            return [_this3, newTargetList];
        });

        this.convertEventUsingProp(RUN_WATCH_SERVER, "runWatchServerEventName", function (source, target) {
            return [_this3, target];
        });

        this.convertEventUsingProp(RUN_DEV_SERVER, "runDevServerEventName", function (source, target) {
            return [_this3, target];
        });
    };

    TargetList.prototype.view = function view(el, props, children) {
        return this.renderChildren();
    };

    return TargetList;
}(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__["UIComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (TargetList);

/***/ }),
/* 6 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Gaia__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Gaia___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_Gaia__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Externals__ = __webpack_require__(7);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }





var Button = __WEBPACK_IMPORTED_MODULE_0_MPageFusion__["atomic"].button.Button;
var JsonForm = __WEBPACK_IMPORTED_MODULE_1_Gaia__["controls"].JsonForm;

var RUN_DEV_SERVER_CLICK = "Target::RunDevServerClick";
var RUN_WATCH_SERVER_CLICK = "Target::RunWatchServerClick";
var DELETE_CLICK = "Target::DeleteClick";
var SETTINGS_CHANGE = "Target::SettingsChange";
var EXTERNALS_CHANGE = "Target::ExternalsChange";

var serverButtons = function serverButtons(props, mChildren) {
    return props.showServerButtons ? [mChildren.runDevServer.render(), mChildren.runWatchServer.render()] : [];
};

var Target = function (_Fusion$UIComponent) {
    _inherits(Target, _Fusion$UIComponent);

    function Target() {
        _classCallCheck(this, Target);

        return _possibleConstructorReturn(this, _Fusion$UIComponent.apply(this, arguments));
    }

    Target.prototype.initialProps = function initialProps() {
        return {
            targetSettings: {},
            targetChangeEventName: null,
            runDevServerEventName: null,
            runWatchServerEventName: null,
            deleteEventName: null,
            showServerButtons: true
        };
    };

    Target.prototype.propChangeHandlers = function propChangeHandlers() {
        var _this2 = this;

        return {
            targetSettings: function targetSettings(_targetSettings) {
                _this2.getChild("settings").setProp("jsonObject", _targetSettings);
                _this2.getChild("externals").setProp("externals", _targetSettings.externals);
            }
        };
    };

    Target.prototype.createChildren = function createChildren() {
        return [{
            settings: new JsonForm({
                changeEventName: SETTINGS_CHANGE,
                formDefinition: [{
                    key: "name",
                    label: "Target name",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "devtool",
                    label: "Dev tool",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "fileName",
                    label: "Output file name",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "cssFileName",
                    label: "CSS Output file name",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "outputFolder",
                    label: "Output folder",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "libraryName",
                    label: "Library name",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "entryPoints",
                    label: "Entry points (comma separated)",
                    type: JsonForm.CONTROL_TYPES.TEXTARRAY
                }, {
                    key: "sourceFolders",
                    label: "Source Folders (comma separated)",
                    type: JsonForm.CONTROL_TYPES.TEXTARRAY
                }, {
                    key: "contentBase",
                    label: "Content Base",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "publicPath",
                    label: "Public Path",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "port",
                    label: "Port",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "autoRefresh",
                    label: "Auto Refresh",
                    type: JsonForm.CONTROL_TYPES.CHECKBOX
                }, {
                    key: "includeCSS",
                    label: "Include CSS in bundle",
                    type: JsonForm.CONTROL_TYPES.CHECKBOX
                }, {
                    key: "envify",
                    label: "Envify",
                    type: JsonForm.CONTROL_TYPES.CHECKBOX
                }, {
                    key: "minify",
                    label: "Minify",
                    type: JsonForm.CONTROL_TYPES.CHECKBOX
                }, {
                    key: "includePolyfills",
                    label: "Include Polyfills",
                    type: JsonForm.CONTROL_TYPES.CHECKBOX
                }]
            })
        }, {
            runDevServer: new Button({
                clickEventName: RUN_DEV_SERVER_CLICK,
                type: Button.TYPE.LINK,
                display: "Run dev server"
            })
        }, {
            runWatchServer: new Button({
                clickEventName: RUN_WATCH_SERVER_CLICK,
                type: Button.TYPE.LINK,
                display: "Run watch server"
            })
        }, {
            delete: new Button({
                clickEventName: DELETE_CLICK,
                type: Button.TYPE.LINK,
                display: "Delete"
            })
        }, {
            externals: new __WEBPACK_IMPORTED_MODULE_2__Externals__["a" /* default */]({
                externalsChangeEventName: EXTERNALS_CHANGE
            })
        }];
    };

    Target.prototype.afterCreate = function afterCreate() {
        var _this3 = this;

        this.convertEventUsingProp(SETTINGS_CHANGE, "targetChangeEventName", function (source, newTarget) {
            return [_this3, newTarget];
        });
        this.convertEventUsingProp(EXTERNALS_CHANGE, "targetChangeEventName", function (source, externals) {
            return [_this3, Object.assign({}, _this3.getProp("targetSettings"), { externals: externals })];
        });
        this.convertEventUsingProp(DELETE_CLICK, "deleteEventName", function (source) {
            return [_this3];
        });
        this.convertEventUsingProp(RUN_DEV_SERVER_CLICK, "runDevServerEventName", function (source) {
            return [_this3, _this3.getProp("targetSettings")];
        });
        this.convertEventUsingProp(RUN_WATCH_SERVER_CLICK, "runWatchServerEventName", function (source) {
            return [_this3, _this3.getProp("targetSettings")];
        });
    };

    Target.prototype.view = function view(el, props, children, mChildren) {
        return [el("h2", {}, props.targetSettings.name), el("div", {
            class: "gaia-webpack-targetActions"
        }, serverButtons(props, mChildren).concat([mChildren.delete.render()])), el("div", {
            class: "gaia-section"
        }, [mChildren.settings.render(), mChildren.externals.render()])];
    };

    return Target;
}(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__["UIComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (Target);

/***/ }),
/* 7 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_MPageFusion___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Gaia__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_Gaia___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_Gaia__);
function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }




var Table = __WEBPACK_IMPORTED_MODULE_0_MPageFusion__["atomic"].table.Table;
var JsonForm = __WEBPACK_IMPORTED_MODULE_1_Gaia__["controls"].JsonForm;
var Button = __WEBPACK_IMPORTED_MODULE_0_MPageFusion__["atomic"].button.Button;

var DELETE_CLICK = "Externals::DeleteClick";
var NEW_EXTERNAL_CHANGE = "Externals::NewExternalChange";
var NEW_EXTERNAL_CLICK = "Externals::NewExternalClick";

var removeVariable = function removeVariable(variableName, externals) {
    delete externals[variableName];
    return externals;
};

var Externals = function (_Fusion$UIComponent) {
    _inherits(Externals, _Fusion$UIComponent);

    function Externals() {
        _classCallCheck(this, Externals);

        return _possibleConstructorReturn(this, _Fusion$UIComponent.apply(this, arguments));
    }

    Externals.prototype.initialProps = function initialProps() {
        return {
            externals: {},
            externalsChangeEventName: null
        };
    };

    Externals.prototype.createChildren = function createChildren() {
        return [{
            newExternalForm: new JsonForm({
                changeEventName: NEW_EXTERNAL_CHANGE,
                formDefinition: [{
                    key: "variableName",
                    label: "Variable name",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }, {
                    key: "value",
                    label: "Value",
                    type: JsonForm.CONTROL_TYPES.TEXTBOX
                }]
            })
        }, {
            newExternalButton: new Button({
                display: "Add",
                clickEventName: NEW_EXTERNAL_CLICK
            })
        }, {
            table: new Table({
                columns: [{ display: "Variable name", key: "variable" }, { display: "Value", key: "value" }, { display: "", key: "actions" }]
            })
        }];
    };

    Externals.prototype.propChangeHandlers = function propChangeHandlers() {
        var _this2 = this;

        return {
            externals: function externals(_externals) {
                return _this2.getChild("table").setProp("rows", Object.keys(_externals || {}).map(function (variableName, i) {
                    return {
                        key: variableName,
                        data: [{ display: variableName }, { display: _externals[variableName] }, { content: [new Button({
                                display: "Delete",
                                clickEventName: DELETE_CLICK,
                                _varName: variableName
                            })] }]
                    };
                }));
            }
        };
    };

    Externals.prototype.afterCreate = function afterCreate() {
        var _this3 = this;

        this.convertEventUsingProp(DELETE_CLICK, "externalsChangeEventName", function (source) {
            return [_this3, removeVariable(source.getProp("_varName"), Object.assign({}, _this3.getProp("externals")))];
        });

        this.on(NEW_EXTERNAL_CHANGE, function (source, newExternal) {
            return _this3.setState(newExternal);
        });

        this.convertEventUsingProp(NEW_EXTERNAL_CLICK, "externalsChangeEventName", function (source) {
            return [_this3, Object.assign({}, _this3.getProp("externals"), _defineProperty({}, _this3._state.variableName, _this3._state.value))];
        });
    };

    Externals.prototype.view = function view(el, props, children, mChildren) {
        return [el("h3", {}, "Externals"), mChildren.newExternalForm.render(), mChildren.newExternalButton.render(), mChildren.table.render()];
    };

    return Externals;
}(__WEBPACK_IMPORTED_MODULE_0_MPageFusion__["UIComponent"]);

/* harmony default export */ __webpack_exports__["a"] = (Externals);

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBlODIwMjg0N2VjMjUyMzE0OTNkMyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJNUGFnZUZ1c2lvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkdhaWFcIiIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9XZWJwYWNrVUkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svVGFyZ2V0TGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svRXh0ZXJuYWxzLmpzIl0sIm5hbWVzIjpbIndyaXRlQ29uZmlnIiwiY29udHJvbCIsImNvbmZpZyIsIl9jb25maWdUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInJ1bkNvbW1hbmQiLCJyZW1vdmVUYXJnZXROYW1lIiwidGFyZ2V0IiwiY2xvbmUiLCJPYmplY3QiLCJhc3NpZ24iLCJuYW1lIiwicmVhZFRhcmdldHNBcnJheSIsInRhcmdldHMiLCJyZWR1Y2UiLCJyZXN1bHQiLCJtYWtlVGFyZ2V0c0FycmF5Iiwia2V5cyIsIm1hcCIsInRhcmdldE5hbWUiLCJUQVJHRVRTX0NIQU5HRSIsIlJVTl9ERVZfU0VSVkVSIiwiUlVOX1dBVENIX1NFUlZFUiIsIlNUT1BfREVWX1NFUlZFUiIsIlNUT1BfV0FUQ0hfU0VSVkVSIiwiV2VicGFja0luZGV4IiwiY3JlYXRlQ2hpbGRyZW4iLCJ1aSIsIldlYnBhY2tVSSIsInRhcmdldHNDaGFuZ2VFdmVudE5hbWUiLCJydW5EZXZTZXJ2ZXJFdmVudE5hbWUiLCJydW5XYXRjaFNlcnZlckV2ZW50TmFtZSIsInN0b3BEZXZTZXJ2ZXJFdmVudE5hbWUiLCJzdG9wV2F0Y2hTZXJ2ZXJFdmVudE5hbWUiLCJhZnRlckNyZWF0ZSIsInRoZW4iLCJmdWxsQ29uZmlnIiwiZ2V0Q2hpbGQiLCJzZXRQcm9wIiwidXBkYXRlIiwib3BlbldlYnNvY2tldCIsIndzIiwib25tZXNzYWdlIiwibXNnIiwibWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJpc1J1bm5pbmciLCJvbiIsInNvdXJjZSIsIm5ld1RhcmdldHMiLCJ2aWV3IiwiZWwiLCJyZW5kZXJDaGlsZHJlbiIsIkZ1c2lvbiIsImxhYmVsIiwic2hvd0hlbHAiLCJmb3J3YXJkUHJvcCIsInByb3BzIiwiQnV0dG9uIiwiYnV0dG9uIiwiQUREX1RBUkdFVCIsImluaXRpYWxQcm9wcyIsImlzRGV2U2VydmVyUnVubmluZyIsImlzV2F0Y2hTZXJ2ZXJSdW5uaW5nIiwicHJvcENoYW5nZUhhbmRsZXJzIiwiZGVwZW5kZW50UHJvcENoYW5nZUhhbmRsZXJzIiwidGFyZ2V0TGlzdCIsIlRhcmdldExpc3QiLCJhZGRUYXJnZXQiLCJkaXNwbGF5IiwiY2xpY2tFdmVudE5hbWUiLCJzdG9wRGV2U2VydmVyIiwiY2xhc3NOYW1lcyIsInN0b3BXYXRjaFNlcnZlciIsImNvbnZlcnRFdmVudFVzaW5nUHJvcCIsImdldFByb3AiLCJjb25jYXQiLCJjaGlsZHJlbiIsIm1DaGlsZHJlbiIsInJlbmRlciIsIlRBUkdFVF9DSEFOR0UiLCJUQVJHRVRfREVMRVRFRCIsInNob3dTZXJ2ZXJCdXR0b25zIiwicmVwbGFjZUFsbENoaWxkcmVuIiwiaSIsIlRhcmdldCIsInRhcmdldENoYW5nZUV2ZW50TmFtZSIsInRhcmdldFNldHRpbmdzIiwiZGVsZXRlRXZlbnROYW1lIiwiX3RhcmdldEluZGV4IiwibmV3VGFyZ2V0TGlzdCIsInNsaWNlIiwic3BsaWNlIiwibmV3VGFyZ2V0IiwiSnNvbkZvcm0iLCJnYWlhIiwiUlVOX0RFVl9TRVJWRVJfQ0xJQ0siLCJSVU5fV0FUQ0hfU0VSVkVSX0NMSUNLIiwiREVMRVRFX0NMSUNLIiwiU0VUVElOR1NfQ0hBTkdFIiwiRVhURVJOQUxTX0NIQU5HRSIsInNlcnZlckJ1dHRvbnMiLCJydW5EZXZTZXJ2ZXIiLCJydW5XYXRjaFNlcnZlciIsImV4dGVybmFscyIsInNldHRpbmdzIiwiY2hhbmdlRXZlbnROYW1lIiwiZm9ybURlZmluaXRpb24iLCJrZXkiLCJ0eXBlIiwiQ09OVFJPTF9UWVBFUyIsIlRFWFRCT1giLCJURVhUQVJSQVkiLCJDSEVDS0JPWCIsIlRZUEUiLCJMSU5LIiwiZGVsZXRlIiwiRXh0ZXJuYWxzIiwiZXh0ZXJuYWxzQ2hhbmdlRXZlbnROYW1lIiwiY2xhc3MiLCJUYWJsZSIsInRhYmxlIiwiTkVXX0VYVEVSTkFMX0NIQU5HRSIsIk5FV19FWFRFUk5BTF9DTElDSyIsInJlbW92ZVZhcmlhYmxlIiwidmFyaWFibGVOYW1lIiwibmV3RXh0ZXJuYWxGb3JtIiwibmV3RXh0ZXJuYWxCdXR0b24iLCJjb2x1bW5zIiwiY29udGVudCIsIl92YXJOYW1lIiwibmV3RXh0ZXJuYWwiLCJzZXRTdGF0ZSIsIl9zdGF0ZSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsTztBQ1ZBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFD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Q0FBWjtBQUFBLFNBSEo7O0FBWUEsYUFBSzVCLEVBQUwsQ0FDSTJFLG1CQURKLEVBRUksVUFBQzFFLE1BQUQsRUFBU21GLFdBQVQ7QUFBQSxtQkFBeUIsT0FBS0MsUUFBTCxDQUFjRCxXQUFkLENBQXpCO0FBQUEsU0FGSjs7QUFLQSxhQUFLekQscUJBQUwsQ0FDSWlELGtCQURKLEVBRUksMEJBRkosRUFHSSxVQUFDM0UsTUFBRDtBQUFBLG1CQUFZLENBQ1IsTUFEUSxFQUVSekMsT0FBT0MsTUFBUCxDQUNJLEVBREosRUFFSSxPQUFLbUUsT0FBTCxDQUFhLFdBQWIsQ0FGSixzQkFHTyxPQUFLMEQsTUFBTCxDQUFZUixZQUhuQixFQUdrQyxPQUFLUSxNQUFMLENBQVlDLEtBSDlDLEVBRlEsQ0FBWjtBQUFBLFNBSEo7QUFZSCxLOzt3QkFFRHBGLEksaUJBQUtDLEUsRUFBSU0sSyxFQUFPb0IsUSxFQUFVQyxTLEVBQVc7QUFDakMsZUFBTyxDQUNIM0IsR0FBRyxJQUFILEVBQVMsRUFBVCxFQUFhLFdBQWIsQ0FERyxFQUVIMkIsVUFBVWdELGVBQVYsQ0FBMEIvQyxNQUExQixFQUZHLEVBR0hELFVBQVVpRCxpQkFBVixDQUE0QmhELE1BQTVCLEVBSEcsRUFJSEQsVUFBVTJDLEtBQVYsQ0FBZ0IxQyxNQUFoQixFQUpHLENBQVA7QUFNSCxLOzs7RUE5R2tDMUIsd0Q7O0FBQWxCZ0Usa0UiLCJmaWxlIjoiZGlzdC91aS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcIk1QYWdlRnVzaW9uXCIpLCByZXF1aXJlKFwiR2FpYVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJNUGFnZUZ1c2lvblwiLCBcIkdhaWFcIl0sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiZ2FpYS1wbHVnaW4td2VicGFja1wiXSA9IGZhY3RvcnkocmVxdWlyZShcIk1QYWdlRnVzaW9uXCIpLCByZXF1aXJlKFwiR2FpYVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiZ2FpYS1wbHVnaW4td2VicGFja1wiXSA9IGZhY3Rvcnkocm9vdFtcIk1QYWdlRnVzaW9uXCJdLCByb290W1wiR2FpYVwiXSk7XG59KSh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdGhpcywgZnVuY3Rpb24oX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMV9fKSB7XG5yZXR1cm4gXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGU4MjAyODQ3ZWMyNTIzMTQ5M2QzIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzBfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIk1QYWdlRnVzaW9uXCJcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyBleHRlcm5hbCBcIkdhaWFcIlxuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCBXZWJwYWNrVUkgZnJvbSBcIi4vV2VicGFja1VJXCI7XHJcbmltcG9ydCB7IHJ1bkNvbW1hbmQsIG9wZW5XZWJzb2NrZXQgfSBmcm9tIFwiR2FpYVwiO1xyXG5cclxuY29uc3Qgd3JpdGVDb25maWcgPSAoY29udHJvbCwgY29uZmlnKSA9PiB7XHJcbiAgICBpZiAoY29udHJvbC5fY29uZmlnVGltZW91dCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChjb250cm9sLl9jb25maWdUaW1lb3V0KTtcclxuICAgIH1cclxuICAgIGNvbnRyb2wuX2NvbmZpZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KFxyXG4gICAgICAgICgpID0+IHJ1bkNvbW1hbmQoXHJcbiAgICAgICAgICAgIFwid2VicGFja1wiLFxyXG4gICAgICAgICAgICBcIndyaXRlRnVsbENvbmZpZ1wiLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25maWc6IGNvbmZpZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgICwgNTAwKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZVRhcmdldE5hbWUgPSAodGFyZ2V0KSA9PiB7XHJcbiAgICBjb25zdCBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIHRhcmdldCk7XHJcbiAgICBkZWxldGUgY2xvbmUubmFtZTtcclxuICAgIHJldHVybiBjbG9uZTtcclxufTtcclxuXHJcbmNvbnN0IHJlYWRUYXJnZXRzQXJyYXkgPSAodGFyZ2V0cykgPT5cclxuICAgIHRhcmdldHMucmVkdWNlKFxyXG4gICAgICAgIChyZXN1bHQsIHRhcmdldCkgPT5cclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcclxuICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0LFxyXG4gICAgICAgICAgICAgICAgeyBbdGFyZ2V0Lm5hbWVdIDogcmVtb3ZlVGFyZ2V0TmFtZSh0YXJnZXQpIH1cclxuICAgICAgICAgICAgKSxcclxuICAgICAgICB7fVxyXG4gICAgKTtcclxuXHJcbmNvbnN0IG1ha2VUYXJnZXRzQXJyYXkgPSAodGFyZ2V0cykgPT5cclxuICAgIE9iamVjdC5rZXlzKHRhcmdldHMpLm1hcChcclxuICAgICAgICAodGFyZ2V0TmFtZSkgPT5cclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihcclxuICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0c1t0YXJnZXROYW1lXSxcclxuICAgICAgICAgICAgICAgIHsgbmFtZTogdGFyZ2V0TmFtZX1cclxuICAgICAgICAgICAgKVxyXG4gICAgKTtcclxuXHJcbmNvbnN0IFRBUkdFVFNfQ0hBTkdFID0gXCJJbnRlcm5hbDo6V2VicGFja0luZGV4OjpUYXJnZXRzQ2hhbmdlXCI7XHJcbmNvbnN0IFJVTl9ERVZfU0VSVkVSID0gXCJJbnRlcm5hbDo6V2VicGFja0luZGV4OjpSdW5EZXZTZXJ2ZXJcIjtcclxuY29uc3QgUlVOX1dBVENIX1NFUlZFUiA9IFwiSW50ZXJuYWw6OldlYnBhY2tJbmRleDo6UnVuV2F0Y2hlclNlcnZlclwiO1xyXG5jb25zdCBTVE9QX0RFVl9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrSW5kZXg6OlN0b3BEZXZTZXJ2ZXJcIjtcclxuY29uc3QgU1RPUF9XQVRDSF9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrSW5kZXg6OlN0b3BXYXRjaFNlcnZlclwiO1xyXG5cclxuXHJcbmNsYXNzIFdlYnBhY2tJbmRleCBleHRlbmRzIEZ1c2lvbi5VSUNvbXBvbmVudCB7XHJcblxyXG4gICAgY3JlYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdWk6IG5ldyBXZWJwYWNrVUkoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNDaGFuZ2VFdmVudE5hbWU6IFRBUkdFVFNfQ0hBTkdFLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogUlVOX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IFJVTl9XQVRDSF9TRVJWRVIsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcERldlNlcnZlckV2ZW50TmFtZTogU1RPUF9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BXYXRjaFNlcnZlckV2ZW50TmFtZTogU1RPUF9XQVRDSF9TRVJWRVJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHJ1bkNvbW1hbmQoXCJ3ZWJwYWNrXCIsIFwicmVhZEZ1bGxDb25maWdcIiwge30pXHJcbiAgICAgICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgICAgICAgKGZ1bGxDb25maWcpID0+XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgICAgIC5nZXRDaGlsZChcInVpXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldFByb3AoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsQ29uZmlnLnRhcmdldHMgPyBtYWtlVGFyZ2V0c0FycmF5KGZ1bGxDb25maWcudGFyZ2V0cykgOiB7fVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAudXBkYXRlKClcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgb3BlbldlYnNvY2tldChcIndlYnBhY2tcIiwgXCJkZXZTZXJ2ZXJTdGF0dXNcIilcclxuICAgICAgICAgICAgLnRoZW4oKHdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3cy5vbm1lc3NhZ2UgPSAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UobXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJ1aVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UHJvcChcImlzRGV2U2VydmVyUnVubmluZ1wiLCBtZXNzYWdlLmlzUnVubmluZylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG9wZW5XZWJzb2NrZXQoXCJ3ZWJwYWNrXCIsIFwid2F0Y2hlclN0YXR1c1wiKVxyXG4gICAgICAgICAgICAudGhlbigod3MpID0+IHtcclxuICAgICAgICAgICAgICAgIHdzLm9ubWVzc2FnZSA9IChtc2cpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTi5wYXJzZShtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInVpXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZXRQcm9wKFwiaXNXYXRjaFNlcnZlclJ1bm5pbmdcIiwgbWVzc2FnZS5pc1J1bm5pbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9uKFxyXG4gICAgICAgICAgICBUQVJHRVRTX0NIQU5HRSxcclxuICAgICAgICAgICAgKHNvdXJjZSwgbmV3VGFyZ2V0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVDb25maWcodGhpcywgeyB0YXJnZXRzOiByZWFkVGFyZ2V0c0FycmF5KG5ld1RhcmdldHMpIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInVpXCIpLnNldFByb3AoXCJ0YXJnZXRzXCIsIG5ld1RhcmdldHMpLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbihcclxuICAgICAgICAgICAgUlVOX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcnVuQ29tbWFuZChcIndlYnBhY2tcIiwgXCJzdGFydERldlNlcnZlclwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQubmFtZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLm9uKFxyXG4gICAgICAgICAgICBTVE9QX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IHJ1bkNvbW1hbmQoXCJ3ZWJwYWNrXCIsIFwic3RvcERldlNlcnZlclwiKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub24oXHJcbiAgICAgICAgICAgIFJVTl9XQVRDSF9TRVJWRVIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcnVuQ29tbWFuZChcIndlYnBhY2tcIiwgXCJzdGFydFdhdGNoZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0Lm5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbihcclxuICAgICAgICAgICAgU1RPUF9XQVRDSF9TRVJWRVIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IHJ1bkNvbW1hbmQoXCJ3ZWJwYWNrXCIsIFwic3RvcFdhdGNoZXJcIilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXcoZWwpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgbGFiZWw6IFwiV2VicGFja1wiLFxyXG4gICAgY29udHJvbDogV2VicGFja0luZGV4LFxyXG4gICAgc2hvd0hlbHA6IHRydWVcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svaW5kZXguanMiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCBUYXJnZXRMaXN0IGZyb20gXCIuL1RhcmdldExpc3RcIjtcclxuXHJcbmNvbnN0IGZvcndhcmRQcm9wID0gRnVzaW9uLmhlbHBlcnMucHJvcHMuZm9yd2FyZFByb3A7XHJcbmNvbnN0IEJ1dHRvbiA9IEZ1c2lvbi5hdG9taWMuYnV0dG9uLkJ1dHRvbjtcclxuXHJcbmNvbnN0IFRBUkdFVFNfQ0hBTkdFID0gXCJJbnRlcm5hbDo6V2VicGFja1VJOjpUYXJnZXRzQ2hhbmdlXCI7XHJcbmNvbnN0IEFERF9UQVJHRVQgPSBcIkludGVybmFsOjpXZWJwYWNrVUk6OkFkZFRhcmdldFwiO1xyXG5jb25zdCBSVU5fREVWX1NFUlZFUiA9IFwiSW50ZXJuYWw6OldlYnBhY2tVSTo6UnVuRGV2U2VydmVyXCI7XHJcbmNvbnN0IFJVTl9XQVRDSF9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrVUk6OlJ1bldhdGNoU2VydmVyXCI7XHJcbmNvbnN0IFNUT1BfREVWX1NFUlZFUiA9IFwiSW50ZXJuYWw6OldlYnBhY2tVSTo6U3RvcERldlNlcnZlclwiO1xyXG5jb25zdCBTVE9QX1dBVENIX1NFUlZFUiA9IFwiSW50ZXJuYWw6OldlYnBhY2tVSTo6U3RvcFdhdGNoU2VydmVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWJwYWNrVUkgZXh0ZW5kcyBGdXNpb24uVUlDb21wb25lbnQge1xyXG5cclxuICAgIGluaXRpYWxQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBbXSxcclxuICAgICAgICAgICAgdGFyZ2V0c0NoYW5nZUV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuRGV2U2VydmVyRXZlbnROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICBydW5XYXRjaFNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgc3RvcERldlNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgc3RvcFdhdGNoU2VydmVyRXZlbnROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICBpc0RldlNlcnZlclJ1bm5pbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc1dhdGNoU2VydmVyUnVubmluZzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BDaGFuZ2VIYW5kbGVycygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YXJnZXRzOiBmb3J3YXJkUHJvcCh0aGlzLCBcInRhcmdldHNcIiwgXCJ0YXJnZXRMaXN0XCIpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBkZXBlbmRlbnRQcm9wQ2hhbmdlSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgWyBcImlzRGV2U2VydmVyUnVubmluZ1wiLCBcImlzV2F0Y2hTZXJ2ZXJSdW5uaW5nXCIsXHJcbiAgICAgICAgICAgICAgKGlzRGV2U2VydmVyUnVubmluZywgaXNXYXRjaFNlcnZlclJ1bm5pbmcpID0+XHJcblxyXG4gICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAuZ2V0Q2hpbGQoXCJ0YXJnZXRMaXN0XCIpXHJcbiAgICAgICAgICAgICAgLnNldFByb3AoXCJzaG93U2VydmVyQnV0dG9uc1wiLCAhaXNEZXZTZXJ2ZXJSdW5uaW5nICYmICFpc1dhdGNoU2VydmVyUnVubmluZylcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlQ2hpbGRyZW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0TGlzdDogbmV3IFRhcmdldExpc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldHNDaGFuZ2VFdmVudE5hbWU6IFRBUkdFVFNfQ0hBTkdFLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogUlVOX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IFJVTl9XQVRDSF9TRVJWRVJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFkZFRhcmdldDogbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJBZGQgdGFyZ2V0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IEFERF9UQVJHRVRcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0b3BEZXZTZXJ2ZXI6IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXM6IFwibXBhZ2V1aS11LW1hcmdpbi1hYnNvbHV0ZS1sb29zZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiU3RvcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRXZlbnROYW1lOiBTVE9QX0RFVl9TRVJWRVJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0b3BXYXRjaFNlcnZlcjogbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lczogXCJtcGFnZXVpLXUtbWFyZ2luLWFic29sdXRlLWxvb3NlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJTdG9wXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IFNUT1BfV0FUQ0hfU0VSVkVSXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG5cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBUQVJHRVRTX0NIQU5HRSxcclxuICAgICAgICAgICAgXCJ0YXJnZXRzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldHMpID0+IFsgdGhpcywgdGFyZ2V0cyBdXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIEFERF9UQVJHRVQsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0c0NoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRQcm9wKFwidGFyZ2V0c1wiKS5jb25jYXQoeyBuYW1lOiBcIk5ldyB0YXJnZXRcIn0pXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgUlVOX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgIFwicnVuRGV2U2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4gWyB0aGlzLCB0YXJnZXQgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBSVU5fV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICBcInJ1bldhdGNoU2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4gWyB0aGlzLCB0YXJnZXQgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBTVE9QX1dBVENIX1NFUlZFUixcclxuICAgICAgICAgICAgXCJzdG9wV2F0Y2hTZXJ2ZXJFdmVudE5hbWVcIixcclxuICAgICAgICAgICAgKHNvdXJjZSkgPT4gWyB0aGlzIF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgU1RPUF9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICBcInN0b3BEZXZTZXJ2ZXJFdmVudE5hbWVcIixcclxuICAgICAgICAgICAgKHNvdXJjZSkgPT4gWyB0aGlzIF1cclxuICAgICAgICApO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICB2aWV3KGVsLCBwcm9wcywgY2hpbGRyZW4sIG1DaGlsZHJlbikge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgIHByb3BzLmlzRGV2U2VydmVyUnVubmluZyA/XHJcbiAgICAgICAgICAgICAgICAgICAgZWwoXCJkaXZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRGV2IHNlcnZlciBydW5uaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1DaGlsZHJlbi5zdG9wRGV2U2VydmVyLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgOiBbXSxcclxuICAgICAgICAgICAgICAgIHByb3BzLmlzV2F0Y2hTZXJ2ZXJSdW5uaW5nID9cclxuICAgICAgICAgICAgICAgICAgICBlbChcImRpdlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJXYXRjaCBzZXJ2ZXIgcnVubmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtQ2hpbGRyZW4uc3RvcFdhdGNoU2VydmVyLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgOiBbXVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgICAuY29uY2F0KFtcclxuICAgICAgICAgICAgICAgIG1DaGlsZHJlbi50YXJnZXRMaXN0LnJlbmRlcigpLFxyXG4gICAgICAgICAgICAgICAgbUNoaWxkcmVuLmFkZFRhcmdldC5yZW5kZXIoKVxyXG4gICAgICAgICAgICBdKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9XZWJwYWNrVUkuanMiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCBUYXJnZXQgZnJvbSBcIi4vVGFyZ2V0XCI7XHJcblxyXG5jb25zdCBUQVJHRVRfQ0hBTkdFID0gXCJJbnRlcm5hbDo6VGFyZ2V0TGlzdDo6VGFyZ2V0Q2hhbmdlXCI7XHJcbmNvbnN0IFRBUkdFVF9ERUxFVEVEID0gXCJJbnRlcm5hbDo6VGFyZ2V0TGlzdDo6VGFyZ2V0RGVsZXRlXCI7XHJcbmNvbnN0IFJVTl9XQVRDSF9TRVJWRVIgPSBcIkludGVybmFsOjpUYXJnZXRMaXN0OjpSdW5XYXRjaFNlcnZlclwiO1xyXG5jb25zdCBSVU5fREVWX1NFUlZFUiA9IFwiSW50ZXJuYWw6OlRhcmdldExpc3Q6OlJ1bkRldlNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFyZ2V0TGlzdCBleHRlbmRzIEZ1c2lvbi5VSUNvbXBvbmVudCB7XHJcblxyXG4gICAgaW5pdGlhbFByb3BzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRhcmdldHM6IHt9LFxyXG4gICAgICAgICAgICB0YXJnZXRzQ2hhbmdlRXZlbnROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICBydW5XYXRjaFNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuRGV2U2VydmVyRXZlbnROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICBzaG93U2VydmVyQnV0dG9uczogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVwZW5kZW50UHJvcENoYW5nZUhhbmRsZXJzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIFsgXCJ0YXJnZXRzXCIsIFwic2hvd1NlcnZlckJ1dHRvbnNcIixcclxuICAgICAgICAgICAgICAodGFyZ2V0cywgc2hvd1NlcnZlckJ1dHRvbnMpID0+XHJcbiAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlQWxsQ2hpbGRyZW4oXHJcbiAgICAgICAgICAgICAgICAgIHRhcmdldHMubWFwKFxyXG4gICAgICAgICAgICAgICAgICAgICAgKHRhcmdldCwgaSkgPT4gbmV3IFRhcmdldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Q2hhbmdlRXZlbnROYW1lOiBUQVJHRVRfQ0hBTkdFLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFNldHRpbmdzOiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRXZlbnROYW1lOiBUQVJHRVRfREVMRVRFRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBydW5EZXZTZXJ2ZXJFdmVudE5hbWU6IFJVTl9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bldhdGNoU2VydmVyRXZlbnROYW1lOiBSVU5fV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90YXJnZXRJbmRleDogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VydmVyQnV0dG9uczogc2hvd1NlcnZlckJ1dHRvbnNcclxuICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBUQVJHRVRfREVMRVRFRCxcclxuICAgICAgICAgICAgXCJ0YXJnZXRzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RhcmdldExpc3QgPSB0aGlzLmdldFByb3AoXCJ0YXJnZXRzXCIpLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0TGlzdC5zcGxpY2Uoc291cmNlLmdldFByb3AoXCJfdGFyZ2V0SW5kZXhcIiksIDEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgdGhpcywgbmV3VGFyZ2V0TGlzdCBdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIFRBUkdFVF9DSEFOR0UsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0c0NoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCBuZXdUYXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1RhcmdldExpc3QgPSB0aGlzLmdldFByb3AoXCJ0YXJnZXRzXCIpLnNsaWNlKDApO1xyXG4gICAgICAgICAgICAgICAgbmV3VGFyZ2V0TGlzdFtzb3VyY2UuZ2V0UHJvcChcIl90YXJnZXRJbmRleFwiKV0gPSBuZXdUYXJnZXQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3VGFyZ2V0TGlzdFxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBSVU5fV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICBcInJ1bldhdGNoU2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4gWyB0aGlzLCB0YXJnZXQgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBSVU5fREVWX1NFUlZFUixcclxuICAgICAgICAgICAgXCJydW5EZXZTZXJ2ZXJFdmVudE5hbWVcIixcclxuICAgICAgICAgICAgKHNvdXJjZSwgdGFyZ2V0KSA9PiBbIHRoaXMsIHRhcmdldCBdXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB2aWV3KGVsLCBwcm9wcywgY2hpbGRyZW4pIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJDaGlsZHJlbigpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91aS9nYWlhLXBsdWdpbi13ZWJwYWNrL1RhcmdldExpc3QuanMiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCAqIGFzIGdhaWEgZnJvbSBcIkdhaWFcIjtcclxuaW1wb3J0IEV4dGVybmFscyBmcm9tIFwiLi9FeHRlcm5hbHNcIjtcclxuXHJcbmNvbnN0IEJ1dHRvbiA9IEZ1c2lvbi5hdG9taWMuYnV0dG9uLkJ1dHRvbjtcclxuY29uc3QgSnNvbkZvcm0gPSBnYWlhLmNvbnRyb2xzLkpzb25Gb3JtO1xyXG5cclxuY29uc3QgUlVOX0RFVl9TRVJWRVJfQ0xJQ0sgPSBcIlRhcmdldDo6UnVuRGV2U2VydmVyQ2xpY2tcIjtcclxuY29uc3QgUlVOX1dBVENIX1NFUlZFUl9DTElDSyA9IFwiVGFyZ2V0OjpSdW5XYXRjaFNlcnZlckNsaWNrXCI7XHJcbmNvbnN0IERFTEVURV9DTElDSyA9IFwiVGFyZ2V0OjpEZWxldGVDbGlja1wiO1xyXG5jb25zdCBTRVRUSU5HU19DSEFOR0UgPSBcIlRhcmdldDo6U2V0dGluZ3NDaGFuZ2VcIjtcclxuY29uc3QgRVhURVJOQUxTX0NIQU5HRSA9IFwiVGFyZ2V0OjpFeHRlcm5hbHNDaGFuZ2VcIjtcclxuXHJcbmNvbnN0IHNlcnZlckJ1dHRvbnMgPSAocHJvcHMsIG1DaGlsZHJlbikgPT5cclxuICAgIHByb3BzLnNob3dTZXJ2ZXJCdXR0b25zXHJcbiAgICAgID8gW1xyXG4gICAgICAgICAgbUNoaWxkcmVuLnJ1bkRldlNlcnZlci5yZW5kZXIoKSxcclxuICAgICAgICAgIG1DaGlsZHJlbi5ydW5XYXRjaFNlcnZlci5yZW5kZXIoKVxyXG4gICAgICBdIDogW107XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFyZ2V0IGV4dGVuZHMgRnVzaW9uLlVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBpbml0aWFsUHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGFyZ2V0U2V0dGluZ3M6IHt9LFxyXG4gICAgICAgICAgICB0YXJnZXRDaGFuZ2VFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIGRlbGV0ZUV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgc2hvd1NlcnZlckJ1dHRvbnM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BDaGFuZ2VIYW5kbGVycygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YXJnZXRTZXR0aW5ncyA6ICh0YXJnZXRTZXR0aW5ncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInNldHRpbmdzXCIpLnNldFByb3AoXCJqc29uT2JqZWN0XCIsIHRhcmdldFNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJleHRlcm5hbHNcIikuc2V0UHJvcChcImV4dGVybmFsc1wiLCB0YXJnZXRTZXR0aW5ncy5leHRlcm5hbHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDaGlsZHJlbigpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogbmV3IEpzb25Gb3JtKHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudE5hbWU6IFNFVFRJTkdTX0NIQU5HRSxcclxuICAgICAgICAgICAgICAgICAgICBmb3JtRGVmaW5pdGlvbjogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwibmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVGFyZ2V0IG5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZGV2dG9vbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRGV2IHRvb2xcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZmlsZU5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIk91dHB1dCBmaWxlIG5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiY3NzRmlsZU5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNTUyBPdXRwdXQgZmlsZSBuYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLlRFWFRCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIm91dHB1dEZvbGRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiT3V0cHV0IGZvbGRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJsaWJyYXJ5TmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiTGlicmFyeSBuYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLlRFWFRCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImVudHJ5UG9pbnRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFbnRyeSBwb2ludHMgKGNvbW1hIHNlcGFyYXRlZClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEFSUkFZXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJzb3VyY2VGb2xkZXJzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJTb3VyY2UgRm9sZGVycyAoY29tbWEgc2VwYXJhdGVkKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQVJSQVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImNvbnRlbnRCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDb250ZW50IEJhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwicHVibGljUGF0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUHVibGljIFBhdGhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwicG9ydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiUG9ydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJhdXRvUmVmcmVzaFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQXV0byBSZWZyZXNoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLkNIRUNLQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJpbmNsdWRlQ1NTXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJJbmNsdWRlIENTUyBpbiBidW5kbGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuQ0hFQ0tCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImVudmlmeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRW52aWZ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLkNIRUNLQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJtaW5pZnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1pbmlmeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5DSEVDS0JPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiaW5jbHVkZVBvbHlmaWxsc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiSW5jbHVkZSBQb2x5ZmlsbHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuQ0hFQ0tCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJ1bkRldlNlcnZlcjogbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IFJVTl9ERVZfU0VSVkVSX0NMSUNLLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJ1dHRvbi5UWVBFLkxJTkssXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJSdW4gZGV2IHNlcnZlclwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBydW5XYXRjaFNlcnZlcjogbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IFJVTl9XQVRDSF9TRVJWRVJfQ0xJQ0ssXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQnV0dG9uLlRZUEUuTElOSyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIlJ1biB3YXRjaCBzZXJ2ZXJcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiBuZXcgQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0V2ZW50TmFtZTogREVMRVRFX0NMSUNLLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJ1dHRvbi5UWVBFLkxJTkssXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJEZWxldGVcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxzOiBuZXcgRXh0ZXJuYWxzKHtcclxuICAgICAgICAgICAgICAgICAgICBleHRlcm5hbHNDaGFuZ2VFdmVudE5hbWU6IEVYVEVSTkFMU19DSEFOR0VcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBTRVRUSU5HU19DSEFOR0UsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0Q2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIG5ld1RhcmdldCkgPT4gWyB0aGlzLCBuZXdUYXJnZXQgXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIEVYVEVSTkFMU19DSEFOR0UsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0Q2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIGV4dGVybmFscykgPT4gW1xyXG4gICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0UHJvcChcInRhcmdldFNldHRpbmdzXCIpLCB7IGV4dGVybmFscyB9KVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgREVMRVRFX0NMSUNLLFxyXG4gICAgICAgICAgICBcImRlbGV0ZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBbIHRoaXMgXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIFJVTl9ERVZfU0VSVkVSX0NMSUNLLFxyXG4gICAgICAgICAgICBcInJ1bkRldlNlcnZlckV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBbIHRoaXMsIHRoaXMuZ2V0UHJvcChcInRhcmdldFNldHRpbmdzXCIpIF1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBSVU5fV0FUQ0hfU0VSVkVSX0NMSUNLLFxyXG4gICAgICAgICAgICBcInJ1bldhdGNoU2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFsgdGhpcywgdGhpcy5nZXRQcm9wKFwidGFyZ2V0U2V0dGluZ3NcIikgXVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlldyhlbCwgcHJvcHMsIGNoaWxkcmVuLCBtQ2hpbGRyZW4pIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBlbChcImgyXCIsIHt9LCBwcm9wcy50YXJnZXRTZXR0aW5ncy5uYW1lKSxcclxuICAgICAgICAgICAgZWwoXHJcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImdhaWEtd2VicGFjay10YXJnZXRBY3Rpb25zXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJCdXR0b25zKHByb3BzLCBtQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChbIG1DaGlsZHJlbi5kZWxldGUucmVuZGVyKCkgXSlcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgZWwoXHJcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImdhaWEtc2VjdGlvblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIG1DaGlsZHJlbi5zZXR0aW5ncy5yZW5kZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBtQ2hpbGRyZW4uZXh0ZXJuYWxzLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9UYXJnZXQuanMiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCAqIGFzIGdhaWEgZnJvbSBcIkdhaWFcIjtcclxuXHJcbmNvbnN0IFRhYmxlID0gRnVzaW9uLmF0b21pYy50YWJsZS5UYWJsZTtcclxuY29uc3QgSnNvbkZvcm0gPSBnYWlhLmNvbnRyb2xzLkpzb25Gb3JtO1xyXG5jb25zdCBCdXR0b24gPSBGdXNpb24uYXRvbWljLmJ1dHRvbi5CdXR0b247XHJcblxyXG5jb25zdCBERUxFVEVfQ0xJQ0sgPSBcIkV4dGVybmFsczo6RGVsZXRlQ2xpY2tcIjtcclxuY29uc3QgTkVXX0VYVEVSTkFMX0NIQU5HRSA9IFwiRXh0ZXJuYWxzOjpOZXdFeHRlcm5hbENoYW5nZVwiO1xyXG5jb25zdCBORVdfRVhURVJOQUxfQ0xJQ0sgPSBcIkV4dGVybmFsczo6TmV3RXh0ZXJuYWxDbGlja1wiO1xyXG5cclxuY29uc3QgcmVtb3ZlVmFyaWFibGUgPSAodmFyaWFibGVOYW1lLCBleHRlcm5hbHMpID0+IHtcclxuICAgIGRlbGV0ZSBleHRlcm5hbHNbdmFyaWFibGVOYW1lXTtcclxuICAgIHJldHVybiBleHRlcm5hbHM7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHRlcm5hbHMgZXh0ZW5kcyBGdXNpb24uVUlDb21wb25lbnQge1xyXG5cclxuICAgIGluaXRpYWxQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBleHRlcm5hbHM6IHt9LFxyXG4gICAgICAgICAgICBleHRlcm5hbHNDaGFuZ2VFdmVudE5hbWU6IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5ld0V4dGVybmFsRm9ybTogbmV3IEpzb25Gb3JtKHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudE5hbWU6IE5FV19FWFRFUk5BTF9DSEFOR0UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURlZmluaXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInZhcmlhYmxlTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmFyaWFibGUgbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmFsdWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmV3RXh0ZXJuYWxCdXR0b246IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiQWRkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IE5FV19FWFRFUk5BTF9DTElDS1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFibGU6IG5ldyBUYWJsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IFwiVmFyaWFibGUgbmFtZVwiLCBrZXk6IFwidmFyaWFibGVcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IFwiVmFsdWVcIiwga2V5OiBcInZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBkaXNwbGF5OiBcIlwiLCBrZXk6IFwiYWN0aW9uc1wiIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wQ2hhbmdlSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZXh0ZXJuYWxzOiAoZXh0ZXJuYWxzKSA9PlxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInRhYmxlXCIpLnNldFByb3AoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyb3dzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZXJuYWxzIHx8IHt9KS5tYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YXJpYWJsZU5hbWUsIGkpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHZhcmlhYmxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IHZhcmlhYmxlTmFtZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGlzcGxheTogZXh0ZXJuYWxzW3ZhcmlhYmxlTmFtZV0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRlbnQ6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IERFTEVURV9DTElDSyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YXJOYW1lOiB2YXJpYWJsZU5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBERUxFVEVfQ0xJQ0ssXHJcbiAgICAgICAgICAgIFwiZXh0ZXJuYWxzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFtcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICByZW1vdmVWYXJpYWJsZShcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0UHJvcChcIl92YXJOYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0UHJvcChcImV4dGVybmFsc1wiKSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub24oXHJcbiAgICAgICAgICAgIE5FV19FWFRFUk5BTF9DSEFOR0UsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIG5ld0V4dGVybmFsKSA9PiB0aGlzLnNldFN0YXRlKG5ld0V4dGVybmFsKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBORVdfRVhURVJOQUxfQ0xJQ0ssXHJcbiAgICAgICAgICAgIFwiZXh0ZXJuYWxzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFtcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UHJvcChcImV4dGVybmFsc1wiKSxcclxuICAgICAgICAgICAgICAgICAgICB7IFt0aGlzLl9zdGF0ZS52YXJpYWJsZU5hbWVdOiB0aGlzLl9zdGF0ZS52YWx1ZSB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXcoZWwsIHByb3BzLCBjaGlsZHJlbiwgbUNoaWxkcmVuKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgZWwoXCJoM1wiLCB7fSwgXCJFeHRlcm5hbHNcIiksXHJcbiAgICAgICAgICAgIG1DaGlsZHJlbi5uZXdFeHRlcm5hbEZvcm0ucmVuZGVyKCksXHJcbiAgICAgICAgICAgIG1DaGlsZHJlbi5uZXdFeHRlcm5hbEJ1dHRvbi5yZW5kZXIoKSxcclxuICAgICAgICAgICAgbUNoaWxkcmVuLnRhYmxlLnJlbmRlcigpXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9FeHRlcm5hbHMuanMiXSwic291cmNlUm9vdCI6IiJ9