# Gaia Webpack Plugin

Webpack is an open-source library that bundles JavaScript and CSS source
codes. When Webpack processes your application, it recursively builds a
dependency graph that includes every module your application needs, and
then packages those modules into one or more bundles.

The Gaia Webpack plugin includes an easy-to-use interface that uses
Webpack to create JavaScript bundles. The plugin provides a development
server and a watch server that run in the background and automatically
rebuild the bundles if any file changes. These servers differ only on
what kind of bundle they create.

### Development Server

The development server automatically creates the following URLs that
serve the bundle:

- `http://localhost:7070/[bundlefilename]`

- `http://localhost:7070/webpack-dev-server.js`

If the second URL is also included in the page, the browser
automatically refreshes every time the bundle is recompiled.

Click `Run Dev Server` in the New Target section of the Webpack plugin
to manually run the development server.

### Watch Server

The watch server automatically creates the bundle files specified in the
Output File Name and CSS Output File Name settings every time a source
file is changed.

Click `Run Watch Server` in the New Target section of the Webpack
plugin to manually run the watch server.

## Configure Targets

A target is a set of Webpack configurations. Targets are used to build
the same project with different configurations, such as development
configurations and production configurations. Each target generates one
Webpack bundle. When running a development or watch server, only one
target can be run at a time.

The following properties are available when configuring a target:

- **Target Name:** This is the name of the target. You can execute the
  target by name on the command line. For example, enter `gaia webpack target="[Target Name]"` on the command line to execute the
  target.

- **Dev Tool:** This property allows you to specify a style of source
  mapping to enhance the debugging process. These values can affect
  build and rebuild speed dramatically. The following common values
  are available:

  | Dev Tool          | Description                                                       |
  | ----------------- | ----------------------------------------------------------------- |
  | (none)            | Unaltered code                                                    |
  | inline-source-map | Generates a source map and includes it in the bundle              |
  | eval-source-map   | Executes modules in an eval() with the source map inside the eval |
  | source-map        | Creates a separate source map file outside of the bundle          |

  See [https://webpack.js.org/configuration/devtool/](https://webpack.js.org/configuration/devtool/) for more information.

- **Output File Name:** This is the name of the JavaScript file to be
  generated.

- **CSS Output File Name:** This is the name of the CSS file to be
  generated. Webpack supports the generation of both .LESS and .CSS
  files. To trigger the generation, include either a. CSS or .LESS
  file in an import statement in a JavaScript file. The JavaScript
  file must be included in the bundle as an entry point or imported
  into the bundle down the chain.

- **Output Folder:** This is the location where the .JS and .CSS or
  .LESS files will be output on generation.

- **Library Name:** This is the name of the JavaScript object that
  contains this library. The object will be available at the window.
  For example, if the library name is **LibraryA**, then it will be
  accessible on **window.LibraryA**.

- **Entry Points:** This is the entry point path for the exported
  JavaScript file. The JavaScript file is exported as the library
  specified in the Library Name box. The object exported from the
  JavaScript file becomes the object specified in the Library Name. If
  multiple files are specified, the first files are executed but only
  the last file is exported.

  Enter the path relative to the Gaia directory. For example, if the
  `index.js` file is located in the `src` folder, enter the
  following path: `./src/index.js`

  See <https://webpack.js.org/concepts/entry-points/> for more
  information.

- **Source Folders:** This is the folder location for the JavaScript
  and .CSS files that the Webpack uses while transpiling the code.

- **Content Base:** See
  <https://webpack.js.org/configuration/dev-server/#devserver-contentbase>
  for information about the Content Base.

- **Public Path:** See
  <https://webpack.js.org/configuration/output/#output-publicpath> for
  information about the Public Path.

- **Port**: This is the port used when running the standalone
  development harness.

- **Harness:** This is used to create a development harness or demo
  page for standalone artifacts, such as Fusion concept controls. Set
  this to `{}` to create a harness.

- **Auto-Refresh:** This option determines whether the development
  harness is automatically reloaded after a file change.

- **Include CSS in Bundle:** This option determines whether the CSS is
  injected into the page as a \<style\> tag in the generated bundle.
  Deselect this option for production build configurations.

- **Envify:** This option determines whether the constants in the
  JavaScript file are replaced by their values in the generated
  bundle. Select this option for production build configurations.
  See <https://github.com/hughsk/envify> for more information.

- **Minify:** This option determines whether to reduce the generated
  bundle size by shortening variable names and performing other
  optimizations. When this option is selected, the generated code may
  become hard to read. Select this option for production build
  configurations. See <https://www.minifier.org/> for more
  information.

- **Include Polyfills:** This option determines whether to include the
  babel-polyfill library in the generated bundle. Deselect this option
  if you are unsure if this functionality is needed.
  See <https://babeljs.io/docs/usage/polyfill/> for more information.

## Configure External Modules

Externals are modules not available in the Webpack bundle but that are
used by the bundle. These external modules are expected to be available
in the window object at runtime.

For example, if you want to use a module available in
window.module_value in a JavaScript file like this: `import moduleName from "moduleName";`,
then you must add a new external entry with the
Variable Name `moduleName` and the value `module_value`. In
general, the Variable Name and Value are the same.
See [https://webpack.js.org/configuration/externals/](https://webpack.js.org/configuration/externals/)
for more information.

To add an external module, enter a name in the Variable Name box and a
value in the Value box and click `Add`. The added external module is
displayed on the table. Add as many external modules as needed by the
bundle.
