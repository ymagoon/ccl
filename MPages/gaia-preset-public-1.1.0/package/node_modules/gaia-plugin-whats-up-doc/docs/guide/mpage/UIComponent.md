# Documenting UIComponents

* Use `@prop` to document UIComponent props.
* Use `@enum` for UIComponent events, and ensure that the events enum is associated to the class
 using `@memberOf`.
* Use examples with `@example`
* Use `@typedef` to document props that have nested object structures
* For convenience a link to the source code can be added using `@see` and `@link`
* `initialProps`, `createChildren`, `view`, and the other lifecycle functions
    should not be documented because they are not part of the API of the UIComponent. In
    other words, we only want to document the things on our UIComponent with which
    consumers will interact. Consumers interact with UIComponents by setting props
    and listening for events -- we wouldn't explicitly call `MyComponent.createChildren()`.
    Thus, we will only document props and events.

The following example:
```javascript
/**
 * @typedef Order
 * @memberOf DiagnosisAssociationMatrix
 * @property {Number} id - the order id
 * @property {String} display - the display
 * @property {String} detail - order details
 * @property {boolean} associationIsRequired - whether or not a diagnosis association is required
 * @property {Array<Number>} associations - the list of associated diagnosis ids in order of priority
 *
 * @example
 * {
 *     id: 0,
 *     display: "Synthroid",
 *     details: "0.05mg, Oral, Tab, Daily",
 *     associationIsRequired: false,
 *     associations: [ 3, 1, 2, 0, 4 ]
 * }
 */

/**
 * @typedef Diagnosis
 * @memberOf DiagnosisAssociationMatrix
 * @property {Number} id - the diagnosis id
 * @property {String} display - the display
 * @property {String} code - diagnosis code
 *
 * @example
 * {
 *     id: 2,
 *     code: "148.2",
 *     display: "Atrial fibrillation"
 * }
 */

/**
 * @typedef OrderSection
 * @memberOf DiagnosisAssociationMatrix
 *
 * @property {String} display - the text to display in the section header
 * @property {String} id - unique id for the section
 * @property {boolean} isExpanded - whether or not the section is expanded
 * @property {Array<String>} orderIdList - the list of orders in the order
 *  in which they should be displayed
 *
 * @example
 * {
 *     display: "Medications",
 *     isExpanded: true,
 *     id: "meds",
 *     orderIdList: [ 0, 1, 2, 3, 4, 5 ]
 * }
 */

/**
 * @enum
 * @memberOf DiagnosisAssociationMatrix
 * @example
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSIS_TO_ALL, ({ diagnosisId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSIS_TO_ALL);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSES, ({ associations, orderId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSES);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS_FROM_ALL, ({ diagnosisId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS_FROM_ALL);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS, ({ associations, orderId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.REMOVE_ORDER, ({ orderId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.REMOVE_ORDER);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ORDER_SECTION_VISIBLE, ({ id }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ORDER_SECTION_VISIBLE);
 *     // ...
 * });
 *
 * this.on(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ASSOCIATION_SELECTOR_VISIBLE, ({ orderId, diagnosisId }) => {
 *     this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ASSOCIATION_SELECTOR_VISIBLE);
 *     // ...
 * });
 */
const EVENTS = {
    /** `{ diagnosisId }` */
    ASSOCIATE_DIAGNOSIS_TO_ALL: "DiagnosisAssociationMatrix::associateDiagnosisToAll",

    /** `{ associations: [], orderId }` */
    ASSOCIATE_DIAGNOSES: "DiagnosisAssociationMatrix::associateDiagnoses",

    /** `{ diagnosisId }` */
    CLEAR_DIAGNOSIS_FROM_ALL: "DiagnosisAssociationMatrix::clearDiagnosisFromAll",

    /** `{ associations: [], orderId }` */
    CLEAR_DIAGNOSIS: "DiagnosisAssociationMatrix::clearDiagnosis",

    /** `{ orderId }` */
    REMOVE_ORDER: "DiagnosisAssociationMatrix::removeOrder",

    /** `{ id }` */
    TOGGLE_ORDER_SECTION_VISIBLE: "DiagnosisAssociationMatrix::toggleOrderSectionVisible",

    /** `{ orderId, diagnosisId }` */
    TOGGLE_ASSOCIATION_SELECTOR_VISIBLE: "DiagnosisAssociationMatrix::toggleAssociationSelectorVisible"
};

/**
 * I need a description here until {@link https://github.com/jsdoc2md/jsdoc-parse/issues/33|this} gets fixed
 * @class DiagnosisAssociationMatrix
 * @classdesc A view for associating diagnoses to orders
 *
 * @prop {Object} [diagnoses={}] - a map of ids to diagnoses
 * @prop {Array<Number>} [diagnosisIdList=[]] - the list of diagnosis ids in the order in which
 *  they should be displayed
 * @prop {Object} [orders={}] - a map of ids to orders
 * @prop {Array<OrderSection>} [orderSections=[]] - a list of order sections (e.g. medications) in the order in
 *  which they should be displayed
 * @prop {Object} [showSelectorFor=`null`] - the cell for which to show the priority selector.
 *  Should be set with `{ orderId, diagnosisId }`.
 *
 * @see {@link ../src/main/js/cerner/mpagedev/util/views/DiagnosisAssociationMatrix.js|Source}
 *
 * @example
 * const dxMatrix = new DiagnosisAssociationMatrix({
 *     diagnosisIdList: [ 0, 1 ],
 *     diagnoses: {
 *         0: {
 *             id: 0,
 *             code: "115.212",
 *             display: "Pneumonia"
 *         },
 *         1: {
 *             id: 1,
 *             code: "E06.3",
 *             display: "Hashimoto's disease"
 *         }
 *     },
 *     orders: {
 *         0: {
 *             id: 0,
 *             display: "Synthroid",
 *             details: "0.05mg, Oral, Tab, Daily",
 *             associationIsRequired: false,
 *             associations: [ 1, 0 ]
 *         },
 *         1: {
 *             id: 1,
 *             display: "dilTIAZem",
 *             details: "120 mg, Oral, Tab, TID",
 *             associationIsRequired: false,
 *             associations: [ 0     ]
 *         },
 *         2: {
 *             id: 2,
 *             display: "warfarin",
 *             details: "5 mg, Oral, Tab, Daily blah blah blah blah blah blah",
 *             associationIsRequired: true,
 *             associations: []
 *         }
 *     },
 *     orderSections: [
 *         {
 *             display: "Medications",
 *             isExpanded: true,
 *             orderIdList: [ 0, 1 ]
 *         }
 *     ]
 * });
 */
class DiagnosisAssociationMatrix extends UIComponent {
    initialProps() {
        return {
            diagnoses: {},
            diagnosisIdList: [],
            orders: {},
            orderSections: [],
            showSelectorFor: null
        };
    }

    createChildren() {
        // ...
    }

    dependentPropChangeHandlers() {
        // ...
    }

    afterCreate() {
        // ...
    }

    view(el, props, children, mappedChildren) {
        // ...
    }
}

export default DiagnosisAssociationMatrix;

DiagnosisAssociationMatrix.EVENTS = EVENTS;
```

generates the following markdown:
### *\<!-- markdown start --\>*

<a name="DiagnosisAssociationMatrix"></a>

## DiagnosisAssociationMatrix
A view for associating diagnoses to orders

**Kind**: global class

**See**: [Source](../src/main/js/cerner/mpagedev/util/views/DiagnosisAssociationMatrix.js)

**Properties**

| Name | Type | Default | Description |
| --- | --- | --- | --- |
| diagnoses | <code>Object</code> | <code>{}</code> | a map of ids to diagnoses |
| diagnosisIdList | <code>Array.&lt;Number&gt;</code> | <code>[]</code> | the list of diagnosis ids in the order in which  they should be displayed |
| orders | <code>Object</code> | <code>{}</code> | a map of ids to orders |
| orderSections | <code>Array.&lt;OrderSection&gt;</code> | <code>[]</code> | a list of order sections (e.g. medications) in the order in  which they should be displayed |
| showSelectorFor | <code>Object</code> | <code>&#x60;null&#x60;</code> | the cell for which to show the priority selector.  Should be set with `{ orderId, diagnosisId }`. |


* [DiagnosisAssociationMatrix](#DiagnosisAssociationMatrix)
    * [new DiagnosisAssociationMatrix()](#new_DiagnosisAssociationMatrix_new)
    * [.EVENTS](#DiagnosisAssociationMatrix.EVENTS)
    * [.Order](#DiagnosisAssociationMatrix.Order)
    * [.Diagnosis](#DiagnosisAssociationMatrix.Diagnosis)
    * [.OrderSection](#DiagnosisAssociationMatrix.OrderSection)

<a name="new_DiagnosisAssociationMatrix_new"></a>

### new DiagnosisAssociationMatrix()

**Example**
```js
const dxMatrix = new DiagnosisAssociationMatrix({
    diagnosisIdList: [ 0, 1 ],
    diagnoses: {
        0: {
            id: 0,
            code: "115.212",
            display: "Pneumonia"
        },
        1: {
            id: 1,
            code: "E06.3",
            display: "Hashimoto's disease"
        }
    },
    orders: {
        0: {
            id: 0,
            display: "Synthroid",
            details: "0.05mg, Oral, Tab, Daily",
            associationIsRequired: false,
            associations: [ 1, 0 ]
        },
        1: {
            id: 1,
            display: "dilTIAZem",
            details: "120 mg, Oral, Tab, TID",
            associationIsRequired: false,
            associations: [ 0     ]
        },
        2: {
            id: 2,
            display: "warfarin",
            details: "5 mg, Oral, Tab, Daily blah blah blah blah blah blah",
            associationIsRequired: true,
            associations: []
        }
    },
    orderSections: [
        {
            display: "Medications",
            isExpanded: true,
            orderIdList: [ 0, 1 ]
        }
    ]
});
```
<a name="DiagnosisAssociationMatrix.EVENTS"></a>

### DiagnosisAssociationMatrix.EVENTS
**Kind**: static enum of [<code>DiagnosisAssociationMatrix</code>](#DiagnosisAssociationMatrix)

**Properties**

| Name | Default | Description |
| --- | --- | --- |
| ASSOCIATE_DIAGNOSIS_TO_ALL | <code>DiagnosisAssociationMatrix::associateDiagnosisToAll</code> | `{ diagnosisId }` |
| ASSOCIATE_DIAGNOSES | <code>DiagnosisAssociationMatrix::associateDiagnoses</code> | `{ associations: [], orderId }` |
| CLEAR_DIAGNOSIS_FROM_ALL | <code>DiagnosisAssociationMatrix::clearDiagnosisFromAll</code> | `{ diagnosisId }` |
| CLEAR_DIAGNOSIS | <code>DiagnosisAssociationMatrix::clearDiagnosis</code> | `{ associations: [], orderId }` |
| REMOVE_ORDER | <code>DiagnosisAssociationMatrix::removeOrder</code> | `{ orderId }` |
| TOGGLE_ORDER_SECTION_VISIBLE | <code>DiagnosisAssociationMatrix::toggleOrderSectionVisible</code> | `{ id }` |
| TOGGLE_ASSOCIATION_SELECTOR_VISIBLE | <code>DiagnosisAssociationMatrix::toggleAssociationSelectorVisible</code> | `{ orderId, diagnosisId }` |

**Example**
```js
this.on(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSIS_TO_ALL, ({ diagnosisId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSIS_TO_ALL);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSES, ({ associations, orderId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.ASSOCIATE_DIAGNOSES);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS_FROM_ALL, ({ diagnosisId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS_FROM_ALL);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS, ({ associations, orderId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.CLEAR_DIAGNOSIS);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.REMOVE_ORDER, ({ orderId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.REMOVE_ORDER);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ORDER_SECTION_VISIBLE, ({ id }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ORDER_SECTION_VISIBLE);
    // ...
});

this.on(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ASSOCIATION_SELECTOR_VISIBLE, ({ orderId, diagnosisId }) => {
    this.stopPropagation(DiagnosisAssociationMatrix.EVENTS.TOGGLE_ASSOCIATION_SELECTOR_VISIBLE);
    // ...
});
```
<a name="DiagnosisAssociationMatrix.Order"></a>

### DiagnosisAssociationMatrix.Order
**Kind**: static typedef of [<code>DiagnosisAssociationMatrix</code>](#DiagnosisAssociationMatrix)

**Properties**

| Name | Type | Description |
| --- | --- | --- |
| id | <code>Number</code> | the order id |
| display | <code>String</code> | the display |
| detail | <code>String</code> | order details |
| associationIsRequired | <code>boolean</code> | whether or not a diagnosis association is required |
| associations | <code>Array.&lt;Number&gt;</code> | the list of associated diagnosis ids in order of priority |

**Example**
```js
{
    id: 0,
    display: "Synthroid",
    details: "0.05mg, Oral, Tab, Daily",
    associationIsRequired: false,
    associations: [ 3, 1, 2, 0, 4 ]
}
```
<a name="DiagnosisAssociationMatrix.Diagnosis"></a>

### DiagnosisAssociationMatrix.Diagnosis
**Kind**: static typedef of [<code>DiagnosisAssociationMatrix</code>](#DiagnosisAssociationMatrix)

**Properties**

| Name | Type | Description |
| --- | --- | --- |
| id | <code>Number</code> | the diagnosis id |
| display | <code>String</code> | the display |
| code | <code>String</code> | diagnosis code |

**Example**
```js
{
    id: 2,
    code: "148.2",
    display: "Atrial fibrillation"
}
```
<a name="DiagnosisAssociationMatrix.OrderSection"></a>

### DiagnosisAssociationMatrix.OrderSection
**Kind**: static typedef of [<code>DiagnosisAssociationMatrix</code>](#DiagnosisAssociationMatrix)

**Properties**

| Name | Type | Description |
| --- | --- | --- |
| display | <code>String</code> | the text to display in the section header |
| id | <code>String</code> | unique id for the section |
| isExpanded | <code>boolean</code> | whether or not the section is expanded |
| orderIdList | <code>Array.&lt;String&gt;</code> | the list of orders in the order  in which they should be displayed |

**Example**
```js
{
    display: "Medications",
    isExpanded: true,
    id: "meds",
    orderIdList: [ 0, 1, 2, 3, 4, 5 ]
}
```


### *\<!-- markdown end --\>*
