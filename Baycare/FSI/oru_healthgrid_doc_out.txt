/***
 *  ---------------------------------------------------------------------------------------------
 *  Script Name:  oru_healthgrid_doc_out
 *  Description:  HealthGrid doc interface outbound
 *  Type:         Modify Object Script
/***
 *  ---------------------------------------------------------------------------------------------
 *  Script Name:  oru_healthgrid_doc_outv1
 *  Description:  HealthGrid doc interface outbound
 *  Type:         Modify Object Script
 *  ---------------------------------------------------------------------------------------------
 *  Author:         Tony McArtor 
 *  Library:        OEOCF23ORUORU
 *  Creation Date:  02/16/2015 
 *
 *  ---------------------------------------------------------------------------------------------
 *  Mod# Date    Author   Description and Requestor Information
 *  1:   02/12/2013  Mod 1:  T McArtor - Patient Summary Inpatient and Education Summary - Req'd by Medseek
 *  2:   02/12/2013  Mod 2:  T Mcartor - Add logic to blank out 999-99-999 outbound from cerner
*   3:   11/25/2013 Mod 4:   T Mcartor - Add logic to block PSY
*   4:   04/01/2015 Mod 5:  TMcArtor     Adding RP blocking logic Optum Project  
*   5:   04/01/2015 Mod 6:  TMcArtor     Adding blocking logic patient type  (removed durring testing)      
*  ---------------------------------------------------------------------------------------------
***/

/*******Blocking Logic Reference Pointer ORU message********/

IF (oen_reply->RES_ORU_GROUP [1]->OBX_GROUP [1]->OBX->observation_value [1]->value_2 = "OTG")
    set oenstatus->ignore=1
   Go to Done
Endif

/*** Patient type blocking ***/

;IF (oen_reply->PERSON_GROUP [1]->PAT_GROUP [1]->PV1 [1]->patient_type = "O")
;    set oenstatus->ignore=1
;   Go to Done
;Endif

/*** Mod 1 - 09/05/2011 - T McArtor - Patient Summary Inpatient and Education Summary ***/

IF(oen_reply->RES_ORU_GROUP [1]->OBR [1]->univ_service_id [1]->text not IN (
  "ED Patient Summary",
   "Discharge Summary of Care")) 
 set oenstatus->ignore=1
Endif
 If (size(oen_reply->RES_ORU_GROUP [1]->OBX_GROUP,5)=0)
  set oenstatus->ignore=1
Endif

/***Mod 2 - 09/05/2011 - Adding logic to blank out 999-99-9999  SSN values***/

if(oen_reply->PERSON_GROUP [1]->PAT_GROUP [1]->PID [1]->ssn_nbr ="999999999")
  set oen_reply->PERSON_GROUP [1]->PAT_GROUP [1]->PID [1]->ssn_nbr =""
endif

#Done