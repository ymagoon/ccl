(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("MPageFusion"), require("Gaia"));
	else if(typeof define === 'function' && define.amd)
		define(["MPageFusion", "Gaia"], factory);
	else if(typeof exports === 'object')
		exports["gaia-plugin-webpack"] = factory(require("MPageFusion"), require("Gaia"));
	else
		root["gaia-plugin-webpack"] = factory(root["MPageFusion"], root["Gaia"]);
})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_1__;

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(3);


/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var Fusion = _interopRequireWildcard(__webpack_require__(0));

var _WebpackUI = _interopRequireDefault(__webpack_require__(4));

var _Gaia = __webpack_require__(1);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var writeConfig = function writeConfig(control, config) {
  if (control._configTimeout) {
    clearTimeout(control._configTimeout);
  }

  control._configTimeout = setTimeout(function () {
    return (0, _Gaia.runCommand)("webpack", "writeFullConfig", {
      config: config
    });
  }, 500);
};

var removeTargetName = function removeTargetName(target) {
  var clone = Object.assign({}, target);
  delete clone.name;
  return clone;
};

var readTargetsArray = function readTargetsArray(targets) {
  return targets.reduce(function (result, target) {
    var _Object$assign;

    return Object.assign({}, result, (_Object$assign = {}, _Object$assign[target.name] = removeTargetName(target), _Object$assign));
  }, {});
};

var makeTargetsArray = function makeTargetsArray(targets) {
  return Object.keys(targets).map(function (targetName) {
    return Object.assign({}, targets[targetName], {
      name: targetName
    });
  });
};

var TARGETS_CHANGE = "Internal::WebpackIndex::TargetsChange";
var RUN_DEV_SERVER = "Internal::WebpackIndex::RunDevServer";
var RUN_WATCH_SERVER = "Internal::WebpackIndex::RunWatcherServer";
var STOP_DEV_SERVER = "Internal::WebpackIndex::StopDevServer";
var STOP_WATCH_SERVER = "Internal::WebpackIndex::StopWatchServer";

var WebpackIndex =
/*#__PURE__*/
function (_Fusion$UIComponent) {
  _inheritsLoose(WebpackIndex, _Fusion$UIComponent);

  function WebpackIndex() {
    return _Fusion$UIComponent.apply(this, arguments) || this;
  }

  var _proto = WebpackIndex.prototype;

  _proto.createChildren = function createChildren() {
    return [{
      ui: new _WebpackUI["default"]({
        targetsChangeEventName: TARGETS_CHANGE,
        runDevServerEventName: RUN_DEV_SERVER,
        runWatchServerEventName: RUN_WATCH_SERVER,
        stopDevServerEventName: STOP_DEV_SERVER,
        stopWatchServerEventName: STOP_WATCH_SERVER
      })
    }];
  };

  _proto.afterCreate = function afterCreate() {
    var _this = this;

    (0, _Gaia.runCommand)("webpack", "readFullConfig", {}).then(function (fullConfig) {
      return _this.getChild("ui").setProp("targets", fullConfig.targets ? makeTargetsArray(fullConfig.targets) : {}).update();
    });
    (0, _Gaia.openWebsocket)("webpack", "devServerStatus").then(function (ws) {
      ws.onmessage = function (msg) {
        var message = JSON.parse(msg.data);

        _this.getChild("ui").setProp("isDevServerRunning", message.isRunning).update();
      };
    });
    (0, _Gaia.openWebsocket)("webpack", "watcherStatus").then(function (ws) {
      ws.onmessage = function (msg) {
        var message = JSON.parse(msg.data);

        _this.getChild("ui").setProp("isWatchServerRunning", message.isRunning).update();
      };
    });
    this.on(TARGETS_CHANGE, function (source, newTargets) {
      writeConfig(_this, {
        targets: readTargetsArray(newTargets)
      });

      _this.getChild("ui").setProp("targets", newTargets).update();
    });
    this.on(RUN_DEV_SERVER, function (source, target) {
      (0, _Gaia.runCommand)("webpack", "startDevServer", {
        target: target.name
      });
    });
    this.on(STOP_DEV_SERVER, function (source) {
      return (0, _Gaia.runCommand)("webpack", "stopDevServer");
    });
    this.on(RUN_WATCH_SERVER, function (source, target) {
      (0, _Gaia.runCommand)("webpack", "startWatcher", {
        target: target.name
      });
    });
    this.on(STOP_WATCH_SERVER, function (source) {
      return (0, _Gaia.runCommand)("webpack", "stopWatcher");
    });
  };

  _proto.view = function view(el) {
    return this.renderChildren();
  };

  return WebpackIndex;
}(Fusion.UIComponent);

;
var _default = {
  label: "Webpack",
  control: WebpackIndex,
  showHelp: true
};
exports["default"] = _default;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var Fusion = _interopRequireWildcard(__webpack_require__(0));

var _TargetList = _interopRequireDefault(__webpack_require__(5));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var forwardProp = Fusion.helpers.props.forwardProp;
var Button = Fusion.atomic.button.Button;
var TARGETS_CHANGE = "Internal::WebpackUI::TargetsChange";
var ADD_TARGET = "Internal::WebpackUI::AddTarget";
var RUN_DEV_SERVER = "Internal::WebpackUI::RunDevServer";
var RUN_WATCH_SERVER = "Internal::WebpackUI::RunWatchServer";
var STOP_DEV_SERVER = "Internal::WebpackUI::StopDevServer";
var STOP_WATCH_SERVER = "Internal::WebpackUI::StopWatchServer";

var WebpackUI =
/*#__PURE__*/
function (_Fusion$UIComponent) {
  _inheritsLoose(WebpackUI, _Fusion$UIComponent);

  function WebpackUI() {
    return _Fusion$UIComponent.apply(this, arguments) || this;
  }

  var _proto = WebpackUI.prototype;

  _proto.initialProps = function initialProps() {
    return {
      targets: [],
      targetsChangeEventName: null,
      runDevServerEventName: null,
      runWatchServerEventName: null,
      stopDevServerEventName: null,
      stopWatchServerEventName: null,
      isDevServerRunning: false,
      isWatchServerRunning: false
    };
  };

  _proto.propChangeHandlers = function propChangeHandlers() {
    return {
      targets: forwardProp(this, "targets", "targetList")
    };
  };

  _proto.dependentPropChangeHandlers = function dependentPropChangeHandlers() {
    var _this = this;

    return [["isDevServerRunning", "isWatchServerRunning", function (isDevServerRunning, isWatchServerRunning) {
      return _this.getChild("targetList").setProp("showServerButtons", !isDevServerRunning && !isWatchServerRunning);
    }]];
  };

  _proto.createChildren = function createChildren() {
    return [{
      targetList: new _TargetList["default"]({
        targetsChangeEventName: TARGETS_CHANGE,
        runDevServerEventName: RUN_DEV_SERVER,
        runWatchServerEventName: RUN_WATCH_SERVER
      })
    }, {
      addTarget: new Button({
        display: "Add target",
        clickEventName: ADD_TARGET
      })
    }, {
      stopDevServer: new Button({
        classNames: "mpageui-u-margin-absolute-loose",
        display: "Stop",
        clickEventName: STOP_DEV_SERVER
      })
    }, {
      stopWatchServer: new Button({
        classNames: "mpageui-u-margin-absolute-loose",
        display: "Stop",
        clickEventName: STOP_WATCH_SERVER
      })
    }];
  };

  _proto.afterCreate = function afterCreate() {
    var _this2 = this;

    this.convertEventUsingProp(TARGETS_CHANGE, "targetsChangeEventName", function (source, targets) {
      return [_this2, targets];
    });
    this.convertEventUsingProp(ADD_TARGET, "targetsChangeEventName", function (source) {
      return [_this2, _this2.getProp("targets").concat({
        name: "New target"
      })];
    });
    this.convertEventUsingProp(RUN_DEV_SERVER, "runDevServerEventName", function (source, target) {
      return [_this2, target];
    });
    this.convertEventUsingProp(RUN_WATCH_SERVER, "runWatchServerEventName", function (source, target) {
      return [_this2, target];
    });
    this.convertEventUsingProp(STOP_WATCH_SERVER, "stopWatchServerEventName", function (source) {
      return [_this2];
    });
    this.convertEventUsingProp(STOP_DEV_SERVER, "stopDevServerEventName", function (source) {
      return [_this2];
    });
  };

  _proto.view = function view(el, props, children, mChildren) {
    return [props.isDevServerRunning ? el("div", {}, ["Dev server running", mChildren.stopDevServer.render()]) : [], props.isWatchServerRunning ? el("div", {}, ["Watch server running", mChildren.stopWatchServer.render()]) : []].concat([mChildren.targetList.render(), mChildren.addTarget.render()]);
  };

  return WebpackUI;
}(Fusion.UIComponent);

exports["default"] = WebpackUI;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var Fusion = _interopRequireWildcard(__webpack_require__(0));

var _Target = _interopRequireDefault(__webpack_require__(6));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var TARGET_CHANGE = "Internal::TargetList::TargetChange";
var TARGET_DELETED = "Internal::TargetList::TargetDelete";
var RUN_WATCH_SERVER = "Internal::TargetList::RunWatchServer";
var RUN_DEV_SERVER = "Internal::TargetList::RunDevServer";

var TargetList =
/*#__PURE__*/
function (_Fusion$UIComponent) {
  _inheritsLoose(TargetList, _Fusion$UIComponent);

  function TargetList() {
    return _Fusion$UIComponent.apply(this, arguments) || this;
  }

  var _proto = TargetList.prototype;

  _proto.initialProps = function initialProps() {
    return {
      targets: {},
      targetsChangeEventName: null,
      runWatchServerEventName: null,
      runDevServerEventName: null,
      showServerButtons: true
    };
  };

  _proto.dependentPropChangeHandlers = function dependentPropChangeHandlers() {
    var _this = this;

    return [["targets", "showServerButtons", function (targets, showServerButtons) {
      return _this.replaceAllChildren(targets.map(function (target, i) {
        return new _Target["default"]({
          targetChangeEventName: TARGET_CHANGE,
          targetSettings: target,
          deleteEventName: TARGET_DELETED,
          runDevServerEventName: RUN_DEV_SERVER,
          runWatchServerEventName: RUN_WATCH_SERVER,
          _targetIndex: i,
          showServerButtons: showServerButtons
        });
      }));
    }]];
  };

  _proto.afterCreate = function afterCreate() {
    var _this2 = this;

    this.convertEventUsingProp(TARGET_DELETED, "targetsChangeEventName", function (source) {
      var newTargetList = _this2.getProp("targets").slice(0);

      newTargetList.splice(source.getProp("_targetIndex"), 1);
      return [_this2, newTargetList];
    });
    this.convertEventUsingProp(TARGET_CHANGE, "targetsChangeEventName", function (source, newTarget) {
      var newTargetList = _this2.getProp("targets").slice(0);

      newTargetList[source.getProp("_targetIndex")] = newTarget;
      return [_this2, newTargetList];
    });
    this.convertEventUsingProp(RUN_WATCH_SERVER, "runWatchServerEventName", function (source, target) {
      return [_this2, target];
    });
    this.convertEventUsingProp(RUN_DEV_SERVER, "runDevServerEventName", function (source, target) {
      return [_this2, target];
    });
  };

  _proto.view = function view(el, props, children) {
    return this.renderChildren();
  };

  return TargetList;
}(Fusion.UIComponent);

exports["default"] = TargetList;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var Fusion = _interopRequireWildcard(__webpack_require__(0));

var gaia = _interopRequireWildcard(__webpack_require__(1));

var _Externals = _interopRequireDefault(__webpack_require__(7));

var _MockConfig = _interopRequireDefault(__webpack_require__(8));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var Button = Fusion.atomic.button.Button;
var JsonForm = gaia.controls.JsonForm;
var RUN_DEV_SERVER_CLICK = "Target::RunDevServerClick";
var RUN_WATCH_SERVER_CLICK = "Target::RunWatchServerClick";
var DELETE_CLICK = "Target::DeleteClick";
var SETTINGS_CHANGE = "Target::SettingsChange";
var EXTERNALS_CHANGE = "Target::ExternalsChange";
var MOCK_CHANGE = "Target::MocksChange";

var serverButtons = function serverButtons(props, mChildren) {
  return props.showServerButtons ? [mChildren.runDevServer.render(), mChildren.runWatchServer.render()] : [];
};

var Target =
/*#__PURE__*/
function (_Fusion$UIComponent) {
  _inheritsLoose(Target, _Fusion$UIComponent);

  function Target() {
    return _Fusion$UIComponent.apply(this, arguments) || this;
  }

  var _proto = Target.prototype;

  _proto.initialProps = function initialProps() {
    return {
      targetSettings: {},
      targetChangeEventName: null,
      runDevServerEventName: null,
      runWatchServerEventName: null,
      deleteEventName: null,
      showServerButtons: true
    };
  };

  _proto.propChangeHandlers = function propChangeHandlers() {
    var _this = this;

    return {
      targetSettings: function targetSettings(_targetSettings) {
        _this.getChild("settings").setProp("jsonObject", _targetSettings);

        _this.getChild("externals").setProp("externals", _targetSettings.externals);

        _this.getChild("mockConfig").setProp("mockConfig", _targetSettings.mockConfig);
      }
    };
  };

  _proto.createChildren = function createChildren() {
    return [{
      settings: new JsonForm({
        changeEventName: SETTINGS_CHANGE,
        formDefinition: [{
          key: "name",
          label: "Target name",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "devtool",
          label: "Dev tool",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "fileName",
          label: "Output file name",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "cssFileName",
          label: "CSS Output file name",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "outputFolder",
          label: "Output folder",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "libraryName",
          label: "Library name",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "entryPoints",
          label: "Entry points (comma separated)",
          type: JsonForm.CONTROL_TYPES.TEXTARRAY
        }, {
          key: "sourceFolders",
          label: "Source Folders (comma separated)",
          type: JsonForm.CONTROL_TYPES.TEXTARRAY
        }, {
          key: "contentBase",
          label: "Content Base",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "publicPath",
          label: "Public Path",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "port",
          label: "Port",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "autoRefresh",
          label: "Auto Refresh",
          type: JsonForm.CONTROL_TYPES.CHECKBOX
        }, {
          key: "includeCSS",
          label: "Include CSS in bundle",
          type: JsonForm.CONTROL_TYPES.CHECKBOX
        }, {
          key: "envify",
          label: "Envify",
          type: JsonForm.CONTROL_TYPES.CHECKBOX
        }, {
          key: "minify",
          label: "Minify",
          type: JsonForm.CONTROL_TYPES.CHECKBOX
        }, {
          key: "includePolyfills",
          label: "Include Polyfills",
          type: JsonForm.CONTROL_TYPES.CHECKBOX
        }]
      })
    }, {
      runDevServer: new Button({
        clickEventName: RUN_DEV_SERVER_CLICK,
        type: Button.TYPE.LINK,
        display: "Run dev server"
      })
    }, {
      runWatchServer: new Button({
        clickEventName: RUN_WATCH_SERVER_CLICK,
        type: Button.TYPE.LINK,
        display: "Run watch server"
      })
    }, {
      "delete": new Button({
        clickEventName: DELETE_CLICK,
        type: Button.TYPE.LINK,
        display: "Delete"
      })
    }, {
      externals: new _Externals["default"]({
        externalsChangeEventName: EXTERNALS_CHANGE
      })
    }, {
      mockConfig: new _MockConfig["default"]({
        mockChangeEventName: MOCK_CHANGE
      })
    }];
  };

  _proto.afterCreate = function afterCreate() {
    var _this2 = this;

    this.convertEventUsingProp(SETTINGS_CHANGE, "targetChangeEventName", function (source, newTarget) {
      return [_this2, newTarget];
    });
    this.convertEventUsingProp(EXTERNALS_CHANGE, "targetChangeEventName", function (source, externals) {
      return [_this2, Object.assign({}, _this2.getProp("targetSettings"), {
        externals: externals
      })];
    });
    this.convertEventUsingProp(MOCK_CHANGE, "targetChangeEventName", function (source, mockConfig) {
      return [_this2, Object.assign({}, _this2.getProp("targetSettings"), {
        mockConfig: mockConfig
      })];
    });
    this.convertEventUsingProp(DELETE_CLICK, "deleteEventName", function (source) {
      return [_this2];
    });
    this.convertEventUsingProp(RUN_DEV_SERVER_CLICK, "runDevServerEventName", function (source) {
      return [_this2, _this2.getProp("targetSettings")];
    });
    this.convertEventUsingProp(RUN_WATCH_SERVER_CLICK, "runWatchServerEventName", function (source) {
      return [_this2, _this2.getProp("targetSettings")];
    });
  };

  _proto.view = function view(el, props, children, mChildren) {
    return [el("h2", {}, props.targetSettings.name), el("div", {
      "class": "gaia-webpack-targetActions"
    }, serverButtons(props, mChildren).concat([mChildren["delete"].render()])), el("div", {
      "class": "gaia-section"
    }, [mChildren.settings.render(), mChildren.externals.render(), mChildren.mockConfig.render()])];
  };

  return Target;
}(Fusion.UIComponent);

exports["default"] = Target;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var Fusion = _interopRequireWildcard(__webpack_require__(0));

var gaia = _interopRequireWildcard(__webpack_require__(1));

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var Table = Fusion.atomic.table.Table;
var JsonForm = gaia.controls.JsonForm;
var Button = Fusion.atomic.button.Button;
var DELETE_CLICK = "Externals::DeleteClick";
var NEW_EXTERNAL_CHANGE = "Externals::NewExternalChange";
var NEW_EXTERNAL_CLICK = "Externals::NewExternalClick";

var removeVariable = function removeVariable(variableName, externals) {
  delete externals[variableName];
  return externals;
};

var Externals =
/*#__PURE__*/
function (_Fusion$UIComponent) {
  _inheritsLoose(Externals, _Fusion$UIComponent);

  function Externals() {
    return _Fusion$UIComponent.apply(this, arguments) || this;
  }

  var _proto = Externals.prototype;

  _proto.initialProps = function initialProps() {
    return {
      externals: {},
      externalsChangeEventName: null
    };
  };

  _proto.createChildren = function createChildren() {
    return [{
      newExternalForm: new JsonForm({
        changeEventName: NEW_EXTERNAL_CHANGE,
        formDefinition: [{
          key: "variableName",
          label: "Variable name",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }, {
          key: "value",
          label: "Value",
          type: JsonForm.CONTROL_TYPES.TEXTBOX
        }]
      })
    }, {
      newExternalButton: new Button({
        display: "Add",
        clickEventName: NEW_EXTERNAL_CLICK
      })
    }, {
      table: new Table({
        columns: [{
          display: "Variable name",
          key: "variable"
        }, {
          display: "Value",
          key: "value"
        }, {
          display: "",
          key: "actions"
        }]
      })
    }];
  };

  _proto.propChangeHandlers = function propChangeHandlers() {
    var _this = this;

    return {
      externals: function externals(_externals) {
        return _this.getChild("table").setProp("rows", Object.keys(_externals || {}).map(function (variableName, i) {
          return {
            key: variableName,
            data: [{
              display: variableName
            }, {
              display: _externals[variableName]
            }, {
              content: [new Button({
                display: "Delete",
                clickEventName: DELETE_CLICK,
                _varName: variableName
              })]
            }]
          };
        }));
      }
    };
  };

  _proto.afterCreate = function afterCreate() {
    var _this2 = this;

    this.convertEventUsingProp(DELETE_CLICK, "externalsChangeEventName", function (source) {
      return [_this2, removeVariable(source.getProp("_varName"), Object.assign({}, _this2.getProp("externals")))];
    });
    this.on(NEW_EXTERNAL_CHANGE, function (source, newExternal) {
      return _this2.setState(newExternal);
    });
    this.convertEventUsingProp(NEW_EXTERNAL_CLICK, "externalsChangeEventName", function (source) {
      var _Object$assign;

      return [_this2, Object.assign({}, _this2.getProp("externals"), (_Object$assign = {}, _Object$assign[_this2._state.variableName] = _this2._state.value, _Object$assign))];
    });
  };

  _proto.view = function view(el, props, children, mChildren) {
    return [el("h3", {}, "Externals"), mChildren.newExternalForm.render(), mChildren.newExternalButton.render(), mChildren.table.render()];
  };

  return Externals;
}(Fusion.UIComponent);

exports["default"] = Externals;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;
exports["default"] = void 0;

var _MPageFusion = __webpack_require__(0);

function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }

var _composite$form = _MPageFusion.composite.form,
    FormTextBox = _composite$form.FormTextBox,
    FormCheckbox = _composite$form.FormCheckbox;
var INCLUDE_MOCKS_CHANGE = "MockConfig::IncludeMocks::Change";
var MOCK_LOCATION_CHANGE = "MockConfig::MockLocation::Change";
var MOCK_COLLECTION_CHANGE = "MockConfig::MockCollection::Change";

var MockConfig =
/*#__PURE__*/
function (_UIComponent) {
  _inheritsLoose(MockConfig, _UIComponent);

  function MockConfig() {
    return _UIComponent.apply(this, arguments) || this;
  }

  var _proto = MockConfig.prototype;

  _proto.initialProps = function initialProps() {
    return {
      mockConfig: {},
      mockChangeEventName: ""
    };
  };

  _proto.propChangeHandlers = function propChangeHandlers() {
    var _this = this;

    return {
      mockConfig: function mockConfig(_temp) {
        var _ref = _temp === void 0 ? {} : _temp,
            includeMocks = _ref.includeMocks,
            collectionName = _ref.collectionName,
            mockLocation = _ref.mockLocation;

        _this.getChild("includeMocks").setProp("value", includeMocks);

        _this.getChild("mockCollection").setProps({
          value: collectionName,
          isDisabled: !includeMocks
        });

        _this.getChild("mockLocation").setProps({
          value: mockLocation,
          isDisabled: !includeMocks
        });
      }
    };
  };

  _proto.createChildren = function createChildren() {
    return [{
      includeMocks: new FormCheckbox({
        valueChangeEventName: INCLUDE_MOCKS_CHANGE,
        display: "Include Mocks"
      })
    }, {
      mockCollection: new FormTextBox({
        valueChangeEventName: MOCK_COLLECTION_CHANGE,
        display: "Mock Collection"
      })
    }, {
      mockLocation: new FormTextBox({
        valueChangeEventName: MOCK_LOCATION_CHANGE,
        display: "Mock Location"
      })
    }];
  };

  _proto.afterCreate = function afterCreate() {
    var _this2 = this;

    this.convertEventUsingProp(INCLUDE_MOCKS_CHANGE, "mockChangeEventName", function (source, _ref2) {
      var includeMocks = _ref2.value;
      return [_this2, Object.assign({}, _this2.getProp("mockConfig"), {
        includeMocks: includeMocks
      })];
    });
    this.convertEventUsingProp(MOCK_COLLECTION_CHANGE, "mockChangeEventName", function (source, _ref3) {
      var collectionName = _ref3.value;
      return [_this2, Object.assign({}, _this2.getProp("mockConfig"), {
        collectionName: collectionName
      })];
    });
    this.convertEventUsingProp(MOCK_LOCATION_CHANGE, "mockChangeEventName", function (source, _ref4) {
      var mockLocation = _ref4.value;
      return [_this2, Object.assign({}, _this2.getProp("mockConfig"), {
        mockLocation: mockLocation
      })];
    });
  };

  _proto.view = function view(el, props, children, mChildren) {
    return [el("h3", {}, "Mocks"), mChildren.includeMocks.render(), mChildren.mockLocation.render(), mChildren.mockCollection.render()];
  };

  return MockConfig;
}(_MPageFusion.UIComponent);

exports["default"] = MockConfig;
;

/***/ })
/******/ ]);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAzMWI2OWVlMTJkYWM3MDUzZjRmYSIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJNUGFnZUZ1c2lvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkdhaWFcIiIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9XZWJwYWNrVUkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svVGFyZ2V0TGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9UYXJnZXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svRXh0ZXJuYWxzLmpzIiwid2VicGFjazovLy8uL3NyYy91aS9nYWlhLXBsdWdpbi13ZWJwYWNrL01vY2tDb25maWcuanMiXSwibmFtZXMiOlsid3JpdGVDb25maWciLCJjb250cm9sIiwiY29uZmlnIiwiX2NvbmZpZ1RpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicmVtb3ZlVGFyZ2V0TmFtZSIsInRhcmdldCIsImNsb25lIiwiT2JqZWN0IiwiYXNzaWduIiwibmFtZSIsInJlYWRUYXJnZXRzQXJyYXkiLCJ0YXJnZXRzIiwicmVkdWNlIiwicmVzdWx0IiwibWFrZVRhcmdldHNBcnJheSIsImtleXMiLCJtYXAiLCJ0YXJnZXROYW1lIiwiVEFSR0VUU19DSEFOR0UiLCJSVU5fREVWX1NFUlZFUiIsIlJVTl9XQVRDSF9TRVJWRVIiLCJTVE9QX0RFVl9TRVJWRVIiLCJTVE9QX1dBVENIX1NFUlZFUiIsIldlYnBhY2tJbmRleCIsImNyZWF0ZUNoaWxkcmVuIiwidWkiLCJXZWJwYWNrVUkiLCJ0YXJnZXRzQ2hhbmdlRXZlbnROYW1lIiwicnVuRGV2U2VydmVyRXZlbnROYW1lIiwicnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWUiLCJzdG9wRGV2U2VydmVyRXZlbnROYW1lIiwic3RvcFdhdGNoU2VydmVyRXZlbnROYW1lIiwiYWZ0ZXJDcmVhdGUiLCJ0aGVuIiwiZnVsbENvbmZpZyIsImdldENoaWxkIiwic2V0UHJvcCIsInVwZGF0ZSIsIndzIiwib25tZXNzYWdlIiwibXNnIiwibWVzc2FnZSIsIkpTT04iLCJwYXJzZSIsImRhdGEiLCJpc1J1bm5pbmciLCJvbiIsInNvdXJjZSIsIm5ld1RhcmdldHMiLCJ2aWV3IiwiZWwiLCJyZW5kZXJDaGlsZHJlbiIsIkZ1c2lvbiIsIlVJQ29tcG9uZW50IiwibGFiZWwiLCJzaG93SGVscCIsImZvcndhcmRQcm9wIiwiaGVscGVycyIsInByb3BzIiwiQnV0dG9uIiwiYXRvbWljIiwiYnV0dG9uIiwiQUREX1RBUkdFVCIsImluaXRpYWxQcm9wcyIsImlzRGV2U2VydmVyUnVubmluZyIsImlzV2F0Y2hTZXJ2ZXJSdW5uaW5nIiwicHJvcENoYW5nZUhhbmRsZXJzIiwiZGVwZW5kZW50UHJvcENoYW5nZUhhbmRsZXJzIiwidGFyZ2V0TGlzdCIsIlRhcmdldExpc3QiLCJhZGRUYXJnZXQiLCJkaXNwbGF5IiwiY2xpY2tFdmVudE5hbWUiLCJzdG9wRGV2U2VydmVyIiwiY2xhc3NOYW1lcyIsInN0b3BXYXRjaFNlcnZlciIsImNvbnZlcnRFdmVudFVzaW5nUHJvcCIsImdldFByb3AiLCJjb25jYXQiLCJjaGlsZHJlbiIsIm1DaGlsZHJlbiIsInJlbmRlciIsIlRBUkdFVF9DSEFOR0UiLCJUQVJHRVRfREVMRVRFRCIsInNob3dTZXJ2ZXJCdXR0b25zIiwicmVwbGFjZUFsbENoaWxkcmVuIiwiaSIsIlRhcmdldCIsInRhcmdldENoYW5nZUV2ZW50TmFtZSIsInRhcmdldFNldHRpbmdzIiwiZGVsZXRlRXZlbnROYW1lIiwiX3RhcmdldEluZGV4IiwibmV3VGFyZ2V0TGlzdCIsInNsaWNlIiwic3BsaWNlIiwibmV3VGFyZ2V0IiwiSnNvbkZvcm0iLCJnYWlhIiwiY29udHJvbHMiLCJSVU5fREVWX1NFUlZFUl9DTElDSyIsIlJVTl9XQVRDSF9TRVJWRVJfQ0xJQ0siLCJERUxFVEVfQ0xJQ0siLCJTRVRUSU5HU19DSEFOR0UiLCJFWFRFUk5BTFNfQ0hBTkdFIiwiTU9DS19DSEFOR0UiLCJzZXJ2ZXJCdXR0b25zIiwicnVuRGV2U2VydmVyIiwicnVuV2F0Y2hTZXJ2ZXIiLCJleHRlcm5hbHMiLCJtb2NrQ29uZmlnIiwic2V0dGluZ3MiLCJjaGFuZ2VFdmVudE5hbWUiLCJmb3JtRGVmaW5pdGlvbiIsImtleSIsInR5cGUiLCJDT05UUk9MX1RZUEVTIiwiVEVYVEJPWCIsIlRFWFRBUlJBWSIsIkNIRUNLQk9YIiwiVFlQRSIsIkxJTksiLCJFeHRlcm5hbHMiLCJleHRlcm5hbHNDaGFuZ2VFdmVudE5hbWUiLCJNb2NrQ29uZmlnIiwibW9ja0NoYW5nZUV2ZW50TmFtZSIsIlRhYmxlIiwidGFibGUiLCJORVdfRVhURVJOQUxfQ0hBTkdFIiwiTkVXX0VYVEVSTkFMX0NMSUNLIiwicmVtb3ZlVmFyaWFibGUiLCJ2YXJpYWJsZU5hbWUiLCJuZXdFeHRlcm5hbEZvcm0iLCJuZXdFeHRlcm5hbEJ1dHRvbiIsImNvbHVtbnMiLCJjb250ZW50IiwiX3Zhck5hbWUiLCJuZXdFeHRlcm5hbCIsInNldFN0YXRlIiwiX3N0YXRlIiwidmFsdWUiLCJjb21wb3NpdGUiLCJmb3JtIiwiRm9ybVRleHRCb3giLCJGb3JtQ2hlY2tib3giLCJJTkNMVURFX01PQ0tTX0NIQU5HRSIsIk1PQ0tfTE9DQVRJT05fQ0hBTkdFIiwiTU9DS19DT0xMRUNUSU9OX0NIQU5HRSIsImluY2x1ZGVNb2NrcyIsImNvbGxlY3Rpb25OYW1lIiwibW9ja0xvY2F0aW9uIiwic2V0UHJvcHMiLCJpc0Rpc2FibGVkIiwidmFsdWVDaGFuZ2VFdmVudE5hbWUiLCJtb2NrQ29sbGVjdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNB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LENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLE1BQUksQ0FBQ3FFLE9BQUwsQ0FBYSxZQUFiLENBQWxCLEVBQThDO0FBQUV1RSxzQkFBYyxFQUFkQTtBQUFGLE9BQTlDLENBRm1DLENBQXZDO0FBQUEsS0FISjtBQVNBLFNBQUt4RSxxQkFBTCxDQUNJcUUsb0JBREosRUFFSSxxQkFGSixFQUdJLFVBQUNsRyxNQUFEO0FBQUEsVUFBa0JzRyxZQUFsQixTQUFXVixLQUFYO0FBQUEsYUFBcUMsQ0FDakMsTUFEaUMsRUFFakNwSSxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCLE1BQUksQ0FBQ3FFLE9BQUwsQ0FBYSxZQUFiLENBQWxCLEVBQThDO0FBQUV3RSxvQkFBWSxFQUFaQTtBQUFGLE9BQTlDLENBRmlDLENBQXJDO0FBQUEsS0FISjtBQVFILEc7O1NBRURwRyxJLEdBQUEsY0FBS0MsRUFBTCxFQUFTUSxLQUFULEVBQWdCcUIsUUFBaEIsRUFBMEJDLFNBQTFCLEVBQXFDO0FBQ2pDLFdBQU8sQ0FDSDlCLEVBQUUsQ0FBQyxJQUFELEVBQU8sRUFBUCxFQUFXLE9BQVgsQ0FEQyxFQUVIOEIsU0FBUyxDQUFDbUUsWUFBVixDQUF1QmxFLE1BQXZCLEVBRkcsRUFHSEQsU0FBUyxDQUFDcUUsWUFBVixDQUF1QnBFLE1BQXZCLEVBSEcsRUFJSEQsU0FBUyxDQUFDeUUsY0FBVixDQUF5QnhFLE1BQXpCLEVBSkcsQ0FBUDtBQU1ILEc7OztFQW5GbUM1Qix3Qjs7O0FBb0Z2QyxDIiwiZmlsZSI6ImRpc3QvdWkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJNUGFnZUZ1c2lvblwiKSwgcmVxdWlyZShcIkdhaWFcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW1wiTVBhZ2VGdXNpb25cIiwgXCJHYWlhXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImdhaWEtcGx1Z2luLXdlYnBhY2tcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJNUGFnZUZ1c2lvblwiKSwgcmVxdWlyZShcIkdhaWFcIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcImdhaWEtcGx1Z2luLXdlYnBhY2tcIl0gPSBmYWN0b3J5KHJvb3RbXCJNUGFnZUZ1c2lvblwiXSwgcm9vdFtcIkdhaWFcIl0pO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfMF9fLCBfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFXzFfXykge1xucmV0dXJuIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAzMWI2OWVlMTJkYWM3MDUzZjRmYSIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8wX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJNUGFnZUZ1c2lvblwiXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV8xX187XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJHYWlhXCJcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0ICogYXMgRnVzaW9uIGZyb20gXCJNUGFnZUZ1c2lvblwiO1xyXG5pbXBvcnQgV2VicGFja1VJIGZyb20gXCIuL1dlYnBhY2tVSVwiO1xyXG5pbXBvcnQgeyBydW5Db21tYW5kLCBvcGVuV2Vic29ja2V0IH0gZnJvbSBcIkdhaWFcIjtcclxuXHJcbmNvbnN0IHdyaXRlQ29uZmlnID0gKGNvbnRyb2wsIGNvbmZpZykgPT4ge1xyXG4gICAgaWYgKGNvbnRyb2wuX2NvbmZpZ1RpbWVvdXQpIHtcclxuICAgICAgICBjbGVhclRpbWVvdXQoY29udHJvbC5fY29uZmlnVGltZW91dCk7XHJcbiAgICB9XHJcbiAgICBjb250cm9sLl9jb25maWdUaW1lb3V0ID0gc2V0VGltZW91dChcclxuICAgICAgICAoKSA9PiBydW5Db21tYW5kKFxyXG4gICAgICAgICAgICBcIndlYnBhY2tcIixcclxuICAgICAgICAgICAgXCJ3cml0ZUZ1bGxDb25maWdcIixcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uZmlnOiBjb25maWdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAsIDUwMCk7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVUYXJnZXROYW1lID0gKHRhcmdldCkgPT4ge1xyXG4gICAgY29uc3QgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCB0YXJnZXQpO1xyXG4gICAgZGVsZXRlIGNsb25lLm5hbWU7XHJcbiAgICByZXR1cm4gY2xvbmU7XHJcbn07XHJcblxyXG5jb25zdCByZWFkVGFyZ2V0c0FycmF5ID0gKHRhcmdldHMpID0+XHJcbiAgICB0YXJnZXRzLnJlZHVjZShcclxuICAgICAgICAocmVzdWx0LCB0YXJnZXQpID0+XHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgIHJlc3VsdCxcclxuICAgICAgICAgICAgICAgIHsgW3RhcmdldC5uYW1lXSA6IHJlbW92ZVRhcmdldE5hbWUodGFyZ2V0KSB9XHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAge31cclxuICAgICk7XHJcblxyXG5jb25zdCBtYWtlVGFyZ2V0c0FycmF5ID0gKHRhcmdldHMpID0+XHJcbiAgICBPYmplY3Qua2V5cyh0YXJnZXRzKS5tYXAoXHJcbiAgICAgICAgKHRhcmdldE5hbWUpID0+XHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oXHJcbiAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgIHRhcmdldHNbdGFyZ2V0TmFtZV0sXHJcbiAgICAgICAgICAgICAgICB7IG5hbWU6IHRhcmdldE5hbWV9XHJcbiAgICAgICAgICAgIClcclxuICAgICk7XHJcblxyXG5jb25zdCBUQVJHRVRTX0NIQU5HRSA9IFwiSW50ZXJuYWw6OldlYnBhY2tJbmRleDo6VGFyZ2V0c0NoYW5nZVwiO1xyXG5jb25zdCBSVU5fREVWX1NFUlZFUiA9IFwiSW50ZXJuYWw6OldlYnBhY2tJbmRleDo6UnVuRGV2U2VydmVyXCI7XHJcbmNvbnN0IFJVTl9XQVRDSF9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrSW5kZXg6OlJ1bldhdGNoZXJTZXJ2ZXJcIjtcclxuY29uc3QgU1RPUF9ERVZfU0VSVkVSID0gXCJJbnRlcm5hbDo6V2VicGFja0luZGV4OjpTdG9wRGV2U2VydmVyXCI7XHJcbmNvbnN0IFNUT1BfV0FUQ0hfU0VSVkVSID0gXCJJbnRlcm5hbDo6V2VicGFja0luZGV4OjpTdG9wV2F0Y2hTZXJ2ZXJcIjtcclxuXHJcblxyXG5jbGFzcyBXZWJwYWNrSW5kZXggZXh0ZW5kcyBGdXNpb24uVUlDb21wb25lbnQge1xyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHVpOiBuZXcgV2VicGFja1VJKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzQ2hhbmdlRXZlbnROYW1lOiBUQVJHRVRTX0NIQU5HRSxcclxuICAgICAgICAgICAgICAgICAgICBydW5EZXZTZXJ2ZXJFdmVudE5hbWU6IFJVTl9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bldhdGNoU2VydmVyRXZlbnROYW1lOiBSVU5fV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BEZXZTZXJ2ZXJFdmVudE5hbWU6IFNUT1BfREVWX1NFUlZFUixcclxuICAgICAgICAgICAgICAgICAgICBzdG9wV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IFNUT1BfV0FUQ0hfU0VSVkVSXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlckNyZWF0ZSgpIHtcclxuICAgICAgICBydW5Db21tYW5kKFwid2VicGFja1wiLCBcInJlYWRGdWxsQ29uZmlnXCIsIHt9KVxyXG4gICAgICAgICAgICAudGhlbihcclxuICAgICAgICAgICAgICAgIChmdWxsQ29uZmlnKSA9PlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgICAgICAgICAuZ2V0Q2hpbGQoXCJ1aVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRQcm9wKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRhcmdldHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVsbENvbmZpZy50YXJnZXRzID8gbWFrZVRhcmdldHNBcnJheShmdWxsQ29uZmlnLnRhcmdldHMpIDoge31cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZSgpXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIG9wZW5XZWJzb2NrZXQoXCJ3ZWJwYWNrXCIsIFwiZGV2U2VydmVyU3RhdHVzXCIpXHJcbiAgICAgICAgICAgIC50aGVuKCh3cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgd3Mub25tZXNzYWdlID0gKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkKFwidWlcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNldFByb3AoXCJpc0RldlNlcnZlclJ1bm5pbmdcIiwgbWVzc2FnZS5pc1J1bm5pbmcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBvcGVuV2Vic29ja2V0KFwid2VicGFja1wiLCBcIndhdGNoZXJTdGF0dXNcIilcclxuICAgICAgICAgICAgLnRoZW4oKHdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB3cy5vbm1lc3NhZ2UgPSAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UobXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJ1aVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2V0UHJvcChcImlzV2F0Y2hTZXJ2ZXJSdW5uaW5nXCIsIG1lc3NhZ2UuaXNSdW5uaW5nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5vbihcclxuICAgICAgICAgICAgVEFSR0VUU19DSEFOR0UsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIG5ld1RhcmdldHMpID0+IHtcclxuICAgICAgICAgICAgICAgIHdyaXRlQ29uZmlnKHRoaXMsIHsgdGFyZ2V0czogcmVhZFRhcmdldHNBcnJheShuZXdUYXJnZXRzKSB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJ1aVwiKS5zZXRQcm9wKFwidGFyZ2V0c1wiLCBuZXdUYXJnZXRzKS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub24oXHJcbiAgICAgICAgICAgIFJVTl9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJ1bkNvbW1hbmQoXCJ3ZWJwYWNrXCIsIFwic3RhcnREZXZTZXJ2ZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0Lm5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5vbihcclxuICAgICAgICAgICAgU1RPUF9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBydW5Db21tYW5kKFwid2VicGFja1wiLCBcInN0b3BEZXZTZXJ2ZXJcIilcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLm9uKFxyXG4gICAgICAgICAgICBSVU5fV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJ1bkNvbW1hbmQoXCJ3ZWJwYWNrXCIsIFwic3RhcnRXYXRjaGVyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldC5uYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub24oXHJcbiAgICAgICAgICAgIFNUT1BfV0FUQ0hfU0VSVkVSLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBydW5Db21tYW5kKFwid2VicGFja1wiLCBcInN0b3BXYXRjaGVyXCIpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICB2aWV3KGVsKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxhYmVsOiBcIldlYnBhY2tcIixcclxuICAgIGNvbnRyb2w6IFdlYnBhY2tJbmRleCxcclxuICAgIHNob3dIZWxwOiB0cnVlXHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91aS9nYWlhLXBsdWdpbi13ZWJwYWNrL2luZGV4LmpzIiwiaW1wb3J0ICogYXMgRnVzaW9uIGZyb20gXCJNUGFnZUZ1c2lvblwiO1xyXG5pbXBvcnQgVGFyZ2V0TGlzdCBmcm9tIFwiLi9UYXJnZXRMaXN0XCI7XHJcblxyXG5jb25zdCBmb3J3YXJkUHJvcCA9IEZ1c2lvbi5oZWxwZXJzLnByb3BzLmZvcndhcmRQcm9wO1xyXG5jb25zdCBCdXR0b24gPSBGdXNpb24uYXRvbWljLmJ1dHRvbi5CdXR0b247XHJcblxyXG5jb25zdCBUQVJHRVRTX0NIQU5HRSA9IFwiSW50ZXJuYWw6OldlYnBhY2tVSTo6VGFyZ2V0c0NoYW5nZVwiO1xyXG5jb25zdCBBRERfVEFSR0VUID0gXCJJbnRlcm5hbDo6V2VicGFja1VJOjpBZGRUYXJnZXRcIjtcclxuY29uc3QgUlVOX0RFVl9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrVUk6OlJ1bkRldlNlcnZlclwiO1xyXG5jb25zdCBSVU5fV0FUQ0hfU0VSVkVSID0gXCJJbnRlcm5hbDo6V2VicGFja1VJOjpSdW5XYXRjaFNlcnZlclwiO1xyXG5jb25zdCBTVE9QX0RFVl9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrVUk6OlN0b3BEZXZTZXJ2ZXJcIjtcclxuY29uc3QgU1RPUF9XQVRDSF9TRVJWRVIgPSBcIkludGVybmFsOjpXZWJwYWNrVUk6OlN0b3BXYXRjaFNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2VicGFja1VJIGV4dGVuZHMgRnVzaW9uLlVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBpbml0aWFsUHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGFyZ2V0czogW10sXHJcbiAgICAgICAgICAgIHRhcmdldHNDaGFuZ2VFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHN0b3BEZXZTZXJ2ZXJFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHN0b3BXYXRjaFNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgaXNEZXZTZXJ2ZXJSdW5uaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNXYXRjaFNlcnZlclJ1bm5pbmc6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wQ2hhbmdlSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGFyZ2V0czogZm9yd2FyZFByb3AodGhpcywgXCJ0YXJnZXRzXCIsIFwidGFyZ2V0TGlzdFwiKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVwZW5kZW50UHJvcENoYW5nZUhhbmRsZXJzKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIFsgXCJpc0RldlNlcnZlclJ1bm5pbmdcIiwgXCJpc1dhdGNoU2VydmVyUnVubmluZ1wiLFxyXG4gICAgICAgICAgICAgIChpc0RldlNlcnZlclJ1bm5pbmcsIGlzV2F0Y2hTZXJ2ZXJSdW5uaW5nKSA9PlxyXG5cclxuICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICAgLmdldENoaWxkKFwidGFyZ2V0TGlzdFwiKVxyXG4gICAgICAgICAgICAgIC5zZXRQcm9wKFwic2hvd1NlcnZlckJ1dHRvbnNcIiwgIWlzRGV2U2VydmVyUnVubmluZyAmJiAhaXNXYXRjaFNlcnZlclJ1bm5pbmcpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldExpc3Q6IG5ldyBUYXJnZXRMaXN0KHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRzQ2hhbmdlRXZlbnROYW1lOiBUQVJHRVRTX0NIQU5HRSxcclxuICAgICAgICAgICAgICAgICAgICBydW5EZXZTZXJ2ZXJFdmVudE5hbWU6IFJVTl9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bldhdGNoU2VydmVyRXZlbnROYW1lOiBSVU5fV0FUQ0hfU0VSVkVSXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhZGRUYXJnZXQ6IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiQWRkIHRhcmdldFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRXZlbnROYW1lOiBBRERfVEFSR0VUXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdG9wRGV2U2VydmVyOiBuZXcgQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWVzOiBcIm1wYWdldWktdS1tYXJnaW4tYWJzb2x1dGUtbG9vc2VcIixcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIlN0b3BcIixcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0V2ZW50TmFtZTogU1RPUF9ERVZfU0VSVkVSXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdG9wV2F0Y2hTZXJ2ZXI6IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZXM6IFwibXBhZ2V1aS11LW1hcmdpbi1hYnNvbHV0ZS1sb29zZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiU3RvcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRXZlbnROYW1lOiBTVE9QX1dBVENIX1NFUlZFUlxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlckNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgVEFSR0VUU19DSEFOR0UsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0c0NoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXRzKSA9PiBbIHRoaXMsIHRhcmdldHMgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBBRERfVEFSR0VULFxyXG4gICAgICAgICAgICBcInRhcmdldHNDaGFuZ2VFdmVudE5hbWVcIixcclxuICAgICAgICAgICAgKHNvdXJjZSkgPT4gW1xyXG4gICAgICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0UHJvcChcInRhcmdldHNcIikuY29uY2F0KHsgbmFtZTogXCJOZXcgdGFyZ2V0XCJ9KVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIFJVTl9ERVZfU0VSVkVSLFxyXG4gICAgICAgICAgICBcInJ1bkRldlNlcnZlckV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXQpID0+IFsgdGhpcywgdGFyZ2V0IF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgUlVOX1dBVENIX1NFUlZFUixcclxuICAgICAgICAgICAgXCJydW5XYXRjaFNlcnZlckV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXQpID0+IFsgdGhpcywgdGFyZ2V0IF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgU1RPUF9XQVRDSF9TRVJWRVIsXHJcbiAgICAgICAgICAgIFwic3RvcFdhdGNoU2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFsgdGhpcyBdXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIFNUT1BfREVWX1NFUlZFUixcclxuICAgICAgICAgICAgXCJzdG9wRGV2U2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFsgdGhpcyBdXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgdmlldyhlbCwgcHJvcHMsIGNoaWxkcmVuLCBtQ2hpbGRyZW4pIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICBwcm9wcy5pc0RldlNlcnZlclJ1bm5pbmcgP1xyXG4gICAgICAgICAgICAgICAgICAgIGVsKFwiZGl2XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcIkRldiBzZXJ2ZXIgcnVubmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtQ2hpbGRyZW4uc3RvcERldlNlcnZlci5yZW5kZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDogW10sXHJcbiAgICAgICAgICAgICAgICBwcm9wcy5pc1dhdGNoU2VydmVyUnVubmluZyA/XHJcbiAgICAgICAgICAgICAgICAgICAgZWwoXCJkaXZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV2F0Y2ggc2VydmVyIHJ1bm5pbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbUNoaWxkcmVuLnN0b3BXYXRjaFNlcnZlci5yZW5kZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIDogW11cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIClcclxuICAgICAgICAgICAgLmNvbmNhdChbXHJcbiAgICAgICAgICAgICAgICBtQ2hpbGRyZW4udGFyZ2V0TGlzdC5yZW5kZXIoKSxcclxuICAgICAgICAgICAgICAgIG1DaGlsZHJlbi5hZGRUYXJnZXQucmVuZGVyKClcclxuICAgICAgICAgICAgXSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3VpL2dhaWEtcGx1Z2luLXdlYnBhY2svV2VicGFja1VJLmpzIiwiaW1wb3J0ICogYXMgRnVzaW9uIGZyb20gXCJNUGFnZUZ1c2lvblwiO1xyXG5pbXBvcnQgVGFyZ2V0IGZyb20gXCIuL1RhcmdldFwiO1xyXG5cclxuY29uc3QgVEFSR0VUX0NIQU5HRSA9IFwiSW50ZXJuYWw6OlRhcmdldExpc3Q6OlRhcmdldENoYW5nZVwiO1xyXG5jb25zdCBUQVJHRVRfREVMRVRFRCA9IFwiSW50ZXJuYWw6OlRhcmdldExpc3Q6OlRhcmdldERlbGV0ZVwiO1xyXG5jb25zdCBSVU5fV0FUQ0hfU0VSVkVSID0gXCJJbnRlcm5hbDo6VGFyZ2V0TGlzdDo6UnVuV2F0Y2hTZXJ2ZXJcIjtcclxuY29uc3QgUlVOX0RFVl9TRVJWRVIgPSBcIkludGVybmFsOjpUYXJnZXRMaXN0OjpSdW5EZXZTZXJ2ZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhcmdldExpc3QgZXh0ZW5kcyBGdXNpb24uVUlDb21wb25lbnQge1xyXG5cclxuICAgIGluaXRpYWxQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YXJnZXRzOiB7fSxcclxuICAgICAgICAgICAgdGFyZ2V0c0NoYW5nZUV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgc2hvd1NlcnZlckJ1dHRvbnM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGRlcGVuZGVudFByb3BDaGFuZ2VIYW5kbGVycygpIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBbIFwidGFyZ2V0c1wiLCBcInNob3dTZXJ2ZXJCdXR0b25zXCIsXHJcbiAgICAgICAgICAgICAgKHRhcmdldHMsIHNob3dTZXJ2ZXJCdXR0b25zKSA9PlxyXG4gICAgICAgICAgICAgIHRoaXMucmVwbGFjZUFsbENoaWxkcmVuKFxyXG4gICAgICAgICAgICAgICAgICB0YXJnZXRzLm1hcChcclxuICAgICAgICAgICAgICAgICAgICAgICh0YXJnZXQsIGkpID0+IG5ldyBUYXJnZXQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldENoYW5nZUV2ZW50TmFtZTogVEFSR0VUX0NIQU5HRSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRTZXR0aW5nczogdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUV2ZW50TmFtZTogVEFSR0VUX0RFTEVURUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuRGV2U2VydmVyRXZlbnROYW1lOiBSVU5fREVWX1NFUlZFUixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBydW5XYXRjaFNlcnZlckV2ZW50TmFtZTogUlVOX1dBVENIX1NFUlZFUixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdGFyZ2V0SW5kZXg6IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlcnZlckJ1dHRvbnM6IHNob3dTZXJ2ZXJCdXR0b25zXHJcbiAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlckNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgVEFSR0VUX0RFTEVURUQsXHJcbiAgICAgICAgICAgIFwidGFyZ2V0c0NoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXJnZXRMaXN0ID0gdGhpcy5nZXRQcm9wKFwidGFyZ2V0c1wiKS5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExpc3Quc3BsaWNlKHNvdXJjZS5nZXRQcm9wKFwiX3RhcmdldEluZGV4XCIpLCAxKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbIHRoaXMsIG5ld1RhcmdldExpc3QgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBUQVJHRVRfQ0hBTkdFLFxyXG4gICAgICAgICAgICBcInRhcmdldHNDaGFuZ2VFdmVudE5hbWVcIixcclxuICAgICAgICAgICAgKHNvdXJjZSwgbmV3VGFyZ2V0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXJnZXRMaXN0ID0gdGhpcy5nZXRQcm9wKFwidGFyZ2V0c1wiKS5zbGljZSgwKTtcclxuICAgICAgICAgICAgICAgIG5ld1RhcmdldExpc3Rbc291cmNlLmdldFByb3AoXCJfdGFyZ2V0SW5kZXhcIildID0gbmV3VGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1RhcmdldExpc3RcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgUlVOX1dBVENIX1NFUlZFUixcclxuICAgICAgICAgICAgXCJydW5XYXRjaFNlcnZlckV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCB0YXJnZXQpID0+IFsgdGhpcywgdGFyZ2V0IF1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgUlVOX0RFVl9TRVJWRVIsXHJcbiAgICAgICAgICAgIFwicnVuRGV2U2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIHRhcmdldCkgPT4gWyB0aGlzLCB0YXJnZXQgXVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlldyhlbCwgcHJvcHMsIGNoaWxkcmVuKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGRyZW4oKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9UYXJnZXRMaXN0LmpzIiwiaW1wb3J0ICogYXMgRnVzaW9uIGZyb20gXCJNUGFnZUZ1c2lvblwiO1xyXG5pbXBvcnQgKiBhcyBnYWlhIGZyb20gXCJHYWlhXCI7XHJcbmltcG9ydCBFeHRlcm5hbHMgZnJvbSBcIi4vRXh0ZXJuYWxzXCI7XHJcbmltcG9ydCBNb2NrQ29uZmlnIGZyb20gXCIuL01vY2tDb25maWdcIjtcclxuXHJcbmNvbnN0IEJ1dHRvbiA9IEZ1c2lvbi5hdG9taWMuYnV0dG9uLkJ1dHRvbjtcclxuY29uc3QgSnNvbkZvcm0gPSBnYWlhLmNvbnRyb2xzLkpzb25Gb3JtO1xyXG5cclxuY29uc3QgUlVOX0RFVl9TRVJWRVJfQ0xJQ0sgPSBcIlRhcmdldDo6UnVuRGV2U2VydmVyQ2xpY2tcIjtcclxuY29uc3QgUlVOX1dBVENIX1NFUlZFUl9DTElDSyA9IFwiVGFyZ2V0OjpSdW5XYXRjaFNlcnZlckNsaWNrXCI7XHJcbmNvbnN0IERFTEVURV9DTElDSyA9IFwiVGFyZ2V0OjpEZWxldGVDbGlja1wiO1xyXG5jb25zdCBTRVRUSU5HU19DSEFOR0UgPSBcIlRhcmdldDo6U2V0dGluZ3NDaGFuZ2VcIjtcclxuY29uc3QgRVhURVJOQUxTX0NIQU5HRSA9IFwiVGFyZ2V0OjpFeHRlcm5hbHNDaGFuZ2VcIjtcclxuY29uc3QgTU9DS19DSEFOR0UgPSBcIlRhcmdldDo6TW9ja3NDaGFuZ2VcIjtcclxuXHJcbmNvbnN0IHNlcnZlckJ1dHRvbnMgPSAocHJvcHMsIG1DaGlsZHJlbikgPT5cclxuICAgIHByb3BzLnNob3dTZXJ2ZXJCdXR0b25zXHJcbiAgICAgID8gW1xyXG4gICAgICAgICAgbUNoaWxkcmVuLnJ1bkRldlNlcnZlci5yZW5kZXIoKSxcclxuICAgICAgICAgIG1DaGlsZHJlbi5ydW5XYXRjaFNlcnZlci5yZW5kZXIoKVxyXG4gICAgICBdIDogW107XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFyZ2V0IGV4dGVuZHMgRnVzaW9uLlVJQ29tcG9uZW50IHtcclxuXHJcbiAgICBpbml0aWFsUHJvcHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGFyZ2V0U2V0dGluZ3M6IHt9LFxyXG4gICAgICAgICAgICB0YXJnZXRDaGFuZ2VFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHJ1bkRldlNlcnZlckV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgcnVuV2F0Y2hTZXJ2ZXJFdmVudE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgIGRlbGV0ZUV2ZW50TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgc2hvd1NlcnZlckJ1dHRvbnM6IHRydWVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3BDaGFuZ2VIYW5kbGVycygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YXJnZXRTZXR0aW5ncyA6ICh0YXJnZXRTZXR0aW5ncykgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInNldHRpbmdzXCIpLnNldFByb3AoXCJqc29uT2JqZWN0XCIsIHRhcmdldFNldHRpbmdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJleHRlcm5hbHNcIikuc2V0UHJvcChcImV4dGVybmFsc1wiLCB0YXJnZXRTZXR0aW5ncy5leHRlcm5hbHMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcIm1vY2tDb25maWdcIikuc2V0UHJvcChcIm1vY2tDb25maWdcIiwgdGFyZ2V0U2V0dGluZ3MubW9ja0NvbmZpZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiBuZXcgSnNvbkZvcm0oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50TmFtZTogU0VUVElOR1NfQ0hBTkdFLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1EZWZpbml0aW9uOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJuYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJUYXJnZXQgbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJkZXZ0b29sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEZXYgdG9vbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJmaWxlTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiT3V0cHV0IGZpbGUgbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJjc3NGaWxlTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ1NTIE91dHB1dCBmaWxlIG5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwib3V0cHV0Rm9sZGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJPdXRwdXQgZm9sZGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLlRFWFRCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImxpYnJhcnlOYW1lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJMaWJyYXJ5IG5hbWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZW50cnlQb2ludHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVudHJ5IHBvaW50cyAoY29tbWEgc2VwYXJhdGVkKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQVJSQVlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInNvdXJjZUZvbGRlcnNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlNvdXJjZSBGb2xkZXJzIChjb21tYSBzZXBhcmF0ZWQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLlRFWFRBUlJBWVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiY29udGVudEJhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNvbnRlbnQgQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJwdWJsaWNQYXRoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJQdWJsaWMgUGF0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJwb3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJQb3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLlRFWFRCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImF1dG9SZWZyZXNoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJBdXRvIFJlZnJlc2hcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuQ0hFQ0tCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcImluY2x1ZGVDU1NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkluY2x1ZGUgQ1NTIGluIGJ1bmRsZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5DSEVDS0JPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwiZW52aWZ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFbnZpZnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuQ0hFQ0tCT1hcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcIm1pbmlmeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiTWluaWZ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBKc29uRm9ybS5DT05UUk9MX1RZUEVTLkNIRUNLQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJpbmNsdWRlUG9seWZpbGxzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJJbmNsdWRlIFBvbHlmaWxsc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5DSEVDS0JPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcnVuRGV2U2VydmVyOiBuZXcgQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0V2ZW50TmFtZTogUlVOX0RFVl9TRVJWRVJfQ0xJQ0ssXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQnV0dG9uLlRZUEUuTElOSyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIlJ1biBkZXYgc2VydmVyXCJcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJ1bldhdGNoU2VydmVyOiBuZXcgQnV0dG9uKHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja0V2ZW50TmFtZTogUlVOX1dBVENIX1NFUlZFUl9DTElDSyxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCdXR0b24uVFlQRS5MSU5LLFxyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiUnVuIHdhdGNoIHNlcnZlclwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrRXZlbnROYW1lOiBERUxFVEVfQ0xJQ0ssXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQnV0dG9uLlRZUEUuTElOSyxcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkRlbGV0ZVwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbHM6IG5ldyBFeHRlcm5hbHMoe1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVybmFsc0NoYW5nZUV2ZW50TmFtZTogRVhURVJOQUxTX0NIQU5HRVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbW9ja0NvbmZpZzogbmV3IE1vY2tDb25maWcoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1vY2tDaGFuZ2VFdmVudE5hbWU6IE1PQ0tfQ0hBTkdFXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBhZnRlckNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgU0VUVElOR1NfQ0hBTkdFLFxyXG4gICAgICAgICAgICBcInRhcmdldENoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCBuZXdUYXJnZXQpID0+IFsgdGhpcywgbmV3VGFyZ2V0IF1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBFWFRFUk5BTFNfQ0hBTkdFLFxyXG4gICAgICAgICAgICBcInRhcmdldENoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCBleHRlcm5hbHMpID0+IFtcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFByb3AoXCJ0YXJnZXRTZXR0aW5nc1wiKSwgeyBleHRlcm5hbHMgfSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIE1PQ0tfQ0hBTkdFLFxyXG4gICAgICAgICAgICBcInRhcmdldENoYW5nZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlLCBtb2NrQ29uZmlnKSA9PiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRQcm9wKFwidGFyZ2V0U2V0dGluZ3NcIiksIHsgbW9ja0NvbmZpZyB9KVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmNvbnZlcnRFdmVudFVzaW5nUHJvcChcclxuICAgICAgICAgICAgREVMRVRFX0NMSUNLLFxyXG4gICAgICAgICAgICBcImRlbGV0ZUV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBbIHRoaXMgXVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5jb252ZXJ0RXZlbnRVc2luZ1Byb3AoXHJcbiAgICAgICAgICAgIFJVTl9ERVZfU0VSVkVSX0NMSUNLLFxyXG4gICAgICAgICAgICBcInJ1bkRldlNlcnZlckV2ZW50TmFtZVwiLFxyXG4gICAgICAgICAgICAoc291cmNlKSA9PiBbIHRoaXMsIHRoaXMuZ2V0UHJvcChcInRhcmdldFNldHRpbmdzXCIpIF1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBSVU5fV0FUQ0hfU0VSVkVSX0NMSUNLLFxyXG4gICAgICAgICAgICBcInJ1bldhdGNoU2VydmVyRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFsgdGhpcywgdGhpcy5nZXRQcm9wKFwidGFyZ2V0U2V0dGluZ3NcIikgXVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgdmlldyhlbCwgcHJvcHMsIGNoaWxkcmVuLCBtQ2hpbGRyZW4pIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBlbChcImgyXCIsIHt9LCBwcm9wcy50YXJnZXRTZXR0aW5ncy5uYW1lKSxcclxuICAgICAgICAgICAgZWwoXHJcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImdhaWEtd2VicGFjay10YXJnZXRBY3Rpb25zXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJCdXR0b25zKHByb3BzLCBtQ2hpbGRyZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChbIG1DaGlsZHJlbi5kZWxldGUucmVuZGVyKCkgXSlcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgZWwoXHJcbiAgICAgICAgICAgICAgICBcImRpdlwiLFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcImdhaWEtc2VjdGlvblwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIG1DaGlsZHJlbi5zZXR0aW5ncy5yZW5kZXIoKSxcclxuICAgICAgICAgICAgICAgICAgICBtQ2hpbGRyZW4uZXh0ZXJuYWxzLnJlbmRlcigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1DaGlsZHJlbi5tb2NrQ29uZmlnLnJlbmRlcigpXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9UYXJnZXQuanMiLCJpbXBvcnQgKiBhcyBGdXNpb24gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XHJcbmltcG9ydCAqIGFzIGdhaWEgZnJvbSBcIkdhaWFcIjtcclxuXHJcbmNvbnN0IFRhYmxlID0gRnVzaW9uLmF0b21pYy50YWJsZS5UYWJsZTtcclxuY29uc3QgSnNvbkZvcm0gPSBnYWlhLmNvbnRyb2xzLkpzb25Gb3JtO1xyXG5jb25zdCBCdXR0b24gPSBGdXNpb24uYXRvbWljLmJ1dHRvbi5CdXR0b247XHJcblxyXG5jb25zdCBERUxFVEVfQ0xJQ0sgPSBcIkV4dGVybmFsczo6RGVsZXRlQ2xpY2tcIjtcclxuY29uc3QgTkVXX0VYVEVSTkFMX0NIQU5HRSA9IFwiRXh0ZXJuYWxzOjpOZXdFeHRlcm5hbENoYW5nZVwiO1xyXG5jb25zdCBORVdfRVhURVJOQUxfQ0xJQ0sgPSBcIkV4dGVybmFsczo6TmV3RXh0ZXJuYWxDbGlja1wiO1xyXG5cclxuY29uc3QgcmVtb3ZlVmFyaWFibGUgPSAodmFyaWFibGVOYW1lLCBleHRlcm5hbHMpID0+IHtcclxuICAgIGRlbGV0ZSBleHRlcm5hbHNbdmFyaWFibGVOYW1lXTtcclxuICAgIHJldHVybiBleHRlcm5hbHM7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFeHRlcm5hbHMgZXh0ZW5kcyBGdXNpb24uVUlDb21wb25lbnQge1xyXG5cclxuICAgIGluaXRpYWxQcm9wcygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBleHRlcm5hbHM6IHt9LFxyXG4gICAgICAgICAgICBleHRlcm5hbHNDaGFuZ2VFdmVudE5hbWU6IG51bGxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUNoaWxkcmVuKCkge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5ld0V4dGVybmFsRm9ybTogbmV3IEpzb25Gb3JtKHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudE5hbWU6IE5FV19FWFRFUk5BTF9DSEFOR0UsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURlZmluaXRpb246IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBcInZhcmlhYmxlTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmFyaWFibGUgbmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogSnNvbkZvcm0uQ09OVFJPTF9UWVBFUy5URVhUQk9YXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogXCJ2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiVmFsdWVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IEpzb25Gb3JtLkNPTlRST0xfVFlQRVMuVEVYVEJPWFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmV3RXh0ZXJuYWxCdXR0b246IG5ldyBCdXR0b24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiQWRkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IE5FV19FWFRFUk5BTF9DTElDS1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFibGU6IG5ldyBUYWJsZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IFwiVmFyaWFibGUgbmFtZVwiLCBrZXk6IFwidmFyaWFibGVcIiB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IFwiVmFsdWVcIiwga2V5OiBcInZhbHVlXCIgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBkaXNwbGF5OiBcIlwiLCBrZXk6IFwiYWN0aW9uc1wiIH1cclxuICAgICAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9wQ2hhbmdlSGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZXh0ZXJuYWxzOiAoZXh0ZXJuYWxzKSA9PlxyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRDaGlsZChcInRhYmxlXCIpLnNldFByb3AoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJyb3dzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZXh0ZXJuYWxzIHx8IHt9KS5tYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICh2YXJpYWJsZU5hbWUsIGkpID0+ICh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHZhcmlhYmxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGRpc3BsYXk6IHZhcmlhYmxlTmFtZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgZGlzcGxheTogZXh0ZXJuYWxzW3ZhcmlhYmxlTmFtZV0gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbnRlbnQ6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IEJ1dHRvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkRlbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tFdmVudE5hbWU6IERFTEVURV9DTElDSyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YXJOYW1lOiB2YXJpYWJsZU5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyQ3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBERUxFVEVfQ0xJQ0ssXHJcbiAgICAgICAgICAgIFwiZXh0ZXJuYWxzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFtcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICByZW1vdmVWYXJpYWJsZShcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2UuZ2V0UHJvcChcIl92YXJOYW1lXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuZ2V0UHJvcChcImV4dGVybmFsc1wiKSlcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMub24oXHJcbiAgICAgICAgICAgIE5FV19FWFRFUk5BTF9DSEFOR0UsXHJcbiAgICAgICAgICAgIChzb3VyY2UsIG5ld0V4dGVybmFsKSA9PiB0aGlzLnNldFN0YXRlKG5ld0V4dGVybmFsKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxyXG4gICAgICAgICAgICBORVdfRVhURVJOQUxfQ0xJQ0ssXHJcbiAgICAgICAgICAgIFwiZXh0ZXJuYWxzQ2hhbmdlRXZlbnROYW1lXCIsXHJcbiAgICAgICAgICAgIChzb3VyY2UpID0+IFtcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKFxyXG4gICAgICAgICAgICAgICAgICAgIHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UHJvcChcImV4dGVybmFsc1wiKSxcclxuICAgICAgICAgICAgICAgICAgICB7IFt0aGlzLl9zdGF0ZS52YXJpYWJsZU5hbWVdOiB0aGlzLl9zdGF0ZS52YWx1ZSB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHZpZXcoZWwsIHByb3BzLCBjaGlsZHJlbiwgbUNoaWxkcmVuKSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgZWwoXCJoM1wiLCB7fSwgXCJFeHRlcm5hbHNcIiksXHJcbiAgICAgICAgICAgIG1DaGlsZHJlbi5uZXdFeHRlcm5hbEZvcm0ucmVuZGVyKCksXHJcbiAgICAgICAgICAgIG1DaGlsZHJlbi5uZXdFeHRlcm5hbEJ1dHRvbi5yZW5kZXIoKSxcclxuICAgICAgICAgICAgbUNoaWxkcmVuLnRhYmxlLnJlbmRlcigpXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvdWkvZ2FpYS1wbHVnaW4td2VicGFjay9FeHRlcm5hbHMuanMiLCJpbXBvcnQgeyBVSUNvbXBvbmVudCwgY29tcG9zaXRlIH0gZnJvbSBcIk1QYWdlRnVzaW9uXCI7XG5cbmNvbnN0IHtcbiAgICBmb3JtOiB7XG4gICAgICAgIEZvcm1UZXh0Qm94LFxuICAgICAgICBGb3JtQ2hlY2tib3hcbiAgICB9XG59ID0gY29tcG9zaXRlO1xuXG5jb25zdCBJTkNMVURFX01PQ0tTX0NIQU5HRSA9IFwiTW9ja0NvbmZpZzo6SW5jbHVkZU1vY2tzOjpDaGFuZ2VcIjtcbmNvbnN0IE1PQ0tfTE9DQVRJT05fQ0hBTkdFID0gXCJNb2NrQ29uZmlnOjpNb2NrTG9jYXRpb246OkNoYW5nZVwiO1xuY29uc3QgTU9DS19DT0xMRUNUSU9OX0NIQU5HRSA9IFwiTW9ja0NvbmZpZzo6TW9ja0NvbGxlY3Rpb246OkNoYW5nZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2NrQ29uZmlnIGV4dGVuZHMgVUlDb21wb25lbnQge1xuICAgIGluaXRpYWxQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vY2tDb25maWc6IHt9LFxuICAgICAgICAgICAgbW9ja0NoYW5nZUV2ZW50TmFtZTogXCJcIlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3BDaGFuZ2VIYW5kbGVycygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1vY2tDb25maWc6ICh7IGluY2x1ZGVNb2NrcywgY29sbGVjdGlvbk5hbWUsIG1vY2tMb2NhdGlvbiB9ID0ge30pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldENoaWxkKFwiaW5jbHVkZU1vY2tzXCIpLnNldFByb3AoXCJ2YWx1ZVwiLCBpbmNsdWRlTW9ja3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJtb2NrQ29sbGVjdGlvblwiKS5zZXRQcm9wcyh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjb2xsZWN0aW9uTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhYmxlZDogIWluY2x1ZGVNb2Nrc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0Q2hpbGQoXCJtb2NrTG9jYXRpb25cIikuc2V0UHJvcHMoe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9ja0xvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FibGVkOiAhaW5jbHVkZU1vY2tzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY3JlYXRlQ2hpbGRyZW4oKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaW5jbHVkZU1vY2tzOiBuZXcgRm9ybUNoZWNrYm94KHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVDaGFuZ2VFdmVudE5hbWU6IElOQ0xVREVfTU9DS1NfQ0hBTkdFLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIkluY2x1ZGUgTW9ja3NcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vY2tDb2xsZWN0aW9uOiBuZXcgRm9ybVRleHRCb3goe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUNoYW5nZUV2ZW50TmFtZTogTU9DS19DT0xMRUNUSU9OX0NIQU5HRSxcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJNb2NrIENvbGxlY3Rpb25cIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vY2tMb2NhdGlvbjogbmV3IEZvcm1UZXh0Qm94KHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVDaGFuZ2VFdmVudE5hbWU6IE1PQ0tfTE9DQVRJT05fQ0hBTkdFLFxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcIk1vY2sgTG9jYXRpb25cIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgYWZ0ZXJDcmVhdGUoKSB7XG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxuICAgICAgICAgICAgSU5DTFVERV9NT0NLU19DSEFOR0UsXG4gICAgICAgICAgICBcIm1vY2tDaGFuZ2VFdmVudE5hbWVcIixcbiAgICAgICAgICAgIChzb3VyY2UsIHsgdmFsdWU6IGluY2x1ZGVNb2NrcyB9KSA9PiBbXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFByb3AoXCJtb2NrQ29uZmlnXCIpLCB7IGluY2x1ZGVNb2NrcyB9KVxuICAgICAgICAgICAgXVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxuICAgICAgICAgICAgTU9DS19DT0xMRUNUSU9OX0NIQU5HRSxcbiAgICAgICAgICAgIFwibW9ja0NoYW5nZUV2ZW50TmFtZVwiLFxuICAgICAgICAgICAgKHNvdXJjZSwgeyB2YWx1ZTogY29sbGVjdGlvbk5hbWUgfSkgPT4gW1xuICAgICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5nZXRQcm9wKFwibW9ja0NvbmZpZ1wiKSwgeyBjb2xsZWN0aW9uTmFtZSB9KVxuICAgICAgICAgICAgXVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuY29udmVydEV2ZW50VXNpbmdQcm9wKFxuICAgICAgICAgICAgTU9DS19MT0NBVElPTl9DSEFOR0UsXG4gICAgICAgICAgICBcIm1vY2tDaGFuZ2VFdmVudE5hbWVcIixcbiAgICAgICAgICAgIChzb3VyY2UsIHsgdmFsdWU6IG1vY2tMb2NhdGlvbiB9KSA9PiBbXG4gICAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLmdldFByb3AoXCJtb2NrQ29uZmlnXCIpLCB7IG1vY2tMb2NhdGlvbiB9KVxuICAgICAgICAgICAgXVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHZpZXcoZWwsIHByb3BzLCBjaGlsZHJlbiwgbUNoaWxkcmVuKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBlbChcImgzXCIsIHt9LCBcIk1vY2tzXCIpLFxuICAgICAgICAgICAgbUNoaWxkcmVuLmluY2x1ZGVNb2Nrcy5yZW5kZXIoKSxcbiAgICAgICAgICAgIG1DaGlsZHJlbi5tb2NrTG9jYXRpb24ucmVuZGVyKCksXG4gICAgICAgICAgICBtQ2hpbGRyZW4ubW9ja0NvbGxlY3Rpb24ucmVuZGVyKClcbiAgICAgICAgXTtcbiAgICB9XG59O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy91aS9nYWlhLXBsdWdpbi13ZWJwYWNrL01vY2tDb25maWcuanMiXSwic291cmNlUm9vdCI6IiJ9