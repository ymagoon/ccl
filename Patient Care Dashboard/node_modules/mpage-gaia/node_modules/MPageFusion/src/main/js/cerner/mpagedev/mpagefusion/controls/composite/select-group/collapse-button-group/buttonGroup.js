"use strict";

import ButtonGroup from "../ButtonGroup";
import { EVENTS, NAMESPACE } from "./const";

/**
 * Builds the items for the ButtonGroup child of the CollapseButtonGroup.
 * @param {Array<Object>} items - The array of items to be present in the
 * ButtonGroup.
 * @param {Object} state - The current state of the CollapseButtonGroup.
 * @returns {Array<Object>} Items for the ButtonGroup.
 */
const makeButtonItems = (items, state) => items.map((item) => ({
    id: item.id,
    display: item.display,
    isSelected: state.selected.ids.includes(item.id)
}));

/**
 * Creates the ButtonGroup child for the CollapseButtonGroup.
 * @returns {ButtonGroup} The button group child.
 */
const makeButtonGroup = () =>
    new ButtonGroup({
        classNames: `${NAMESPACE}-buttonGroup`,
        selectionChangeEventName: EVENTS.BUTTON_GROUP.SELECTION_CHANGE
    });

export {
    makeButtonGroup,
    makeButtonItems
};
