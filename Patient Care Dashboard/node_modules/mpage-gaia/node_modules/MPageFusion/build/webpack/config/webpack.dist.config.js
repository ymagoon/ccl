"use strict";

const { baseConfig, jsLoaderConfig } = require("./webpack.common");
const { baseConfig: babelBaseConfig } = require("../helpers/babel");
const merge = require("webpack-merge");
const version = require("../../../package.json").version;
const { withLocalI18n } = require("../helpers/i18n");

const config = () => withLocalI18n(merge(
    baseConfig("dist/"),
    {
        module: {
            rules: [
                jsLoaderConfig("DIST", version, babelBaseConfig)
            ]
        }
    },
    {
        output: {
            libraryTarget: "umd"
        }
    }
));

module.exports = config;
