 ;;Solution_Test/script/PathNet -- Gen Lab/glb_errchk_equ_xaccn/glb_errchk_equ_xaccn.prg Turn on black mode

drop program GLB_ERRCHK_EQU_XACCN:dba go
create program GLB_ERRCHK_EQU_XACCN:dba

/* Error checking for time_window_back_minutes on 
   the equation_component table.
*/

select ;into "nl:"
   ec.time_window_minutes,
   ec.time_window_back_minutes
from 
   equation_component ec
where
   ec.cross_drawn_dt_tm_ind = 1 
   and ec.time_window_minutes > 0
   and ec.time_window_back_minutes = 0
with 
   nocounter

   call echo(" ")
   call echo(build("Qual =", curqual))
   call echo(" ")

;go to EXIT_SUB

if (curqual = 0)
   set request->setup_proc[1]->success_ind = 1
   set request->setup_proc[1]->error_msg = "Copy successful."
else
   set request->setup_proc[1]->success_ind = 0
   set request->setup_proc[1]->error_msg = "Copy failed.  Cross Drawn Date/Time must be manually reviewed."
endif

execute dm_add_upt_setup_proc_log

#EXIT_SUB
end
go

;Generated by GNU enscript 1.6.4.
