 ;;Solution_Test/script/PathNet -- Gen Lab/glb_errchk_order_laboratory/GLB_ERRCHK_ORDER_LABORATORY.PRG Turn on black mode

drop program GLB_ERRCHK_ORDER_LABORATORY:dba go
create program GLB_ERRCHK_ORDER_LABORATORY:dba

/* Error checking for route flag on order laboratory flag */
select into 'nl:'
  ol.resource_route_level_flag
 ,ol.order_id
from
  order_laboratory ol
plan ol
  where ol.order_id > 0
     and ol.resource_route_level_flag !=1
     and ol.resource_route_level_flag !=2
with
  nocounter

if (curqual != 0)
  set request->setup_proc[1]->success_ind = 0
  set request->setup_proc[1]->error_msg = "Found an ORDER_LABORATORY row with incorrect resource_route_level_flag."
else
  set request->setup_proc[1]->success_ind = 1
  set request->setup_proc[1]->error_msg = "All is okay with the ORDER_LABORATORY resource_route_level_flag."
endif

execute dm_add_upt_setup_proc_log

end
go

;Generated by GNU enscript 1.6.4.
