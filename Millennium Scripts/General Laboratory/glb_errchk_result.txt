 ;;Solution_Test/script/PathNet -- Gen Lab/glb_errchk_result/GLB_ERRCHK_RESULT.PRG Turn on black mode

drop program GLB_ERRCHK_RESULT:dba go
create program GLB_ERRCHK_RESULT:dba

/* Error checking for the result */
select into 'nl:'
  r.person_id
 ,r.order_id
 ,o.person_id
 ,o.order_id
 ,r.result_id

from
  result r
 ,dummyt d
 ,orders o

plan r
join d
  where d.seq = 1
join o
  where r.order_id = o.order_id
    and r.person_id = o.person_id

with
  nocounter
 ,outerjoin = d
 ,dontexist

if (curqual != 0)
  set request->setup_proc[1]->success_ind = 0
  set request->setup_proc[1]->error_msg = "Found a RESULT row incompatible with ORDERS row."
else
  set request->setup_proc[1]->success_ind = 1
  set request->setup_proc[1]->error_msg = "The RESULT table is compatible with the ORDERS table."
endif

execute dm_add_upt_setup_proc_log

end
go

;Generated by GNU enscript 1.6.4.
