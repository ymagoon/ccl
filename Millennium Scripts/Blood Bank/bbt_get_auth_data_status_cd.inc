 ;;Solution_Test/script/PathNet -- BB Transfusion/BBT_COMMONDATAMODEL_SCRIPTS/BBT_GET_AUTH_DATA_STATUS_CD.INC Turn on black mode

/*
 * Name:  bbt_get_auth_data_status_cd.inc
 *
 * Purpose:  Retrieve/save code_value for code_set = 8
 *              cdf_meaning = "AUTH" for setting
 *              data_status_cd when inserting code_value
 *              rows.  This value will be stored in
 *              auth_data_status_cd.
 *
 * Use:
 *  1.  Include this file in your program at some point
 *      prior to needing the "Authorized" data_status_cd,
 *      i.e., at the top of the program when initializing
 *      variables:
 *
 *          %i cclsource:bbt_get_auth_data_status_cd.inc
 *
 *  2.  When you need the "Authorized" data_status_cd
 *      refer to auth_data_status_cd, i.e.
 *
 *          cv.data_status_cd   = auth_data_status_cd
 *
 */

/*****************************************************
*         Authentication Verification
******************************************************/
set auth_data_status_cd             = 0.0

select  into "nl:"
    cv.code_value

from
    code_value cv

where
    cv.code_set                 =  8
      and   cv.cdf_meaning      = "AUTH"
      and   cv.active_ind       = 1
      and   cv.begin_effective_dt_tm <= cnvtdatetime(curdate, curtime3)
      and   cv.end_effective_dt_tm >= cnvtdatetime(curdate, curtime3)

detail
    auth_data_status_cd         = cv.code_value

with    nocounter

/* End bbt_get_auth_data_status_cd.inc */

;Generated by GNU enscript 1.6.4.
