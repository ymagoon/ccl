<?xml version="1.0" encoding="ASCII"?>
<EM:ExpertModule xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:EM="http:///com.cerner.expert/expertmodule/1.0.0" moduleName="BAYC_EOC_PLACE_ORDER">
  <information>
    <runtimeInformation versionString="001.006" externalFileName="BAYC_EOC_PLACE_ORDER" lastUpdated="2017-12-20T08:47:19.000-0500" validtionType="EXPIRED" title="BAYC_EOC_PLACE_ORDER" reconcileFlag="3" reconcileDate="2017-12-20T08:47:19.000-0500">
      <duration start="2017-06-26T00:00:00.000-0400" end="2100-06-26T23:59:59.000-0400"/>
      <updateUser userName="Wright , Terry"/>
    </runtimeInformation>
    <documentation author="ne82216" institution="" specialist="" purpose="Rule evokes on Behavioral Health order and evaluates encounter type+medical service+health plan and creates a result for EOC Admission Date/Time." explanation="Our Behavioral Health facilities (BCBH and CBH) receive state funding to provide care to patients in our service areas.  In order to justify this, as well as continued funding, we report Outcomes and Invoices to the Managing Entities for the State of FL.  These Managing Entities are CFBHN and Lutheran (LFS).  Part of the reporting related to this funding requires that a patient have an open &#x201c;Episode of Care&#x201d; (EOC) to coincide with the treatment being provided.  This Episode of Care starts with the date of the first service being provided, and ends when the patient has completed the treatment and is discharged from that treatment series (or program)."/>
  </information>
  <expertTemplates>
    <events>
      <event name=""/>
      <event name="ADDPROBLEM"/>
      <event name="ADDTOSCRATCHPAD"/>
      <event name="ALLERGY_EVENT"/>
      <event name="AP_ORDER_EVENT"/>
      <event name="BB_RESULT_EVENT"/>
      <event name="CHART_SERVER_EVENT"/>
      <event name="CLINICALTRIALSCREEN"/>
      <event name="CLINICAL_EVENT"/>
      <event name="CLOSECHART"/>
      <event name="COLLECTION_EVENT"/>
      <event name="DCP_CN_TASK_UPD"/>
      <event name="DCP_MODTASK_EVENT"/>
      <event name="DCP_PW_COND"/>
      <event name="DCP_PW_OUTCOME_EVENT"/>
      <event name="DIAGNOSIS_EVENT"/>
      <event name="EKS_FORMAT"/>
      <event name="EKS_SYNC_TEST01"/>
      <event name="EKS_TEST_02"/>
      <event name="EKS_TEST_EVENT"/>
      <event name="EKS_TEST_EVENT01"/>
      <event name="ENSURE_EVENT"/>
      <event name="EXPERT_EVENT"/>
      <event name="HEALTHE_EVENT"/>
      <event name="HEALTH_MAINT_QUAL_EVENT"/>
      <event name="HIM_ADD_REQUEST"/>
      <event name="HIM_ADMIT_EVENT"/>
      <event name="HIM_PATIENT_INFO_REQUEST"/>
      <event name="HIM_TEST_EVENT"/>
      <event name="HL7_EVENT"/>
      <event name="MB_EXPEDITE"/>
      <event name="MB_RESULT_EVENT"/>
      <event name="MB_SCRIPTED_WORKUPS"/>
      <event name="MB_SUSCEPTIBILITY"/>
      <event name="MDI_RESULT_EVENT"/>
      <event name="MEDCHARTACTIVATE"/>
      <event name="MPI_ADT"/>
      <event name="OPENCHART"/>
      <event name="ORDER_EVENT"/>
      <event name="ORDER_PRO_TEST1"/>
      <event name="PATIENT_EVENT"/>
      <event name="PCA_EXPERT_EVENT"/>
      <event name="Person_Transaction"/>
      <event name="PFT_Add_Account"/>
      <event name="PFT_ADJ_WO"/>
      <event name="pft_check_amount"/>
      <event name="PFT_VEHICLE"/>
      <event name="PNTFLEXREFRANGE"/>
      <event name="POWERPLANFLEX"/>
      <event name="PROBLEM_EVENT"/>
      <event name="PROFIT_1450_CLAIM_EVENT"/>
      <event name="PROFIT_1500_CLAIM_EVENT"/>
      <event name="PROVIDER_CHG_EVENT"/>
      <event name="PROVIDE_EVENT"/>
      <event name="PWRCHRT_ADD_ORDER"/>
      <event name="RESULT_EVENT"/>
      <event name="RESULT_EVENT_CSM"/>
      <event name="RESULT_EVENT_TEST"/>
      <event name="SCH_ACTION_EVENT"/>
      <event name="SIGNORDER"/>
      <event name="SN New Pref Card Created"/>
      <event name="SN_CASE_CHECK_IN_EVENT"/>
      <event name="SN_CASE_EVENT"/>
      <event name="SN_CASE_SCHEDULE_EVENT"/>
      <event name="SN_DOCUMENT_OPEN"/>
      <event name="SN_DOCUMENT_STATE"/>
      <event name="SN_FINALIZE_DOC_EVENT"/>
      <event name="SN_PROCEDURE_SCHEDULE"/>
      <event name="SN_SAVE_PROCEDURE"/>
      <event name="SN_TEST_EVENT"/>
      <event name="SOCIAL_HISTORY_ADD"/>
      <event name="SYNCHEVENT"/>
      <event name="TOCFLEX"/>
      <event name="TOUCHOPENCHART"/>
    </events>
    <evokeTemplates>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_ORDER_LIST_E" definition="an order ORD_METHOD OPT_ORDERS with status of OPT_ORDER_STATUS and an optional order detail of OPT_ORDER_DETAIL that OPT_QUALIFIER OPT_LIST" description="Orderable, status, attributes" eventDependency="//@expertTemplates/@events/@event.38" optimizable="true" reconcilable="true">
        <keywords>ORDER</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="ORD_METHOD" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" reconcileScript="N/A">
          <statements dependency="ORD_METHOD" statement="execute eks_t_db_ref_help &quot;HELPNEWORDMETHOD^&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDERS" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" dependency="ORD_METHOD" optimizable="true" reconcileScript="eks_p_ord_method_orders" keyFieldIndex="2">
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPCATALOGTYPE^&quot;, PAR1) go"/>
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDALPHA^&quot;, PAR1) go"/>
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDERS^&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDER_STATUS" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" optimizable="true" reconcileScript="eks_p_codeset_cki_refhelp  &quot;6004&quot;,&quot;CDF&quot;,&quot;*ANY&quot;" keyFieldIndex="2">
          <statements dependency="OPT_ORDER_STATUS" statement="execute eks_t_db_ref_help &quot;HELPSTATUS&quot; go&#xD;&#xA;;eks_codeset_cki_refhelp &quot;6004&quot;,&quot;CDF&quot;,&quot;*ANY&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDER_DETAIL" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" reconcileScript="eks_p_order_detail" keyFieldIndex="2">
          <statements dependency="OPT_ORDER_DETAIL" statement="execute eks_t_db_ref_help &quot;HELPDETAILSSEL^USEREQUEST&quot; go"/>
          <statements dependency="OPT_ORDER_DETAIL" statement="execute eks_t_db_ref_help ConCat(&quot;HELPDETAILS^1^&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_QUALIFIER" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" dependency="OPT_ORDER_DETAIL" reconcileScript="eks_p_qualifier &quot;1&quot;" keyFieldIndex="2">
          <statements dependency="OPT_QUALIFIER" statement="execute eks_t_db_ref_help ConCat(&quot;HELPQUALIFIERS^&quot;, PAR1)  go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_LIST" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" dependency="OPT_ORDER_DETAIL" optimizable="true" reconcileScript="eks_p_list" keyFieldIndex="2">
          <statements dependency="OPT_LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST1^&quot;, PAR1) go"/>
          <statements dependency="OPT_LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST2^&quot;, PAR1) go"/>
        </arguments>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_DEBUGEKM_E" definition="Turn debug messaging DEBUG_STATUS" description="Turn debug messaging on or off" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.4 //@expertTemplates/@events/@event.5 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.25 //@expertTemplates/@events/@event.26 //@expertTemplates/@events/@event.27 //@expertTemplates/@events/@event.30 //@expertTemplates/@events/@event.31 //@expertTemplates/@events/@event.32 //@expertTemplates/@events/@event.33 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.44 //@expertTemplates/@events/@event.43 //@expertTemplates/@events/@event.46 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.56 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.60 //@expertTemplates/@events/@event.61 //@expertTemplates/@events/@event.62 //@expertTemplates/@events/@event.63 //@expertTemplates/@events/@event.64 //@expertTemplates/@events/@event.65 //@expertTemplates/@events/@event.66 //@expertTemplates/@events/@event.67 //@expertTemplates/@events/@event.68 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73 //@expertTemplates/@events/@event.45" reconcilable="true">
        <keywords>UTILITY</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="DEBUG_STATUS" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" reconcileScript="N/A" keyFieldIndex="2">
          <statements dependency="DEBUG_STATUS" statement="select debug_status = if (d.seq =  1) &quot;On for subsequent Evoke Templates&quot;&#xD;&#xA; elseif (d.seq = 2) &quot;Off for subsequent Evoke Templates&quot;&#xD;&#xA; elseif (d.seq = 3) &quot;On for all Logic Templates&quot;&#xD;&#xA; elseif (d.seq = 4) &quot;On for all Action Templates&quot;&#xD;&#xA; elseif (d.seq = 5) &quot;On for all Logic and Action Templates&quot;&#xD;&#xA; elseif (d.seq = 6) &quot;To FullAudit for this module only&quot;&#xD;&#xA; elseif (d.seq = 7) &quot;Additional EKSDATA logging&quot;&#xD;&#xA;ENDIF,&#xD;&#xA;_hidden = if (d.seq = 1) 1&#xD;&#xA; elseif (d.seq=2) 0&#xD;&#xA; elseif (d.seq=3) 2&#xD;&#xA; elseif (d.seq=4) 3&#xD;&#xA; elseif (d.seq=5) 4&#xD;&#xA; elseif (d.seq=6) 5&#xD;&#xA; elseif (d.seq=7) 6&#xD;&#xA;endif&#xD;&#xA;&#xD;&#xA;FROM (DUMMYT D WITH SEQ = VALUE(7))"/>
        </arguments>
      </templateDefinitions>
    </evokeTemplates>
    <logicTemplates>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_LOGIC_TRUE" definition="LOGIC is true" description="Always true" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.23 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.56 //@expertTemplates/@events/@event.58 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73" reconcilable="true">
        <keywords>UTILITY</keywords>
        <arguments name="LOGIC" dataType="CHARACTER" reconcileScript="N/A">
          <defaultValue xsi:type="EM:StringValue" value="@quot;LOGIC@quot;"/>
        </arguments>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_ORDER_LIST_INCOMING_L" definition="the triggering request contains an order ORD_METHOD OPT_ORDERS with status of OPT_ORDER_STATUS and an optional order detail of OPT_ORDER_DETAIL that OPT_QUALIFIER OPT_LIST" description="Incoming orderable, status, attributes" eventDependency="//@expertTemplates/@events/@event.38" optimizable="true" reconcilable="true">
        <keywords>ORDER</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="ORD_METHOD" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" reconcileScript="N/A">
          <statements dependency="ORD_METHOD" statement="execute eks_t_db_ref_help &quot;HELPNEWORDMETHOD^&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDERS" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" dependency="ORD_METHOD" optimizable="true" reconcileScript="eks_p_ord_method_orders" keyFieldIndex="2">
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPCATALOGTYPE^&quot;, PAR1) go&#xD;&#xA;"/>
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDALPHA^&quot;, PAR1) go"/>
          <statements dependency="OPT_ORDERS" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDERS^&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDER_STATUS" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" optimizable="true" reconcileScript="eks_p_codeset_cki_refhelp  &quot;6004&quot;,&quot;CDF&quot;,&quot;*ANY&quot;" keyFieldIndex="2">
          <statements dependency="OPT_ORDER_STATUS" statement="execute eks_t_db_ref_help &quot;HELPSTATUS&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_ORDER_DETAIL" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" reconcileScript="eks_p_order_detail" keyFieldIndex="2">
          <statements dependency="OPT_ORDER_DETAIL" statement="execute eks_t_db_ref_help &quot;HELPDETAILSSEL^USEREQUEST&quot; go"/>
          <statements dependency="OPT_ORDER_DETAIL" statement="execute eks_t_db_ref_help ConCat(&quot;HELPDETAILS^1^&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_QUALIFIER" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" dependency="OPT_ORDER_DETAIL" reconcileScript="eks_p_qualifier &quot;1&quot;" keyFieldIndex="2">
          <statements dependency="OPT_QUALIFIER" statement="execute eks_t_db_ref_help ConCat(&quot;HELPQUALIFIERS^&quot;, PAR1)  go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_LIST" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" dependency="OPT_ORDER_DETAIL" optimizable="true" reconcileScript="eks_p_list" keyFieldIndex="2">
          <statements dependency="OPT_LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST1^&quot;, PAR1) go"/>
          <statements dependency="OPT_LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST2^&quot;, PAR1) go"/>
        </arguments>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_ORDERS_DETAIL_L" definition="the order detail  ORDER_DETAIL QUALIFIER  LIST for any order(s) in LINK" description="Orderable attributes" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.4 //@expertTemplates/@events/@event.5 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.31 //@expertTemplates/@events/@event.33 //@expertTemplates/@events/@event.34 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73" optimizable="true" reconcilable="true">
        <keywords>ORDER</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="ORDER_DETAIL" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" reconcileScript="eks_p_order_detail" keyFieldIndex="2">
          <statements dependency="ORDER_DETAIL" statement="execute eks_t_db_ref_help &quot;HELPDETAILSSELDB^USEREQUEST&quot; go"/>
          <statements dependency="ORDER_DETAIL" statement="execute eks_t_db_ref_help ConCat(&quot;HELPDETAILS^2^&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="QUALIFIER" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" dependency="ORDER_DETAIL" reconcileScript="eks_p_qualifier &quot;2&quot;" keyFieldIndex="2">
          <statements dependency="QUALIFIER" statement="execute eks_t_db_ref_help ConCat(&quot;HELPQUALIFIERS^&quot;, PAR1)  go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="LIST" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" dependency="ORDER_DETAIL" optimizable="true" reconcileScript="eks_p_list" keyFieldIndex="2">
          <statements dependency="LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST1^&quot;, PAR1) go"/>
          <statements dependency="LIST" statement="execute eks_t_db_ref_help ConCat(&quot;HELPORDDETLIST2^&quot;, PAR1) go"/>
        </arguments>
        <arguments name="LINK" dataType="LINK" controlType="TEMPLATE_REFERENCE" required="true" reconcileScript="N/A"/>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_CALC_SAVE_L" definition="EXPRESSION" description="Create a value to be used by subsequent templates" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.5 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.56 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73">
        <keywords>UTILITY, LOG_RETVAL</keywords>
        <arguments name="EXPRESSION" dataType="CHARACTER" controlType="TEXT_MULTI_LINE" required="true"/>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_EVAL_L" definition="EXPRESSION" description="Freetext CCL evaluation" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.5 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.23 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.56 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73">
        <keywords>UTILITY</keywords>
        <arguments name="EXPRESSION" dataType="CHARACTER" controlType="TEXT_MULTI_LINE" required="true"/>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_CE_RESULT_MOST_RECENT_L" definition="the most recent result for EVENT_SET_NAME is EVALUATION VALUE1 and OPT_VALUE2 for the same encounter as OPT_LINK over the last OPT_TIME_NUM OPT_TIME_UNIT" description="Most recent numeric result value" recommeded="CAUTION" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73" optimizable="true" reconcilable="true">
        <keywords>CLINICALEVENT</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="EVENT_SET_NAME" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" required="true" optimizable="true" reconcileScript="eks_p_event_set_name" keyFieldIndex="2">
          <statements dependency="EVENT_SET_NAME" statement="EKS_abc_refhelp &quot; &quot; go&#xD;&#xA;"/>
          <statements dependency="EVENT_SET_NAME" statement="eks_event_set_name_refhelp PAR1, &quot;EVENT_SET&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:FixedListArgument" name="EVALUATION" dataType="CHARACTER" required="true" reconcileScript="N/A">
          <stringTable>
            <column value="equal to"/>
            <column value="alpha or numeric"/>
          </stringTable>
          <stringTable>
            <column value="not equal to"/>
            <column value="alpha or numeric"/>
          </stringTable>
          <stringTable>
            <column value="less than"/>
            <column value="numeric only"/>
          </stringTable>
          <stringTable>
            <column value="less than or equal to"/>
            <column value="numeric only"/>
          </stringTable>
          <stringTable>
            <column value="greater than"/>
            <column value="numeric only"/>
          </stringTable>
          <stringTable>
            <column value="greater than or equal to"/>
            <column value="numeric only"/>
          </stringTable>
          <stringTable>
            <column value="between"/>
            <column value="numeric only"/>
          </stringTable>
          <stringTable>
            <column value="outside"/>
            <column value="numeric only"/>
          </stringTable>
        </arguments>
        <arguments name="VALUE1" dataType="CHARACTER" required="true" reconcileScript="N/A"/>
        <arguments name="OPT_VALUE2" dataType="CHARACTER" reconcileScript="N/A"/>
        <arguments name="OPT_LINK" dataType="LINK" controlType="TEMPLATE_REFERENCE" reconcileScript="N/A"/>
        <arguments name="OPT_TIME_NUM" reconcileScript="N/A"/>
        <arguments xsi:type="EM:FixedListArgument" name="OPT_TIME_UNIT" dataType="CHARACTER" reconcileScript="N/A">
          <stringTable>
            <column value="minutes"/>
            <column value="minutes"/>
          </stringTable>
          <stringTable>
            <column value="hours"/>
            <column value="hours"/>
          </stringTable>
          <stringTable>
            <column value="days"/>
            <column value="days"/>
          </stringTable>
        </arguments>
      </templateDefinitions>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_ENCOUNTER_DETAIL_L" definition="the patient's ENC_DETAIL QUAL DETAIL_VALUE for the same encounter as OPT_LINK" description="Encounter attributes" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.4 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.10 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.33 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.47 //@expertTemplates/@events/@event.48 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.55 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.72 //@expertTemplates/@events/@event.73" optimizable="true">
        <keywords>ENCOUNTER</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="ENC_DETAIL" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" keyFieldIndex="2">
          <statements dependency="ENC_DETAIL" statement="execute EKS_T_ENC_DETAIL_REFHELP &quot;HELP&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="QUAL" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" dependency="ENC_DETAIL" keyFieldIndex="2">
          <statements dependency="QUAL" statement="execute EKS_T_ENC_DETAIL_REFHELP concat(&quot;QUAL&quot;, PAR1) go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="DETAIL_VALUE" dataType="CHARACTER" controlType="LISTBOX" validationType="READ_ONLY" required="true" dependency="ENC_DETAIL" optimizable="true" keyFieldIndex="2">
          <statements dependency="DETAIL_VALUE" statement="execute EKS_T_ENC_DETAIL_REFHELP concat(&quot;VALUE&quot;, PAR1) go"/>
        </arguments>
        <arguments name="OPT_LINK" dataType="LINK" controlType="TEMPLATE_REFERENCE"/>
      </templateDefinitions>
    </logicTemplates>
    <actionTemplates>
      <templateDefinitions xsi:type="EM:ExpertTemplate" name="EKS_CE_CREATE_DATE_CE_A" definition="Create a STATUS, EVENT_NAME using ANCHOR_DT, offset OPT_OFFSET_DAY days, OPT_OFFSET_HOUR hours and OPT_OFFSET_MIN minutes on the same encounter as LINK with OPT_COMMENT_TYPE of OPT_COMMENT and RESEND send this event back through Discern Expert. OPT_INHERIT_DYN_LABEL inherit the dynamic label, if one exisits.  " description="Create a date clinical event" eventDependency="//@expertTemplates/@events/@event.1 //@expertTemplates/@events/@event.2 //@expertTemplates/@events/@event.3 //@expertTemplates/@events/@event.7 //@expertTemplates/@events/@event.8 //@expertTemplates/@events/@event.9 //@expertTemplates/@events/@event.12 //@expertTemplates/@events/@event.15 //@expertTemplates/@events/@event.22 //@expertTemplates/@events/@event.35 //@expertTemplates/@events/@event.37 //@expertTemplates/@events/@event.38 //@expertTemplates/@events/@event.40 //@expertTemplates/@events/@event.41 //@expertTemplates/@events/@event.49 //@expertTemplates/@events/@event.53 //@expertTemplates/@events/@event.59 //@expertTemplates/@events/@event.70 //@expertTemplates/@events/@event.71 //@expertTemplates/@events/@event.73" optimizable="true" reconcilable="true">
        <keywords>CLINICALEVENT</keywords>
        <arguments xsi:type="EM:ReferentialArgument" name="STATUS" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" optimizable="true" reconcileScript="eks_p_codeset_cki_refhelp &quot;8&quot;,&quot;CKI&quot;,&quot;&quot;" keyFieldIndex="2">
          <statements dependency="STATUS" statement="eks_codeset_cki_refhelp &quot;8&quot;,&quot;CKI&quot;,&quot;&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="EVENT_NAME" dataType="CHARACTER" controlType="REFERENTIAL" validationType="READ_ONLY" required="true" optimizable="true" reconcileScript="eks_p_event_name" keyFieldIndex="2">
          <statements dependency="EVENT_NAME" statement="EKS_ABC_REFHELP &quot;&quot; GO&#xD;&#xA;"/>
          <statements dependency="EVENT_NAME" statement="eks_t_create_ce_refhelp PAR1, &quot;EVENT_DATE&quot; go"/>
        </arguments>
        <arguments xsi:type="EM:ReferentialArgument" name="ANCHOR_DT" dataType="CHARACTER" controlType="REFERENTIAL" validationType="REFERENTIAL" required="true" reconcileScript="N/A">
          <statements dependency="ANCHOR_DT" statement="execute eks_t_anchor_refhelp go"/>
        </arguments>
        <arguments name="OPT_OFFSET_DAY" dataType="CHARACTER" reconcileScript="N/A"/>
        <arguments name="OPT_OFFSET_HOUR" dataType="CHARACTER" reconcileScript="N/A"/>
        <arguments name="OPT_OFFSET_MIN" dataType="CHARACTER" reconcileScript="N/A"/>
        <arguments name="LINK" dataType="LINK" controlType="TEMPLATE_REFERENCE" required="true" reconcileScript="N/A"/>
        <arguments xsi:type="EM:ReferentialArgument" name="OPT_COMMENT_TYPE" dataType="CHARACTER" controlType="REFERENTIAL" validationType="REFERENTIAL" optimizable="true" reconcileScript="eks_p_codeset_cki_refhelp &quot;14&quot;, &quot;CKI&quot;, &quot;&quot;" keyFieldIndex="2">
          <statements dependency="OPT_COMMENT_TYPE" statement="eks_codeset_cki_refhelp &quot;14&quot;, &quot;CKI&quot;, &quot;&quot; go"/>
        </arguments>
        <arguments name="OPT_COMMENT" dataType="CHARACTER" controlType="TEXT_MULTI_LINE" reconcileScript="N/A"/>
        <arguments xsi:type="EM:FixedListArgument" name="RESEND" dataType="CHARACTER" required="true" reconcileScript="N/A">
          <defaultValue xsi:type="EM:StringValue" value="do not"/>
          <stringTable>
            <column value="do not"/>
            <column value="do not"/>
          </stringTable>
          <stringTable>
            <column value="do"/>
            <column value="CAUTION (see template documentation)"/>
          </stringTable>
        </arguments>
        <arguments xsi:type="EM:FixedListArgument" name="OPT_INHERIT_DYN_LABEL" dataType="CHARACTER" validationType="READ_ONLY" reconcileScript="N/A">
          <defaultValue xsi:type="EM:StringValue" value="Do not"/>
          <stringTable>
            <column value="Do"/>
            <column value="do inherit dyanmic_label_id"/>
          </stringTable>
          <stringTable>
            <column value="Do not"/>
            <column value="don't inherit dyanmic_label_id"/>
          </stringTable>
        </arguments>
      </templateDefinitions>
    </actionTemplates>
  </expertTemplates>
  <ruleDefinition>
    <evokeSection>
      <evokes evokeEvent="//@expertTemplates/@events/@event.38">
        <logicExpression xsi:type="EM:InfixExpression">
          <leftExpression xsi:type="EM:Antecedent" id="E1" template="EKS_ORDER_LIST_E">
            <facts argument="ORD_METHOD">
              <value xsi:type="EM:StringValue" value="for any orderable"/>
            </facts>
            <facts argument="OPT_ORDERS">
              <value xsi:type="EM:StringValue"/>
            </facts>
            <facts argument="OPT_ORDER_STATUS">
              <value xsi:type="EM:ListValue">
                <values xsi:type="EM:ListValue">
                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                    <customValue xsi:type="EM:StringValue" value="CDF6004:COMPLETED"/>
                  </values>
                  <values xsi:type="EM:StringValue" value="Completed"/>
                </values>
              </value>
            </facts>
            <facts argument="OPT_ORDER_DETAIL">
              <value xsi:type="EM:ListValue">
                <values xsi:type="EM:ListValue">
                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                    <customValue xsi:type="EM:StringValue" value="I|ol.catalogTypeCd|1|2|CDF6000"/>
                  </values>
                  <values xsi:type="EM:StringValue" value="Catalog Type"/>
                </values>
              </value>
            </facts>
            <facts argument="OPT_QUALIFIER">
              <value xsi:type="EM:ListValue">
                <values xsi:type="EM:ListValue">
                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                    <customValue xsi:type="EM:StringValue" value="in"/>
                  </values>
                  <values xsi:type="EM:StringValue" value="is listed in"/>
                </values>
              </value>
            </facts>
            <facts argument="OPT_LIST">
              <value xsi:type="EM:ListValue">
                <values xsi:type="EM:ListValue">
                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                    <customValue xsi:type="EM:StringValue" value="CDF6000:BHACTIVITY"/>
                  </values>
                  <values xsi:type="EM:StringValue" value="Behavioral Health"/>
                  <values xsi:type="EM:ListValue">
                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                      <customValue xsi:type="EM:StringValue" value="I|ol.catalogTypeCd|1|2|CDF6000"/>
                    </values>
                  </values>
                </values>
              </value>
            </facts>
          </leftExpression>
          <rightExpression xsi:type="EM:Antecedent" id="E2" template="EKS_DEBUGEKM_E">
            <facts argument="DEBUG_STATUS">
              <value xsi:type="EM:ListValue">
                <values xsi:type="EM:ListValue">
                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                    <customValue xsi:type="EM:StringValue" value="5"/>
                  </values>
                  <values xsi:type="EM:StringValue" value="To FullAudit for this module only"/>
                </values>
              </value>
            </facts>
          </rightExpression>
        </logicExpression>
      </evokes>
    </evokeSection>
    <logicSection>
      <logicExpression xsi:type="EM:InfixExpression">
        <leftExpression xsi:type="EM:Antecedent" alias="encounter" id="L1" template="EKS_LOGIC_TRUE">
          <facts argument="LOGIC">
            <value xsi:type="EM:StringValue" value="@quot;LOGIC@quot;"/>
          </facts>
        </leftExpression>
        <rightExpression xsi:type="EM:InfixExpression">
          <leftExpression xsi:type="EM:GroupExpression">
            <expression xsi:type="EM:InfixExpression">
              <leftExpression xsi:type="EM:Antecedent" alias="orders_inc" id="L2" template="EKS_ORDER_LIST_INCOMING_L">
                <facts argument="ORD_METHOD">
                  <value xsi:type="EM:StringValue" value="for any orderable"/>
                </facts>
                <facts argument="OPT_ORDERS">
                  <value xsi:type="EM:StringValue"/>
                </facts>
                <facts argument="OPT_ORDER_STATUS">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="CDF6004:COMPLETED"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="Completed"/>
                    </values>
                  </value>
                </facts>
                <facts argument="OPT_ORDER_DETAIL">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="I|ol.catalogTypeCd|1|2|CDF6000"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="Catalog Type"/>
                    </values>
                  </value>
                </facts>
                <facts argument="OPT_QUALIFIER">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="in"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="is listed in"/>
                    </values>
                  </value>
                </facts>
                <facts argument="OPT_LIST">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="CDF6000:BHACTIVITY"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="Behavioral Health"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="I|ol.catalogTypeCd|1|2|CDF6000"/>
                        </values>
                      </values>
                    </values>
                  </value>
                </facts>
              </leftExpression>
              <rightExpression xsi:type="EM:InfixExpression">
                <leftExpression xsi:type="EM:Antecedent" alias="inc_ord_start" id="L3" template="EKS_ORDERS_DETAIL_L">
                  <facts argument="ORDER_DETAIL">
                    <value xsi:type="EM:ListValue">
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="X|12620.0|1|9|0|REQSTARTDTTM|Q"/>
                        </values>
                        <values xsi:type="EM:StringValue" value="Requested Start Date/Time,"/>
                      </values>
                    </value>
                  </facts>
                  <facts argument="QUALIFIER">
                    <value xsi:type="EM:ListValue">
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="def"/>
                        </values>
                        <values xsi:type="EM:StringValue" value="is defined (exists)"/>
                      </values>
                    </value>
                  </facts>
                  <facts argument="LIST">
                    <value xsi:type="EM:StringValue"/>
                  </facts>
                  <facts argument="LINK">
                    <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@rightExpression/@leftExpression/@expression/@leftExpression"/>
                  </facts>
                </leftExpression>
                <rightExpression xsi:type="EM:InfixExpression">
                  <leftExpression xsi:type="EM:Antecedent" alias="ord_start_dt" id="L4" template="EKS_CALC_SAVE_L">
                    <facts argument="EXPRESSION">
                      <value xsi:type="EM:StringValue" value="select from order_detail od where od.order_id = trigger_orderid and od.oe_field_meaning_id = 51 order by od.oe_field_dt_tm_value detail log_misc1= format(cnvtdatetime(od.oe_field_dt_tm_value), &quot;DD-MMM-YYYY HH:MM:SS;;Q&quot;) go"/>
                    </facts>
                  </leftExpression>
                  <rightExpression xsi:type="EM:Antecedent" alias="start_dt_found" id="L5" template="EKS_EVAL_L">
                    <facts argument="EXPRESSION">
                      <value xsi:type="EM:StringValue" value="&quot;@MISC:{ord_start_dt}&quot; != &quot;No value&quot;"/>
                    </facts>
                  </rightExpression>
                </rightExpression>
              </rightExpression>
            </expression>
          </leftExpression>
          <rightExpression xsi:type="EM:InfixExpression">
            <leftExpression xsi:type="EM:PrefixExpression">
              <expression xsi:type="EM:Antecedent" id="L6" template="EKS_ORDER_LIST_INCOMING_L">
                <facts argument="ORD_METHOD">
                  <value xsi:type="EM:StringValue" value="whose primary mnemonic is"/>
                </facts>
                <facts argument="OPT_ORDERS">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="2746155951.0"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="BH_PSY SCHOOL IEP PROGRAM PER 15 MIN PROF"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="2745689495.0|whose primary mnemonic is"/>
                        </values>
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="B|2745689495.0|whose primary mnemonic is"/>
                        </values>
                      </values>
                    </values>
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="2828024877.0"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="BH_PSY TRANSPORT PER MILE PROF"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="2745689495.0|whose primary mnemonic is"/>
                        </values>
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="B|2745689495.0|whose primary mnemonic is"/>
                        </values>
                      </values>
                    </values>
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="2746111953.0"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="BH_PSY TCRANIAL MAGN STIM TX DELI PROF"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="2745689495.0|whose primary mnemonic is"/>
                        </values>
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="B|2745689495.0|whose primary mnemonic is"/>
                        </values>
                      </values>
                    </values>
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="2746118863.0"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="BH_PSY TCRAN MAGN STIM REDETEMINE PROF"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="2745689495.0|whose primary mnemonic is"/>
                        </values>
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="B|2745689495.0|whose primary mnemonic is"/>
                        </values>
                      </values>
                    </values>
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="2745959517.0"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="BH_PSY TCRANIAL MAGN STIM TX PLAN PROF"/>
                      <values xsi:type="EM:ListValue">
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="2745689495.0|whose primary mnemonic is"/>
                        </values>
                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                          <customValue xsi:type="EM:StringValue" value="B|2745689495.0|whose primary mnemonic is"/>
                        </values>
                      </values>
                    </values>
                  </value>
                </facts>
                <facts argument="OPT_ORDER_STATUS">
                  <value xsi:type="EM:ListValue">
                    <values xsi:type="EM:ListValue">
                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                        <customValue xsi:type="EM:StringValue" value="CDF6004:ORDERED"/>
                      </values>
                      <values xsi:type="EM:StringValue" value="Ordered"/>
                    </values>
                  </value>
                </facts>
                <facts argument="OPT_ORDER_DETAIL">
                  <value xsi:type="EM:StringValue"/>
                </facts>
                <facts argument="OPT_QUALIFIER">
                  <value xsi:type="EM:StringValue"/>
                </facts>
                <facts argument="OPT_LIST">
                  <value xsi:type="EM:StringValue"/>
                </facts>
              </expression>
            </leftExpression>
            <rightExpression xsi:type="EM:InfixExpression">
              <leftExpression xsi:type="EM:PrefixExpression">
                <expression xsi:type="EM:GroupExpression">
                  <expression xsi:type="EM:InfixExpression" operator="OR">
                    <leftExpression xsi:type="EM:Antecedent" id="L7" template="EKS_CE_RESULT_MOST_RECENT_L">
                      <facts argument="EVENT_SET_NAME">
                        <value xsi:type="EM:ListValue">
                          <values xsi:type="EM:ListValue">
                            <values xsi:type="EM:CustomValue" hideDisplay="true">
                              <customValue xsi:type="EM:StringValue" value="EOC Admission Date/Time"/>
                            </values>
                            <values xsi:type="EM:StringValue" value="EOC Admission Date/Time"/>
                            <values xsi:type="EM:ListValue">
                              <values xsi:type="EM:CustomValue" hideDisplay="true">
                                <customValue xsi:type="EM:StringValue" value="E"/>
                              </values>
                            </values>
                          </values>
                        </value>
                      </facts>
                      <facts argument="EVALUATION">
                        <value xsi:type="EM:StringValue" value="not equal to"/>
                      </facts>
                      <facts argument="VALUE1">
                        <value xsi:type="EM:StringValue" value="anyvalue"/>
                      </facts>
                      <facts argument="OPT_VALUE2">
                        <value xsi:type="EM:StringValue"/>
                      </facts>
                      <facts argument="OPT_LINK">
                        <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                      </facts>
                      <facts argument="OPT_TIME_NUM"/>
                      <facts argument="OPT_TIME_UNIT">
                        <value xsi:type="EM:StringValue"/>
                      </facts>
                    </leftExpression>
                    <rightExpression xsi:type="EM:Antecedent" id="L8" template="EKS_CE_RESULT_MOST_RECENT_L">
                      <facts argument="EVENT_SET_NAME">
                        <value xsi:type="EM:ListValue">
                          <values xsi:type="EM:ListValue">
                            <values xsi:type="EM:CustomValue" hideDisplay="true">
                              <customValue xsi:type="EM:StringValue" value="EOC Discharge Date/Time"/>
                            </values>
                            <values xsi:type="EM:StringValue" value="EOC Discharge Date/Time"/>
                            <values xsi:type="EM:ListValue">
                              <values xsi:type="EM:CustomValue" hideDisplay="true">
                                <customValue xsi:type="EM:StringValue" value="E"/>
                              </values>
                            </values>
                          </values>
                        </value>
                      </facts>
                      <facts argument="EVALUATION">
                        <value xsi:type="EM:StringValue" value="not equal to"/>
                      </facts>
                      <facts argument="VALUE1">
                        <value xsi:type="EM:StringValue" value="anyvalue"/>
                      </facts>
                      <facts argument="OPT_VALUE2">
                        <value xsi:type="EM:StringValue"/>
                      </facts>
                      <facts argument="OPT_LINK">
                        <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                      </facts>
                      <facts argument="OPT_TIME_NUM"/>
                      <facts argument="OPT_TIME_UNIT">
                        <value xsi:type="EM:StringValue"/>
                      </facts>
                    </rightExpression>
                  </expression>
                </expression>
              </leftExpression>
              <rightExpression xsi:type="EM:InfixExpression">
                <leftExpression xsi:type="EM:GroupExpression">
                  <expression xsi:type="EM:InfixExpression">
                    <leftExpression xsi:type="EM:Antecedent" alias="findplan" id="L9" template="EKS_CALC_SAVE_L">
                      <facts argument="EXPRESSION">
                        <value xsi:type="EM:StringValue" value="select from person p,encounter e,person_plan_reltn ppr,health_plan hp plan p where p.person_id = trigger_personid join e where p.person_id = e.person_id and e.encntr_id = trigger_encntrid join ppr where ppr.person_id = p.person_id join hp where hp.health_plan_id = ppr.health_plan_id and hp.plan_name_key in ('BHMCDPSYCHCARE','CATPASCO','CFBHN','LSFRFP','BCBHLSF','BNETCFBHN','FACTCFBHN','FORENSICCFBHN','FORENSICLSF','MATCFBHN','PASCOFIT','UFC','PDCFBHN','PATHCFBHN','TANFCFBHN','VCFN') and hp.active_ind = 1 head report log_misc1 = &quot;No plan found&quot; detail log_misc1 = hp.plan_name_key with nocounter, nullreport go"/>
                      </facts>
                    </leftExpression>
                    <rightExpression xsi:type="EM:Antecedent" alias="planfound" id="L10" template="EKS_EVAL_L">
                      <facts argument="EXPRESSION">
                        <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; != &quot;No plan found&quot;"/>
                      </facts>
                    </rightExpression>
                  </expression>
                </leftExpression>
                <rightExpression xsi:type="EM:GroupExpression">
                  <expression xsi:type="EM:InfixExpression" operator="OR">
                    <leftExpression xsi:type="EM:GroupExpression">
                      <expression xsi:type="EM:GroupExpression">
                        <expression xsi:type="EM:InfixExpression">
                          <leftExpression xsi:type="EM:Antecedent" id="L11" template="EKS_ENCOUNTER_DETAIL_L">
                            <facts argument="ENC_DETAIL">
                              <value xsi:type="EM:ListValue">
                                <values xsi:type="EM:ListValue">
                                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                                    <customValue xsi:type="EM:StringValue" value="ENCNTR_TYPE_CD\71"/>
                                  </values>
                                  <values xsi:type="EM:StringValue" value="Encounter Type"/>
                                </values>
                              </value>
                            </facts>
                            <facts argument="QUAL">
                              <value xsi:type="EM:ListValue">
                                <values xsi:type="EM:ListValue">
                                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                                    <customValue xsi:type="EM:StringValue" value="="/>
                                  </values>
                                  <values xsi:type="EM:StringValue" value="is listed"/>
                                </values>
                              </value>
                            </facts>
                            <facts argument="DETAIL_VALUE">
                              <value xsi:type="EM:ListValue">
                                <values xsi:type="EM:ListValue">
                                  <values xsi:type="EM:CustomValue" hideDisplay="true">
                                    <customValue xsi:type="EM:StringValue" value="2716049777"/>
                                  </values>
                                  <values xsi:type="EM:StringValue" value="RECURRINGMH"/>
                                </values>
                              </value>
                            </facts>
                            <facts argument="OPT_LINK">
                              <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                            </facts>
                          </leftExpression>
                          <rightExpression xsi:type="EM:InfixExpression">
                            <leftExpression xsi:type="EM:Antecedent" id="L12" template="EKS_ENCOUNTER_DETAIL_L">
                              <facts argument="ENC_DETAIL">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="MED_SERVICE_CD\34"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="Medical Service"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="QUAL">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="="/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="is listed"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="DETAIL_VALUE">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716607761"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHCASEMANAGEMENT"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716608703"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHCRISISSUPPORT"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716609521"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHFACT"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2750638177"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHGROUP"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2741857163"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHINDIVIDUAL"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716615537"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHMEDICALSERVICES"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2830177473"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHPATH"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716619865"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHSUPPORTEDHOUSINGLIVING"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716621079"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHTANF"/>
                                  </values>
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2770496405"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="BHUFC"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="OPT_LINK">
                                <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                              </facts>
                            </leftExpression>
                            <rightExpression xsi:type="EM:GroupExpression">
                              <expression xsi:type="EM:InfixExpression" operator="OR">
                                <leftExpression xsi:type="EM:Antecedent" alias="just for testing" id="L13" template="EKS_EVAL_L">
                                  <facts argument="EXPRESSION">
                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BHMCDPSYCHCARE&quot;"/>
                                  </facts>
                                </leftExpression>
                                <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                  <leftExpression xsi:type="EM:Antecedent" id="L14" template="EKS_EVAL_L">
                                    <facts argument="EXPRESSION">
                                      <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BCBHLSF&quot;"/>
                                    </facts>
                                  </leftExpression>
                                  <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                    <leftExpression xsi:type="EM:Antecedent" id="L15" template="EKS_EVAL_L">
                                      <facts argument="EXPRESSION">
                                        <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BNETCFBHN&quot;"/>
                                      </facts>
                                    </leftExpression>
                                    <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                      <leftExpression xsi:type="EM:Antecedent" id="L16" template="EKS_EVAL_L">
                                        <facts argument="EXPRESSION">
                                          <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;CFBHN&quot;"/>
                                        </facts>
                                      </leftExpression>
                                      <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                        <leftExpression xsi:type="EM:Antecedent" id="L17" template="EKS_EVAL_L">
                                          <facts argument="EXPRESSION">
                                            <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FACTCFBHN&quot;"/>
                                          </facts>
                                        </leftExpression>
                                        <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                          <leftExpression xsi:type="EM:Antecedent" id="L18" template="EKS_EVAL_L">
                                            <facts argument="EXPRESSION">
                                              <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FORENSICCFBHN&quot;"/>
                                            </facts>
                                          </leftExpression>
                                          <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                            <leftExpression xsi:type="EM:Antecedent" id="L19" template="EKS_EVAL_L">
                                              <facts argument="EXPRESSION">
                                                <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FORENSICLSF&quot;"/>
                                              </facts>
                                            </leftExpression>
                                            <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                              <leftExpression xsi:type="EM:Antecedent" id="L20" template="EKS_EVAL_L">
                                                <facts argument="EXPRESSION">
                                                  <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PATHCFBHN&quot;"/>
                                                </facts>
                                              </leftExpression>
                                              <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                                <leftExpression xsi:type="EM:Antecedent" id="L21" template="EKS_EVAL_L">
                                                  <facts argument="EXPRESSION">
                                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;TANFCFBHN&quot;"/>
                                                  </facts>
                                                </leftExpression>
                                                <rightExpression xsi:type="EM:Antecedent" id="L22" template="EKS_EVAL_L">
                                                  <facts argument="EXPRESSION">
                                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;UFC&quot;"/>
                                                  </facts>
                                                </rightExpression>
                                              </rightExpression>
                                            </rightExpression>
                                          </rightExpression>
                                        </rightExpression>
                                      </rightExpression>
                                    </rightExpression>
                                  </rightExpression>
                                </rightExpression>
                              </expression>
                            </rightExpression>
                          </rightExpression>
                        </expression>
                      </expression>
                    </leftExpression>
                    <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                      <leftExpression xsi:type="EM:GroupExpression">
                        <expression xsi:type="EM:GroupExpression">
                          <expression xsi:type="EM:InfixExpression">
                            <leftExpression xsi:type="EM:Antecedent" id="L23" template="EKS_ENCOUNTER_DETAIL_L">
                              <facts argument="ENC_DETAIL">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="ENCNTR_TYPE_CD\71"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="Encounter Type"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="QUAL">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="="/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="is listed"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="DETAIL_VALUE">
                                <value xsi:type="EM:ListValue">
                                  <values xsi:type="EM:ListValue">
                                    <values xsi:type="EM:CustomValue" hideDisplay="true">
                                      <customValue xsi:type="EM:StringValue" value="2716050871"/>
                                    </values>
                                    <values xsi:type="EM:StringValue" value="RECURRINGSA"/>
                                  </values>
                                </value>
                              </facts>
                              <facts argument="OPT_LINK">
                                <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                              </facts>
                            </leftExpression>
                            <rightExpression xsi:type="EM:InfixExpression">
                              <leftExpression xsi:type="EM:Antecedent" id="L24" template="EKS_ENCOUNTER_DETAIL_L">
                                <facts argument="ENC_DETAIL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="MED_SERVICE_CD\34"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="Medical Service"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="QUAL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="="/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="is listed"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="DETAIL_VALUE">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2716607761"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHCASEMANAGEMENT"/>
                                    </values>
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2716608703"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHCRISISSUPPORT"/>
                                    </values>
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2770495241"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHFIT"/>
                                    </values>
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2750638177"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHGROUP"/>
                                    </values>
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2741857163"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHINDIVIDUAL"/>
                                    </values>
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="2716621079"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="BHTANF"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="OPT_LINK">
                                  <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                                </facts>
                              </leftExpression>
                              <rightExpression xsi:type="EM:GroupExpression">
                                <expression xsi:type="EM:InfixExpression" operator="OR">
                                  <leftExpression xsi:type="EM:Antecedent" id="L25" template="EKS_EVAL_L">
                                    <facts argument="EXPRESSION">
                                      <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BCBHLSF&quot;"/>
                                    </facts>
                                  </leftExpression>
                                  <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                    <leftExpression xsi:type="EM:Antecedent" id="L26" template="EKS_EVAL_L">
                                      <facts argument="EXPRESSION">
                                        <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;CFBHN&quot;"/>
                                      </facts>
                                    </leftExpression>
                                    <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                      <leftExpression xsi:type="EM:Antecedent" id="L27" template="EKS_EVAL_L">
                                        <facts argument="EXPRESSION">
                                          <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;LSFRFP&quot;"/>
                                        </facts>
                                      </leftExpression>
                                      <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                        <leftExpression xsi:type="EM:Antecedent" id="L28" template="EKS_EVAL_L">
                                          <facts argument="EXPRESSION">
                                            <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;MATCFBHN&quot;"/>
                                          </facts>
                                        </leftExpression>
                                        <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                          <leftExpression xsi:type="EM:Antecedent" id="L29" template="EKS_EVAL_L">
                                            <facts argument="EXPRESSION">
                                              <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PASCOFIT&quot;"/>
                                            </facts>
                                          </leftExpression>
                                          <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                            <leftExpression xsi:type="EM:Antecedent" id="L30" template="EKS_EVAL_L">
                                              <facts argument="EXPRESSION">
                                                <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PDCFBHN&quot;"/>
                                              </facts>
                                            </leftExpression>
                                            <rightExpression xsi:type="EM:Antecedent" id="L31" template="EKS_EVAL_L">
                                              <facts argument="EXPRESSION">
                                                <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;TANFCFBHN&quot;"/>
                                              </facts>
                                            </rightExpression>
                                          </rightExpression>
                                        </rightExpression>
                                      </rightExpression>
                                    </rightExpression>
                                  </rightExpression>
                                </expression>
                              </rightExpression>
                            </rightExpression>
                          </expression>
                        </expression>
                      </leftExpression>
                      <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                        <leftExpression xsi:type="EM:GroupExpression">
                          <expression xsi:type="EM:GroupExpression">
                            <expression xsi:type="EM:InfixExpression">
                              <leftExpression xsi:type="EM:Antecedent" id="L32" template="EKS_ENCOUNTER_DETAIL_L">
                                <facts argument="ENC_DETAIL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="ENCNTR_TYPE_CD\71"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="Encounter Type"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="QUAL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="="/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="is listed"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="DETAIL_VALUE">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="CKI.CODEVALUE!3958"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="INPATIENT"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="OPT_LINK">
                                  <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                                </facts>
                              </leftExpression>
                              <rightExpression xsi:type="EM:InfixExpression">
                                <leftExpression xsi:type="EM:Antecedent" id="L33" template="EKS_ENCOUNTER_DETAIL_L">
                                  <facts argument="ENC_DETAIL">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="MED_SERVICE_CD\34"/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="Medical Service"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="QUAL">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="="/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="is listed"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="DETAIL_VALUE">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="2716608703"/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="BHCRISISSUPPORT"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="OPT_LINK">
                                    <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                                  </facts>
                                </leftExpression>
                                <rightExpression xsi:type="EM:GroupExpression">
                                  <expression xsi:type="EM:InfixExpression" operator="OR">
                                    <leftExpression xsi:type="EM:Antecedent" id="L34" template="EKS_EVAL_L">
                                      <facts argument="EXPRESSION">
                                        <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BCBHLSF&quot;"/>
                                      </facts>
                                    </leftExpression>
                                    <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                      <leftExpression xsi:type="EM:Antecedent" id="L35" template="EKS_EVAL_L">
                                        <facts argument="EXPRESSION">
                                          <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BNETCFBHN&quot;"/>
                                        </facts>
                                      </leftExpression>
                                      <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                        <leftExpression xsi:type="EM:Antecedent" id="L36" template="EKS_EVAL_L">
                                          <facts argument="EXPRESSION">
                                            <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;CFBHN&quot;"/>
                                          </facts>
                                        </leftExpression>
                                        <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                          <leftExpression xsi:type="EM:Antecedent" id="L37" template="EKS_EVAL_L">
                                            <facts argument="EXPRESSION">
                                              <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FACTCFBHN&quot;"/>
                                            </facts>
                                          </leftExpression>
                                          <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                            <leftExpression xsi:type="EM:Antecedent" id="L38" template="EKS_EVAL_L">
                                              <facts argument="EXPRESSION">
                                                <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FORENSICCFBHN&quot;"/>
                                              </facts>
                                            </leftExpression>
                                            <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                              <leftExpression xsi:type="EM:Antecedent" id="L39" template="EKS_EVAL_L">
                                                <facts argument="EXPRESSION">
                                                  <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;FORENSICLSF&quot;"/>
                                                </facts>
                                              </leftExpression>
                                              <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                                <leftExpression xsi:type="EM:Antecedent" id="L40" template="EKS_EVAL_L">
                                                  <facts argument="EXPRESSION">
                                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PATHCFBHN&quot;"/>
                                                  </facts>
                                                </leftExpression>
                                                <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                                  <leftExpression xsi:type="EM:Antecedent" id="L41" template="EKS_EVAL_L">
                                                    <facts argument="EXPRESSION">
                                                      <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;TANFCFBHN&quot;"/>
                                                    </facts>
                                                  </leftExpression>
                                                  <rightExpression xsi:type="EM:Antecedent" id="L42" template="EKS_EVAL_L">
                                                    <facts argument="EXPRESSION">
                                                      <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;VCFN&quot;"/>
                                                    </facts>
                                                  </rightExpression>
                                                </rightExpression>
                                              </rightExpression>
                                            </rightExpression>
                                          </rightExpression>
                                        </rightExpression>
                                      </rightExpression>
                                    </rightExpression>
                                  </expression>
                                </rightExpression>
                              </rightExpression>
                            </expression>
                          </expression>
                        </leftExpression>
                        <rightExpression xsi:type="EM:GroupExpression">
                          <expression xsi:type="EM:GroupExpression">
                            <expression xsi:type="EM:InfixExpression">
                              <leftExpression xsi:type="EM:Antecedent" id="L43" template="EKS_ENCOUNTER_DETAIL_L">
                                <facts argument="ENC_DETAIL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="ENCNTR_TYPE_CD\71"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="Encounter Type"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="QUAL">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="="/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="is listed"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="DETAIL_VALUE">
                                  <value xsi:type="EM:ListValue">
                                    <values xsi:type="EM:ListValue">
                                      <values xsi:type="EM:CustomValue" hideDisplay="true">
                                        <customValue xsi:type="EM:StringValue" value="CKI.CODEVALUE!3958"/>
                                      </values>
                                      <values xsi:type="EM:StringValue" value="INPATIENT"/>
                                    </values>
                                  </value>
                                </facts>
                                <facts argument="OPT_LINK">
                                  <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                                </facts>
                              </leftExpression>
                              <rightExpression xsi:type="EM:InfixExpression">
                                <leftExpression xsi:type="EM:Antecedent" id="L44" template="EKS_ENCOUNTER_DETAIL_L">
                                  <facts argument="ENC_DETAIL">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="MED_SERVICE_CD\34"/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="Medical Service"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="QUAL">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="="/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="is listed"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="DETAIL_VALUE">
                                    <value xsi:type="EM:ListValue">
                                      <values xsi:type="EM:ListValue">
                                        <values xsi:type="EM:CustomValue" hideDisplay="true">
                                          <customValue xsi:type="EM:StringValue" value="2716613915"/>
                                        </values>
                                        <values xsi:type="EM:StringValue" value="BHISUDETOX"/>
                                      </values>
                                    </value>
                                  </facts>
                                  <facts argument="OPT_LINK">
                                    <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
                                  </facts>
                                </leftExpression>
                                <rightExpression xsi:type="EM:GroupExpression">
                                  <expression xsi:type="EM:InfixExpression" operator="OR">
                                    <leftExpression xsi:type="EM:Antecedent" id="L45" template="EKS_EVAL_L">
                                      <facts argument="EXPRESSION">
                                        <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;BCBHLSF&quot;"/>
                                      </facts>
                                    </leftExpression>
                                    <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                      <leftExpression xsi:type="EM:Antecedent" id="L46" template="EKS_EVAL_L">
                                        <facts argument="EXPRESSION">
                                          <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;CFBHN&quot;"/>
                                        </facts>
                                      </leftExpression>
                                      <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                        <leftExpression xsi:type="EM:Antecedent" id="L47" template="EKS_EVAL_L">
                                          <facts argument="EXPRESSION">
                                            <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;LSFRFP&quot;"/>
                                          </facts>
                                        </leftExpression>
                                        <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                          <leftExpression xsi:type="EM:Antecedent" id="L48" template="EKS_EVAL_L">
                                            <facts argument="EXPRESSION">
                                              <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;MATCFBHN&quot;"/>
                                            </facts>
                                          </leftExpression>
                                          <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                            <leftExpression xsi:type="EM:Antecedent" id="L49" template="EKS_EVAL_L">
                                              <facts argument="EXPRESSION">
                                                <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PASCOFIT&quot;"/>
                                              </facts>
                                            </leftExpression>
                                            <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                              <leftExpression xsi:type="EM:Antecedent" id="L50" template="EKS_EVAL_L">
                                                <facts argument="EXPRESSION">
                                                  <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;PDCFBHN&quot;"/>
                                                </facts>
                                              </leftExpression>
                                              <rightExpression xsi:type="EM:InfixExpression" operator="OR">
                                                <leftExpression xsi:type="EM:Antecedent" id="L51" template="EKS_EVAL_L">
                                                  <facts argument="EXPRESSION">
                                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;TANFCFBHN&quot;"/>
                                                  </facts>
                                                </leftExpression>
                                                <rightExpression xsi:type="EM:Antecedent" id="L52" template="EKS_EVAL_L">
                                                  <facts argument="EXPRESSION">
                                                    <value xsi:type="EM:StringValue" value="&quot;@MISC:{findplan}&quot; = &quot;TANFCFBHN&quot;"/>
                                                  </facts>
                                                </rightExpression>
                                              </rightExpression>
                                            </rightExpression>
                                          </rightExpression>
                                        </rightExpression>
                                      </rightExpression>
                                    </rightExpression>
                                  </expression>
                                </rightExpression>
                              </rightExpression>
                            </expression>
                          </expression>
                        </rightExpression>
                      </rightExpression>
                    </rightExpression>
                  </expression>
                </rightExpression>
              </rightExpression>
            </rightExpression>
          </rightExpression>
        </rightExpression>
      </logicExpression>
    </logicSection>
    <actionSection>
      <action xsi:type="EM:ActionExpression">
        <logicExpression xsi:type="EM:Antecedent" id="A1" template="EKS_CE_CREATE_DATE_CE_A">
          <facts argument="STATUS">
            <value xsi:type="EM:ListValue">
              <values xsi:type="EM:ListValue">
                <values xsi:type="EM:CustomValue" hideDisplay="true">
                  <customValue xsi:type="EM:StringValue" value="CDF8:AUTH"/>
                </values>
                <values xsi:type="EM:StringValue" value="Auth (Verified)"/>
              </values>
            </value>
          </facts>
          <facts argument="EVENT_NAME">
            <value xsi:type="EM:ListValue">
              <values xsi:type="EM:ListValue">
                <values xsi:type="EM:CustomValue" hideDisplay="true">
                  <customValue xsi:type="EM:StringValue" value="2700879213.0"/>
                </values>
                <values xsi:type="EM:StringValue" value="EOC Admission Date/Time"/>
              </values>
            </value>
          </facts>
          <facts argument="ANCHOR_DT">
            <value xsi:type="EM:StringValue" value="@MISC:4"/>
          </facts>
          <facts argument="OPT_OFFSET_DAY">
            <value xsi:type="EM:StringValue"/>
          </facts>
          <facts argument="OPT_OFFSET_HOUR">
            <value xsi:type="EM:StringValue"/>
          </facts>
          <facts argument="OPT_OFFSET_MIN">
            <value xsi:type="EM:StringValue"/>
          </facts>
          <facts argument="LINK">
            <value xsi:type="EM:AntecedentReference" antecedent="//@ruleDefinition/@logicSection/@logicExpression/@leftExpression"/>
          </facts>
          <facts argument="OPT_COMMENT_TYPE">
            <value xsi:type="EM:StringValue"/>
          </facts>
          <facts argument="OPT_COMMENT">
            <value xsi:type="EM:StringValue"/>
          </facts>
          <facts argument="RESEND">
            <value xsi:type="EM:StringValue" value="do not"/>
          </facts>
          <facts argument="OPT_INHERIT_DYN_LABEL">
            <value xsi:type="EM:StringValue" value="Do not"/>
          </facts>
        </logicExpression>
      </action>
    </actionSection>
  </ruleDefinition>
</EM:ExpertModule>
